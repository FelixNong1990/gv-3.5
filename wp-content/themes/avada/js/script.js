// jQuery Validate
(function($){$.extend($.fn,{validate:function(options){if(!this.length){if(options&&options.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.");}return;}var validator=$.data(this[0],"validator");if(validator){return validator;}this.attr("novalidate","novalidate");validator=new $.validator(options,this[0]);$.data(this[0],"validator",validator);if(validator.settings.onsubmit){this.validateDelegate(":submit","click",function(event){if(validator.settings.submitHandler){validator.submitButton=event.target;}if($(event.target).hasClass("cancel")){validator.cancelSubmit=true;}});this.submit(function(event){if(validator.settings.debug){event.preventDefault();}function handle(){var hidden;if(validator.settings.submitHandler){if(validator.submitButton){hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val(validator.submitButton.value).appendTo(validator.currentForm);}validator.settings.submitHandler.call(validator,validator.currentForm,event);if(validator.submitButton){hidden.remove();}return false;}return true;}if(validator.cancelSubmit){validator.cancelSubmit=false;return handle();}if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false;}return handle();}else{validator.focusInvalid();return false;}});}return validator;},valid:function(){if($(this[0]).is("form")){return this.validate().form();}else{var valid=true;var validator=$(this[0].form).validate();this.each(function(){valid&=validator.element(this);});return valid;}},removeAttrs:function(attributes){var result={},$element=this;$.each(attributes.split(/\s/),function(index,value){result[value]=$element.attr(value);$element.removeAttr(value);});return result;},rules:function(command,argument){var element=this[0];if(command){var settings=$.data(element.form,"validator").settings;var staticRules=settings.rules;var existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));staticRules[element.name]=existingRules;if(argument.messages){settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages);}break;case"remove":if(!argument){delete staticRules[element.name];return existingRules;}var filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method];});return filtered;}}var data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element);if(data.required){var param=data.required;delete data.required;data=$.extend({required:param},data);}return data;}});$.extend($.expr[":"],{blank:function(a){return!$.trim(""+a.value);},filled:function(a){return!!$.trim(""+a.value);},unchecked:function(a){return!a.checked;}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init();};$.validator.format=function(source,params){if(arguments.length===1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args);};}if(arguments.length>2&&params.constructor!==Array){params=$.makeArray(arguments).slice(1);}if(params.constructor!==Array){params=[params];}$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n;});});return source;};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"invalid",validClass:"valid",errorElement:"em",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(element,event){this.lastActive=element;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);}this.addWrapper(this.errorsFor(element)).hide();}},onfocusout:function(element,event){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element);}},onkeyup:function(element,event){if(event.which===9&&this.elementValue(element)===""){return;}else if(element.name in this.submitted||element===this.lastElement){this.element(element);}},onclick:function(element,event){if(element.name in this.submitted){this.element(element);}else if(element.parentNode.name in this.submitted){this.element(element.parentNode);}},highlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).addClass(errorClass).removeClass(validClass).parent().addClass('state-error').removeClass('state-success');}else{$(element).addClass(errorClass).removeClass(validClass).parent().addClass('state-error').removeClass('state-success');}},unhighlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).removeClass(errorClass).addClass(validClass).parent().addClass('state-success').removeClass('state-error');}else{$(element).removeClass(errorClass).addClass(validClass).parent().addClass('state-success').removeClass('state-error');}}},setDefaults:function(settings){$.extend($.validator.defaults,settings);},messages:{required:"This field is required",remote:"Please fix this field",email:"Please enter a valid email address",url:"Please enter a valid URL",date:"Please enter a valid date",dateISO:"Please enter a valid date (ISO)",number:"Please enter a valid number",digits:"Please enter only digits",creditcard:"Please enter a valid credit card number",equalTo:"Please enter the same value again",maxlength:$.validator.format("Please enter no more than {0} characters"),minlength:$.validator.format("Please enter at least {0} characters"),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long"),range:$.validator.format("Please enter a value between {0} and {1}"),max:$.validator.format("Please enter a value less than or equal to {0}"),min:$.validator.format("Please enter a value greater than or equal to {0}")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var groups=(this.groups={});$.each(this.settings.groups,function(key,value){if(typeof value==="string"){value=value.split(/\s/);}$.each(value,function(index,name){groups[name]=key;});});var rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value);});function delegate(event){var validator=$.data(this[0].form,"validator"),eventType="on"+event.type.replace(/^validate/,"");if(validator.settings[eventType]){validator.settings[eventType].call(validator,this[0],event);}}$(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, "+"[type='number'], [type='search'] ,[type='tel'], [type='url'], "+"[type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], "+"[type='range'], [type='color'] ","focusin focusout keyup",delegate).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",delegate);if(this.settings.invalidHandler){$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);}},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this]);}this.showErrors();return this.valid();},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i]);}return this.valid();},element:function(element){element=this.validationTargetFor(this.clean(element));this.lastElement=element;this.prepareElement(element);this.currentElements=$(element);var result=this.check(element)!==false;if(result){delete this.invalid[element.name];}else{this.invalid[element.name]=true;}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}this.showErrors();return result;},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors);this.errorList=[];for(var name in errors){this.errorList.push({message:errors[name],element:this.findByName(name)[0]});}this.successList=$.grep(this.successList,function(element){return!(element.name in errors);});}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList);}else{this.defaultShowErrors();}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm();}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue");},numberOfInvalids:function(){return this.objectLength(this.invalid);},objectLength:function(obj){var count=0;for(var i in obj){count++;}return count;},hideErrors:function(){this.addWrapper(this.toHide).hide();},valid:function(){return this.size()===0;},size:function(){return this.errorList.length;},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin");}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name===lastActive.name;}).length===1&&lastActive;},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){if(!this.name&&validator.settings.debug&&window.console){console.error("%o has no name assigned",this);}if(this.name in rulesCache||!validator.objectLength($(this).rules())){return false;}rulesCache[this.name]=true;return true;});},clean:function(selector){return $(selector)[0];},errors:function(){var errorClass=this.settings.errorClass.replace(" ",".");return $(this.settings.errorElement+"."+errorClass,this.errorContext);},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([]);},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers);},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element);},elementValue:function(element){var type=$(element).attr("type"),val=$(element).val();if(type==="radio"||type==="checkbox"){return $("input[name='"+$(element).attr("name")+"']:checked").val();}if(typeof val==="string"){return val.replace(/\r/g,"");}return val;},check:function(element){element=this.validationTargetFor(this.clean(element));var rules=$(element).rules();var dependencyMismatch=false;var val=this.elementValue(element);var result;for(var method in rules){var rule={method:method,parameters:rules[method]};try{result=$.validator.methods[method].call(this,val,element,rule.parameters);if(result==="dependency-mismatch"){dependencyMismatch=true;continue;}dependencyMismatch=false;if(result==="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return;}if(!result){this.formatAndAdd(element,rule);return false;}}catch(e){if(this.settings.debug&&window.console){console.log("Exception occured when checking element "+element.id+", check the '"+rule.method+"' method.",e);}throw e;}}if(dependencyMismatch){return;}if(this.objectLength(rules)){this.successList.push(element);}return true;},customDataMessage:function(element,method){return $(element).data("msg-"+method.toLowerCase())||(element.attributes&&$(element).attr("data-msg-"+method.toLowerCase()));},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor===String?m:m[method]);},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined){return arguments[i];}}return undefined;},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customDataMessage(element,method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[method],"<strong>Warning: No message defined for "+element.name+"</strong>");},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method),theregex=/\$?\{(\d+)\}/g;if(typeof message==="function"){message=message.call(this,rule.parameters,element);}else if(theregex.test(message)){message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters);}this.errorList.push({message:message,element:element});this.errorMap[element.name]=message;this.submitted[element.name]=message;},addWrapper:function(toToggle){if(this.settings.wrapper){toToggle=toToggle.add(toToggle.parent(this.settings.wrapper));}return toToggle;},defaultShowErrors:function(){var i,elements;for(i=0;this.errorList[i];i++){var error=this.errorList[i];if(this.settings.highlight){this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);}this.showLabel(error.element,error.message);}if(this.errorList.length){this.toShow=this.toShow.add(this.containers);}if(this.settings.success){for(i=0;this.successList[i];i++){this.showLabel(this.successList[i]);}}if(this.settings.unhighlight){for(i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show();},validElements:function(){return this.currentElements.not(this.invalidElements());},invalidElements:function(){return $(this.errorList).map(function(){return this.element;});},showLabel:function(element,message){var label=this.errorsFor(element);if(label.length){label.removeClass(this.settings.validClass).addClass(this.settings.errorClass);label.html(message);}else{label=$("<"+this.settings.errorElement+">").attr("for",this.idOrName(element)).addClass(this.settings.errorClass).html(message||"");if(this.settings.wrapper){label=label.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();}if(!this.labelContainer.append(label).length){if(this.settings.errorPlacement){this.settings.errorPlacement(label,$(element));}else{label.insertAfter(element);}}}if(!message&&this.settings.success){label.text("");if(typeof this.settings.success==="string"){label.addClass(this.settings.success);}else{this.settings.success(label,element);}}this.toShow=this.toShow.add(label);},errorsFor:function(element){var name=this.idOrName(element);return this.errors().filter(function(){return $(this).attr("for")===name;});},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name);},validationTargetFor:function(element){if(this.checkable(element)){element=this.findByName(element.name).not(this.settings.ignore)[0];}return element;},checkable:function(element){return(/radio|checkbox/i).test(element.type);},findByName:function(name){return $(this.currentForm).find("[name='"+name+"']");},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element)){return this.findByName(element.name).filter(":checked").length;}}return value.length;},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true;},dependTypes:{"boolean":function(param,element){return param;},"string":function(param,element){return!!$(param,element.form).length;},"function":function(param,element){return param(element);}},optional:function(element){var val=this.elementValue(element);return!$.validator.methods.required.call(this,val,element)&&"dependency-mismatch";},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;this.pending[element.name]=true;}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0;}delete this.pending[element.name];if(valid&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false;}else if(!valid&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false;}},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,"remote")});}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){if(className.constructor===String){this.classRuleSettings[className]=rules;}else{$.extend(this.classRuleSettings,className);}},classRules:function(element){var rules={};var classes=$(element).attr("class");if(classes){$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this]);}});}return rules;},attributeRules:function(element){var rules={};var $element=$(element);for(var method in $.validator.methods){var value;if(method==="required"){value=$element.get(0).getAttribute(method);if(value===""){value=true;}value=!!value;}else{value=$element.attr(method);}if(value){rules[method]=value;}else if($element[0].getAttribute("type")===method){rules[method]=true;}}if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength;}return rules;},dataRules:function(element){var method,value,rules={},$element=$(element);for(method in $.validator.methods){value=$element.data("rule-"+method.toLowerCase());if(value!==undefined){rules[method]=value;}}return rules;},staticRules:function(element){var rules={};var validator=$.data(element.form,"validator");if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{};}return rules;},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return;}if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break;}if(keepRule){rules[prop]=val.param!==undefined?val.param:true;}else{delete rules[prop];}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter;});$.each(['minlength','maxlength'],function(){if(rules[this]){rules[this]=Number(rules[this]);}});$.each(['rangelength'],function(){var parts;if(rules[this]){if($.isArray(rules[this])){rules[this]=[Number(rules[this][0]),Number(rules[this][1])];}else if(typeof rules[this]==="string"){parts=rules[this].split(/[\s,]+/);rules[this]=[Number(parts[0]),Number(parts[1])];}}});if($.validator.autoCreateRanges){if(rules.min&&rules.max){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max;}if(rules.minlength&&rules.maxlength){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength;}}return rules;},normalizeRule:function(data){if(typeof data==="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true;});data=transformed;}return data;},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name));}},methods:{required:function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch";}if(element.nodeName.toLowerCase()==="select"){var val=$(element).val();return val&&val.length>0;}if(this.checkable(element)){return this.getLength(value,element)>0;}return $.trim(value).length>0;},remote:function(value,element,param){if(this.optional(element)){return"dependency-mismatch";}var previous=this.previousValue(element);if(!this.settings.messages[element.name]){this.settings.messages[element.name]={};}previous.originalMessage=this.settings.messages[element.name].remote;this.settings.messages[element.name].remote=previous.message;param=typeof param==="string"&&{url:param}||param;if(previous.old===value){return previous.valid;}previous.old=value;var validator=this;this.startRequest(element);var data={};data[element.name]=value;$.ajax($.extend(true,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,success:function(response){validator.settings.messages[element.name].remote=previous.originalMessage;var valid=response===true||response==="true";if(valid){var submitted=validator.formSubmitted;validator.prepareElement(element);validator.formSubmitted=submitted;validator.successList.push(element);delete validator.invalid[element.name];validator.showErrors();}else{var errors={};var message=response||validator.defaultMessage(element,"remote");errors[element.name]=previous.message=$.isFunction(message)?message(value):message;validator.invalid[element.name]=true;validator.showErrors(errors);}previous.valid=valid;validator.stopRequest(element,valid);}},param));return"pending";},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length>=param;},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length<=param;},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||(length>=param[0]&&length<=param[1]);},min:function(value,element,param){return this.optional(element)||value>=param;},max:function(value,element,param){return this.optional(element)||value<=param;},range:function(value,element,param){return this.optional(element)||(value>=param[0]&&value<=param[1]);},email:function(value,element){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(value);},url:function(value,element){return this.optional(element)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value);},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value).toString());},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(value);},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value);},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value);},creditcard:function(value,element){if(this.optional(element)){return"dependency-mismatch";}if(/[^0-9 \-]+/.test(value)){return false;}var nCheck=0,nDigit=0,bEven=false;value=value.replace(/\D/g,"");for(var n=value.length-1;n>=0;n--){var cDigit=value.charAt(n);nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9){nDigit-=9;}}nCheck+=nDigit;bEven=!bEven;}return(nCheck%10)===0;},equalTo:function(value,element,param){var target=$(param);if(this.settings.onfocusout){target.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(element).valid();});}return value===target.val();}}});$.format=$.validator.format;}(jQuery));(function($){var pendingRequests={};if($.ajaxPrefilter){$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;if(settings.mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}pendingRequests[port]=xhr;}});}else{var ajax=$.ajax;$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;if(mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}return(pendingRequests[port]=ajax.apply(this,arguments));}return ajax.apply(this,arguments);};}}(jQuery));(function($){$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate)){return handler.apply(target,arguments);}});}});}(jQuery));

// Select2
!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),r=-1,i=this.length;++r<i&&(n.context=n[0]=this[r])&&t.call(n[0],r,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(e){var t,n,r,i;if(!e||e.length<1)return e;for(t="",n=0,r=e.length;r>n;n++)i=e.charAt(n),t+=I[i]||i;return t}function r(e,t){for(var n=0,r=t.length;r>n;n+=1)if(s(e,t[n]))return n;return-1}function i(){var t=e(F);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function s(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function o(t,n){var r,i,s;if(null===t||t.length<1)return[];for(r=t.split(n),i=0,s=r.length;s>i;i+=1)r[i]=e.trim(r[i]);return r}function u(e){return e.outerWidth(!1)-e.width()}function a(n){var r="keyup-change-value";n.on("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())}),n.on("keyup",function(){var i=e.data(n,r);i!==t&&n.val()!==i&&(e.removeData(n,r),n.trigger("keyup-change"))})}function f(n){n.on("mousemove",function(n){var r=j;(r===t||r.x!==n.pageX||r.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function l(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,t)},e)}}function c(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function h(e,t){var n=l(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){r(e.target,t.get())>=0&&n(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],r=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(r,r):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function d(t){t=e(t)[0];var n=0,r=0;if("selectionStart"in t)n=t.selectionStart,r=t.selectionEnd-n;else if("selection"in document){t.focus();var i=document.selection.createRange();r=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),n=i.text.length-r}return{offset:n,length:r}}function v(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function g(t){if(!P){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);P=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),P.attr("class","select2-sizer"),e("body").append(P)}return P.text(t.val()),P.width()}function y(t,n,r){var i,s,o=[];i=t.attr("class"),i&&(i=""+i,e(i.split(" ")).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),i=n.attr("class"),i&&(i=""+i,e(i.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(s=r(this),s&&o.push(s))})),t.attr("class",o.join(" "))}function b(e,t,r,i){var s=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),o=t.length;return 0>s?(r.push(i(e)),void 0):(r.push(i(e.substring(0,s))),r.push("<span class='select2-match'>"),r.push(i(e.substring(s,s+o))),r.push("</span>"),r.push(i(e.substring(s+o,e.length))),void 0)}function w(e){var t={"\\":"&#92;","&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function E(n){var r,i=null,s=n.quietMillis||100,o=n.url,u=this;return function(a){window.clearTimeout(r),r=window.setTimeout(function(){var r=n.data,s=o,f=n.transport||e.fn.select2.ajaxDefaults.transport,l={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},c=e.extend({},e.fn.select2.ajaxDefaults.params,l);r=r?r.call(u,a.term,a.page,a.context):null,s="function"==typeof s?s.call(u,a.term,a.page,a.context):s,i&&i.abort(),n.params&&(e.isFunction(n.params)?e.extend(c,n.params.call(u)):e.extend(c,n.params)),e.extend(c,{url:s,dataType:n.dataType,data:r,success:function(e){var t=n.results(e,a.page);a.callback(t)}}),i=f.call(u,c)},s)}}function S(t){var n,r,i=t,s=function(e){return""+e.text};e.isArray(i)&&(r=i,i={results:r}),e.isFunction(i)===!1&&(r=i,i=function(){return r});var o=i();return o.text&&(s=o.text,e.isFunction(s)||(n=o.text,s=function(e){return e[n]})),function(t){var n,r=t.term,o={results:[]};return""===r?(t.callback(i()),void 0):(n=function(i,o){var u,a;if(i=i[0],i.children){u={};for(a in i)i.hasOwnProperty(a)&&(u[a]=i[a]);u.children=[],e(i.children).each2(function(e,t){n(t,u.children)}),(u.children.length||t.matcher(r,s(u),i))&&o.push(u)}else t.matcher(r,s(i),i)&&o.push(i)},e(i().results).each2(function(e,t){n(t,o.results)}),t.callback(o),void 0)}}function x(n){var r=e.isFunction(n);return function(i){var s=i.term,o={results:[]};e(r?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===s||i.matcher(s,n))&&o.results.push(e?this:{id:this,text:this})}),i.callback(o)}}function T(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(n+" must be a function or a falsy value")}function N(t){return e.isFunction(t)?t():t}function C(t){var n=0;return e.each(t,function(e,t){t.children?n+=C(t.children):n++}),n}function k(e,n,r,i){var o,u,a,f,l,c=e,h=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){for(u=-1,a=0,f=i.tokenSeparators.length;f>a&&(l=i.tokenSeparators[a],u=e.indexOf(l),!(u>=0));a++);if(0>u)break;if(o=e.substring(0,u),e=e.substring(u+l.length),o.length>0&&(o=i.createSearchChoice.call(this,o,n),o!==t&&null!==o&&i.id(o)!==t&&null!==i.id(o))){for(h=!1,a=0,f=n.length;f>a;a++)if(s(i.id(o),i.id(n[a]))){h=!0;break}h||r(o)}}return c!==e?e:void 0}function L(t,n){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=e.extend(r.prototype,n),r}if(window.Select2===t){var A,O,M,_,D,P,H,B,j={x:0,y:0},A={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case A.LEFT:case A.RIGHT:case A.UP:case A.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case A.SHIFT:case A.CTRL:case A.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},F="<div class='select2-measure-scrollbar'></div>",I={"â’¶":"A","ï¼¡":"A","Ã€":"A","Ã":"A","Ã‚":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ãƒ":"A","Ä€":"A","Ä‚":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã„":"A","Çž":"A","áº¢":"A","Ã…":"A","Çº":"A","Ç":"A","È€":"A","È‚":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸€":"A","Ä„":"A","Èº":"A","â±¯":"A","êœ²":"AA","Ã†":"AE","Ç¼":"AE","Ç¢":"AE","êœ´":"AO","êœ¶":"AU","êœ¸":"AV","êœº":"AV","êœ¼":"AY","â’·":"B","ï¼¢":"B","á¸‚":"B","á¸„":"B","á¸†":"B","Éƒ":"B","Æ‚":"B","Æ":"B","â’¸":"C","ï¼£":"C","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ã‡":"C","á¸ˆ":"C","Æ‡":"C","È»":"C","êœ¾":"C","â’¹":"D","ï¼¤":"D","á¸Š":"D","ÄŽ":"D","á¸Œ":"D","á¸":"D","á¸’":"D","á¸Ž":"D","Ä":"D","Æ‹":"D","ÆŠ":"D","Æ‰":"D","ê¹":"D","Ç±":"DZ","Ç„":"DZ","Ç²":"Dz","Ç…":"Dz","â’º":"E","ï¼¥":"E","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","á»€":"E","áº¾":"E","á»„":"E","á»‚":"E","áº¼":"E","Ä’":"E","á¸”":"E","á¸–":"E","Ä”":"E","Ä–":"E","Ã‹":"E","áºº":"E","Äš":"E","È„":"E","È†":"E","áº¸":"E","á»†":"E","È¨":"E","á¸œ":"E","Ä˜":"E","á¸˜":"E","á¸š":"E","Æ":"E","ÆŽ":"E","â’»":"F","ï¼¦":"F","á¸ž":"F","Æ‘":"F","ê»":"F","â’¼":"G","ï¼§":"G","Ç´":"G","Äœ":"G","á¸ ":"G","Äž":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ“":"G","êž ":"G","ê½":"G","ê¾":"G","â’½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","Èž":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","êž":"H","â’¾":"I","ï¼©":"I","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»ˆ":"I","Ç":"I","Èˆ":"I","ÈŠ":"I","á»Š":"I","Ä®":"I","á¸¬":"I","Æ—":"I","â’¿":"J","ï¼ª":"J","Ä´":"J","Éˆ":"J","â“€":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ˜":"K","â±©":"K","ê€":"K","ê‚":"K","ê„":"K","êž¢":"K","â“":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","êˆ":"L","ê†":"L","êž€":"L","Ç‡":"LJ","Çˆ":"Lj","â“‚":"M","ï¼­":"M","á¸¾":"M","á¹€":"M","á¹‚":"M","â±®":"M","Æœ":"M","â“ƒ":"N","ï¼®":"N","Ç¸":"N","Åƒ":"N","Ã‘":"N","á¹„":"N","Å‡":"N","á¹†":"N","Å…":"N","á¹Š":"N","á¹ˆ":"N","È ":"N","Æ":"N","êž":"N","êž¤":"N","ÇŠ":"NJ","Ç‹":"Nj","â“„":"O","ï¼¯":"O","Ã’":"O","Ã“":"O","Ã”":"O","á»’":"O","á»":"O","á»–":"O","á»”":"O","Ã•":"O","á¹Œ":"O","È¬":"O","á¹Ž":"O","ÅŒ":"O","á¹":"O","á¹’":"O","ÅŽ":"O","È®":"O","È°":"O","Ã–":"O","Èª":"O","á»Ž":"O","Å":"O","Ç‘":"O","ÈŒ":"O","ÈŽ":"O","Æ ":"O","á»œ":"O","á»š":"O","á» ":"O","á»ž":"O","á»¢":"O","á»Œ":"O","á»˜":"O","Çª":"O","Ç¬":"O","Ã˜":"O","Ç¾":"O","Æ†":"O","ÆŸ":"O","êŠ":"O","êŒ":"O","Æ¢":"OI","êŽ":"OO","È¢":"OU","â“…":"P","ï¼°":"P","á¹”":"P","á¹–":"P","Æ¤":"P","â±£":"P","ê":"P","ê’":"P","ê”":"P","â“†":"Q","ï¼±":"Q","ê–":"Q","ê˜":"Q","ÉŠ":"Q","â“‡":"R","ï¼²":"R","Å”":"R","á¹˜":"R","Å˜":"R","È":"R","È’":"R","á¹š":"R","á¹œ":"R","Å–":"R","á¹ž":"R","ÉŒ":"R","â±¤":"R","êš":"R","êž¦":"R","êž‚":"R","â“ˆ":"S","ï¼³":"S","áºž":"S","Åš":"S","á¹¤":"S","Åœ":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È˜":"S","Åž":"S","â±¾":"S","êž¨":"S","êž„":"S","â“‰":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","Èš":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","êž†":"T","êœ¨":"TZ","â“Š":"U","ï¼µ":"U","Ã™":"U","Ãš":"U","Ã›":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ãœ":"U","Ç›":"U","Ç—":"U","Ç•":"U","Ç™":"U","á»¦":"U","Å®":"U","Å°":"U","Ç“":"U","È”":"U","È–":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É„":"U","â“‹":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","êž":"V","É…":"V","ê ":"VY","â“Œ":"W","ï¼·":"W","áº€":"W","áº‚":"W","Å´":"W","áº†":"W","áº„":"W","áºˆ":"W","â±²":"W","â“":"X","ï¼¸":"X","áºŠ":"X","áºŒ":"X","â“Ž":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áºŽ":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","ÉŽ":"Y","á»¾":"Y","â“":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº’":"Z","áº”":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â“":"a","ï½":"a","áºš":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Äƒ":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","ÇŸ":"a","áº£":"a","Ã¥":"a","Ç»":"a","ÇŽ":"a","È":"a","Èƒ":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä…":"a","â±¥":"a","É":"a","êœ³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êœµ":"ao","êœ·":"au","êœ¹":"av","êœ»":"av","êœ½":"ay","â“‘":"b","ï½‚":"b","á¸ƒ":"b","á¸…":"b","á¸‡":"b","Æ€":"b","Æƒ":"b","É“":"b","â“’":"c","ï½ƒ":"c","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","Ã§":"c","á¸‰":"c","Æˆ":"c","È¼":"c","êœ¿":"c","â†„":"c","â““":"d","ï½„":"d","á¸‹":"d","Ä":"d","á¸":"d","á¸‘":"d","á¸“":"d","á¸":"d","Ä‘":"d","ÆŒ":"d","É–":"d","É—":"d","êº":"d","Ç³":"dz","Ç†":"dz","â“”":"e","ï½…":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»…":"e","á»ƒ":"e","áº½":"e","Ä“":"e","á¸•":"e","á¸—":"e","Ä•":"e","Ä—":"e","Ã«":"e","áº»":"e","Ä›":"e","È…":"e","È‡":"e","áº¹":"e","á»‡":"e","È©":"e","á¸":"e","Ä™":"e","á¸™":"e","á¸›":"e","É‡":"e","É›":"e","Ç":"e","â“•":"f","ï½†":"f","á¸Ÿ":"f","Æ’":"f","ê¼":"f","â“–":"g","ï½‡":"g","Çµ":"g","Ä":"g","á¸¡":"g","ÄŸ":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","êž¡":"g","áµ¹":"g","ê¿":"g","â“—":"h","ï½ˆ":"h","Ä¥":"h","á¸£":"h","á¸§":"h","ÈŸ":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº–":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ•":"hv","â“˜":"i","ï½‰":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»‰":"i","Ç":"i","È‰":"i","È‹":"i","á»‹":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â“™":"j","ï½Š":"j","Äµ":"j","Ç°":"j","É‰":"j","â“š":"k","ï½‹":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ™":"k","â±ª":"k","ê":"k","êƒ":"k","ê…":"k","êž£":"k","â“›":"l","ï½Œ":"l","Å€":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å‚":"l","Æš":"l","É«":"l","â±¡":"l","ê‰":"l","êž":"l","ê‡":"l","Ç‰":"lj","â“œ":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹ƒ":"m","É±":"m","É¯":"m","â“":"n","ï½Ž":"n","Ç¹":"n","Å„":"n","Ã±":"n","á¹…":"n","Åˆ":"n","á¹‡":"n","Å†":"n","á¹‹":"n","á¹‰":"n","Æž":"n","É²":"n","Å‰":"n","êž‘":"n","êž¥":"n","ÇŒ":"nj","â“ž":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»“":"o","á»‘":"o","á»—":"o","á»•":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹‘":"o","á¹“":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å‘":"o","Ç’":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»›":"o","á»¡":"o","á»Ÿ":"o","á»£":"o","á»":"o","á»™":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É”":"o","ê‹":"o","ê":"o","Éµ":"o","Æ£":"oi","È£":"ou","ê":"oo","â“Ÿ":"p","ï½":"p","á¹•":"p","á¹—":"p","Æ¥":"p","áµ½":"p","ê‘":"p","ê“":"p","ê•":"p","â“ ":"q","ï½‘":"q","É‹":"q","ê—":"q","ê™":"q","â“¡":"r","ï½’":"r","Å•":"r","á¹™":"r","Å™":"r","È‘":"r","È“":"r","á¹›":"r","á¹":"r","Å—":"r","á¹Ÿ":"r","É":"r","É½":"r","ê›":"r","êž§":"r","êžƒ":"r","â“¢":"s","ï½“":"s","ÃŸ":"s","Å›":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È™":"s","ÅŸ":"s","È¿":"s","êž©":"s","êž…":"s","áº›":"s","â“£":"t","ï½”":"t","á¹«":"t","áº—":"t","Å¥":"t","á¹­":"t","È›":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Êˆ":"t","â±¦":"t","êž‡":"t","êœ©":"tz","â“¤":"u","ï½•":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Çœ":"u","Ç˜":"u","Ç–":"u","Çš":"u","á»§":"u","Å¯":"u","Å±":"u","Ç”":"u","È•":"u","È—":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê‰":"u","â“¥":"v","ï½–":"v","á¹½":"v","á¹¿":"v","Ê‹":"v","êŸ":"v","ÊŒ":"v","ê¡":"vy","â“¦":"w","ï½—":"w","áº":"w","áºƒ":"w","Åµ":"w","áº‡":"w","áº…":"w","áº˜":"w","áº‰":"w","â±³":"w","â“§":"x","ï½˜":"x","áº‹":"x","áº":"x","â“¨":"y","ï½™":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº™":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â“©":"z","ï½š":"z","Åº":"z","áº‘":"z","Å¼":"z","Å¾":"z","áº“":"z","áº•":"z","Æ¶":"z","È¥":"z","É€":"z","â±¬":"z","ê£":"z"};H=e(document),D=function(){var e=1;return function(){return e++}}(),H.on("mousemove",function(e){j.x=e.pageX,j.y=e.pageY}),O=L(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,s,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+D()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=c(function(){return n.element.closest("body")}),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(N(n.containerCss)),this.container.addClass(N(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",v),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(N(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",v),this.results=r=this.container.find(o),this.search=s=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",v),f(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",o,this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var s=r.scrollTop();i>0&&0>=s-i?(r.scrollTop(0),v(e)):0>i&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),v(e))}),a(s),s.on("keyup-change input paste",this.bind(this.updateResults)),s.on("focus",function(){s.addClass("select2-focused")}),s.on("blur",function(){s.removeClass("select2-focused")}),this.dropdown.on("mouseup",o,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var u=n.element.prop("disabled");u===t&&(u=!1),this.enable(!u);var l=n.element.prop("readonly");l===t&&(l=!1),this.readonly(l),B=B||i(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==t&&(n.container.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:s(e.attr("locked"),"locked")||s(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var r,i,u,a,f=this;if(r=n.element,"select"===r.get(0).tagName.toLowerCase()&&(this.select=i=n.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(r,i,s){var o,u=this.opts.id;o=function(r,i,a){var l,c,h,p,d,v,m,g,y,b;for(r=n.sortResults(r,i,s),l=0,c=r.length;c>l;l+=1)h=r[l],d=h.disabled===!0,p=!d&&u(h)!==t,v=h.children&&h.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+a),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),d&&m.addClass("select2-disabled"),v&&m.addClass("select2-result-with-children"),m.addClass(f.opts.formatResultCssClass(h)),g=e(document.createElement("div")),g.addClass("select2-result-label"),b=n.formatResult(h,g,s,f.opts.escapeMarkup),b!==t&&g.html(b),m.append(g),v&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),o(h.children,y,a+1),m.append(y)),m.data("select2-data",h),i.append(m)},o(i,r,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(u=n.id,n.id=function(e){return e[u]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(i?(n.query=this.bind(function(e){var n,i,s,o={results:[],more:!1},u=e.term;s=function(t,n){var r;t.is("option")?e.matcher(u,t.text(),t)&&n.push(f.optionToData(t)):t.is("optgroup")&&(r=f.optionToData(t),t.children().each2(function(e,t){s(t,r.children)}),r.children.length>0&&n.push(r))},n=r.children(),this.getPlaceholder()!==t&&n.length>0&&(i=this.getPlaceholderOption(),i&&(n=n.not(i))),n.each2(function(e,t){s(t,o.results)}),e.callback(o)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(a=n.element.data("ajax-url"),a&&a.length>0&&(n.ajax.url=a),n.query=E.call(n.element,n.ajax)):"data"in n?n.query=S(n.data):"tags"in n&&(n.query=x(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,r){var i=[];e(o(t.val(),n.separator)).each(function(){var t={id:this,text:this},r=n.tags;e.isFunction(r)&&(r=r()),e(r).each(function(){return s(this.id,t.id)?(t=this,!1):void 0}),i.push(t)}),r(i)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,n,r=this.opts.element;r.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e=r.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=r.prop("readonly");n===t&&(n=!1),this.readonly(n),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(N(this.opts.containerCssClass)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(N(this.opts.dropdownCssClass))}),r.on("propertychange.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(this.mutationCallback),this.propertyObserver.observe(r.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){return e===t&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,r,i,s,o=this.dropdown,u=this.container.offset(),a=this.container.outerHeight(!1),f=this.container.outerWidth(!1),l=o.outerHeight(!1),c=e(window),h=c.width(),p=c.height(),d=c.scrollLeft()+h,v=c.scrollTop()+p,m=u.top+a,g=u.left,y=v>=m+l,b=u.top-l>=this.body().scrollTop(),w=o.outerWidth(!1),E=d>=g+w,S=o.hasClass("select2-drop-above");S?(n=!0,!b&&y&&(r=!0,n=!1)):(n=!1,!y&&b&&(r=!0,n=!0)),r&&(o.hide(),u=this.container.offset(),a=this.container.outerHeight(!1),f=this.container.outerWidth(!1),l=o.outerHeight(!1),d=c.scrollLeft()+h,v=c.scrollTop()+p,m=u.top+a,g=u.left,w=o.outerWidth(!1),E=d>=g+w,o.show()),this.opts.dropdownAutoWidth?(s=e(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),w=o.outerWidth(!1)+(s.scrollHeight===s.clientHeight?0:B.width),w>f?f=w:w=f,E=d>=g+w):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),m-=t.top,g-=t.left),E||(g=u.left+f-w),i={left:g,width:f},n?(i.bottom=p-u.top,i.top="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(i.top=m,i.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),i=e.extend(i,N(this.opts.dropdownCss)),o.css(i)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,n=this.containerId,r="scroll."+n,i="resize."+n,s="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(t){var n,r=e("#select2-drop");r.length>0&&(n=r.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close({focus:!0}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){e(this).on(i+" "+r+" "+s,function(){o.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,r="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(r).off(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return N(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,n,r,i,s,o,u,a=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return a.scrollTop(0),void 0;t=this.findHighlightableChoices().find(".select2-result-label"),r=e(t[n]),i=r.offset().top+r.outerHeight(!0),n===t.length-1&&(u=a.find("li.select2-more-results"),u.length>0&&(i=u.offset().top+u.outerHeight(!0))),s=a.offset().top+a.outerHeight(!0),i>s&&a.scrollTop(a.scrollTop()+(i-s)),o=r.offset().top-a.offset().top,0>o&&"none"!=r.css("display")&&a.scrollTop(a.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),r=this.highlight();r>-1&&r<n.length;){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(t){var n,i,s=this.findHighlightableChoices();return 0===arguments.length?r(s.filter(".select2-highlighted")[0],s.get()):(t>=s.length&&(t=s.length-1),0>t&&(t=0),this.removeHighlight(),n=e(s[t]),n.addClass("select2-highlighted"),this.ensureHighlightVisible(),i=n.data("select2-data"),i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),r=this.resultsPage+1,i=this,s=this.search.val(),o=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:r,context:o,matcher:this.opts.matcher,callback:this.bind(function(e){i.opened()&&(i.opts.populateResults.call(this,t,e.results,{term:s,page:r,context:o}),i.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(i.opts.formatLoadMore(r+1)),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):n.remove(),i.positionDropdown(),i.resultsPage=r,i.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function r(){f.removeClass("select2-active"),h.positionDropdown()}function i(e){l.html(e),r()}var o,u,a,f=this.search,l=this.results,c=this.opts,h=this,p=f.val(),d=e.data(this.container,"select2-last-term");if((n===!0||!d||!s(p,d))&&(e.data(this.container,"select2-last-term",p),n===!0||this.showSearchInput!==!1&&this.opened())){a=++this.queryCount;var v=this.getMaximumSelectionSize();if(v>=1&&(o=this.data(),e.isArray(o)&&o.length>=v&&T(c.formatSelectionTooBig,"formatSelectionTooBig")))return i("<li class='select2-selection-limit'>"+c.formatSelectionTooBig(v)+"</li>"),void 0;if(f.val().length<c.minimumInputLength)return T(c.formatInputTooShort,"formatInputTooShort")?i("<li class='select2-no-results'>"+c.formatInputTooShort(f.val(),c.minimumInputLength)+"</li>"):i(""),n&&this.showSearch&&this.showSearch(!0),void 0;if(c.maximumInputLength&&f.val().length>c.maximumInputLength)return T(c.formatInputTooLong,"formatInputTooLong")?i("<li class='select2-no-results'>"+c.formatInputTooLong(f.val(),c.maximumInputLength)+"</li>"):i(""),void 0;c.formatSearching&&0===this.findHighlightableChoices().length&&i("<li class='select2-searching'>"+c.formatSearching()+"</li>"),f.addClass("select2-active"),this.removeHighlight(),u=this.tokenize(),u!=t&&null!=u&&f.val(u),this.resultsPage=1,c.query({element:c.element,term:f.val(),page:this.resultsPage,context:null,matcher:c.matcher,callback:this.bind(function(o){var u;if(a==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==f.val()&&(u=this.opts.createSearchChoice.call(h,f.val(),o.results),u!==t&&null!==u&&h.id(u)!==t&&null!==h.id(u)&&0===e(o.results).filter(function(){return s(h.id(this),h.id(u))}).length&&o.results.unshift(u)),0===o.results.length&&T(c.formatNoMatches,"formatNoMatches"))return i("<li class='select2-no-results'>"+c.formatNoMatches(f.val())+"</li>"),void 0;l.empty(),h.opts.populateResults.call(this,l,o.results,{term:f.val(),page:this.resultsPage,context:null}),o.more===!0&&T(c.formatLoadMore,"formatLoadMore")&&(l.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(c.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),r(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),r=n.closest(".select2-result").data("select2-data");r?(this.highlight(t),this.onSelect(r,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){function n(){var n,r,i,s,o,u;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(r=n.split(";"),s=0,o=r.length;o>s;s+=1)if(u=r[s].replace(/\s/g,""),i=u.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==i&&i.length>=1)return i[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);null!==r&&this.container.css("width",r)}}),M=L(O,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,r,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),n=this.search.get(0),n.createTextRange?(r=n.createTextRange(),r.collapse(!1),r.select()):n.setSelectionRange&&(i=this.search.val().length,n.setSelectionRange(i,i)),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(e){this.opened()&&(this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=this.container,r=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+D()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===A.PAGE_UP||e.which===A.PAGE_DOWN)return v(e),void 0;switch(e.which){case A.UP:case A.DOWN:return this.moveHighlight(e.which===A.UP?-1:1),v(e),void 0;case A.ENTER:return this.selectHighlighted(),v(e),void 0;case A.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case A.ESC:return this.cancel(e),v(e),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==A.TAB&&!A.isControl(e)&&!A.isFunctionKey(e)&&e.which!==A.ESC){if(this.opts.openOnEnter===!1&&e.which===A.ENTER)return v(e),void 0;if(e.which==A.DOWN||e.which==A.UP||e.which==A.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),v(e),void 0}return e.which==A.DELETE||e.which==A.BACKSPACE?(this.opts.allowClear&&this.clear(),v(e),void 0):void 0}})),a(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),v(t)})),r.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){v(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var r=e.Event("select2-clearing");if(this.opts.element.trigger(r),r.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()?(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val():!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=e.find("option").filter(function(){return this.selected});t(n.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=n.val(),o=null;t.query({matcher:function(e,n,r){var u=s(i,t.id(r));return u&&(o=r),u},callback:e.isFunction(r)?function(){r(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var r=0,i=this;if(this.findHighlightableChoices().each2(function(e,t){return s(i.id(t.data("select2-data")),i.opts.element.val())?(r=e,!1):void 0}),n!==!1&&(t===!0&&r>=0?this.highlight(r):this.highlight(0)),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(C(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||this.focusser.focus(),s(n,this.id(e))||this.triggerChange({added:e,removed:r})}},updateSelection:function(e){var n,r,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),i.empty(),null!==e&&(n=this.opts.formatSelection(e,i,this.opts.escapeMarkup)),n!==t&&i.append(n),r=this.opts.formatSelectionCssClass(e,i),r!==t&&i.addClass(r),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,r=null,i=this,s=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return r=i.optionToData(t),!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange({added:r,removed:s});else{if(!e&&0!==e)return this.clear(n),void 0;if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),n&&i.triggerChange({added:e,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,r=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(arguments.length>1&&(r=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),r&&this.triggerChange({added:e,removed:n})):this.clear(r),void 0)}}),_=L(O,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=[];e.find("option").filter(function(){return this.selected}).each2(function(e,t){r.push(n.optionToData(t))}),t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=o(n.val(),t.separator),u=[];t.query({matcher:function(n,r,o){var a=e.grep(i,function(e){return s(e,t.id(o))}).length;return a&&u.push(o),a},callback:e.isFunction(r)?function(){for(var e=[],n=0;n<i.length;n++)for(var o=i[n],a=0;a<u.length;a++){var f=u[a];if(s(o,t.id(f))){e.push(f),u.splice(a,1);break}}r(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var r=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){r.search[0].focus(),r.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+D()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),r=n.prev(".select2-search-choice:not(.select2-locked)"),i=n.next(".select2-search-choice:not(.select2-locked)"),s=d(this.search);if(n.length&&(e.which==A.LEFT||e.which==A.RIGHT||e.which==A.BACKSPACE||e.which==A.DELETE||e.which==A.ENTER)){var o=n;return e.which==A.LEFT&&r.length?o=r:e.which==A.RIGHT?o=i.length?i:null:e.which===A.BACKSPACE?(this.unselect(n.first()),this.search.width(10),o=r.length?r:i):e.which==A.DELETE?(this.unselect(n.first()),this.search.width(10),o=i.length?i:null):e.which==A.ENTER&&(o=null),this.selectChoice(o),v(e),o&&o.length||this.open(),void 0}if((e.which===A.BACKSPACE&&1==this.keydowns||e.which==A.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),v(e),void 0;if(this.selectChoice(null),this.opened())switch(e.which){case A.UP:case A.DOWN:return this.moveHighlight(e.which===A.UP?-1:1),v(e),void 0;case A.ENTER:return this.selectHighlighted(),v(e),void 0;case A.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case A.ESC:return this.cancel(e),v(e),void 0}if(e.which!==A.TAB&&!A.isControl(e)&&!A.isFunctionKey(e)&&e.which!==A.BACKSPACE&&e.which!==A.ESC){if(e.which===A.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===A.PAGE_UP||e.which===A.PAGE_DOWN)&&v(e),e.which===A.ENTER&&v(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],i=[],s=this;e(t).each(function(){r(s.id(this),n)<0&&(n.push(s.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){s.addSelectedChoice(this)}),s.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var r,i,s=!n.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),u=e("<li class='select2-search-choice select2-locked'><div></div></li>"),a=s?o:u,f=this.id(n),l=this.getVal();r=this.opts.formatSelection(n,a.find("div"),this.opts.escapeMarkup),r!=t&&a.find("div").replaceWith("<div>"+r+"</div>"),i=this.opts.formatSelectionCssClass(n,a.find("div")),i!=t&&a.addClass(i),s&&a.find(".select2-search-choice-close").on("mousedown",v).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),v(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",n),a.insertBefore(this.searchContainer),l.push(f),this.setVal(l)},unselect:function(t){var n,i,s=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){for(;(i=r(this.id(n),s))>=0;)s.splice(i,1),this.setVal(s),this.select&&this.postprocessResults();var o=e.Event("select2-removing");o.val=this.id(n),o.choice=n,this.opts.element.trigger(o),o.isDefaultPrevented()||(t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},postprocessResults:function(e,t,n){var i=this.getVal(),s=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),u=this;s.each2(function(e,t){var n=u.id(t.data("select2-data"));r(n,i)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&u.highlight(0),!this.opts.createSearchChoice&&!s.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&T(u.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+u.opts.formatNoMatches(u.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-u(this.search)},resizeSearch:function(){var e,t,n,r,i,s=u(this.search);e=g(this.search)+10,t=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(t-r)-s,e>i&&(i=n-s),40>i&&(i=n-s),0>=i&&(i=e),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),o(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){r(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var r=0;r<e.length;r++)s(this.opts.id(t[n]),this.opts.id(e[r]))&&(t.splice(n,1),n>0&&n--,e.splice(r,1),r--);return{added:t,removed:e}},val:function(n,r){var i,s=this;if(0===arguments.length)return this.getVal();if(i=this.data(),i.length||(i=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),r&&this.triggerChange({added:this.data(),removed:i}),void 0;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,s.id);s.setVal(n),s.updateSelection(t),s.clearSearch(),r&&s.triggerChange(s.buildChangeDetails(i,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var r,i,s=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(i=this.data(),t||(t=[]),r=e.map(t,function(e){return s.opts.id(e)}),this.setVal(r),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(i,this.data())),void 0)}}),e.fn.select2=function(){var n,i,s,o,u,a=Array.prototype.slice.call(arguments,0),f=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],l=["opened","isFocused","container","dropdown"],c=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===a.length||"object"==typeof a[0])n=0===a.length?{}:e.extend({},a[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?u=n.element.prop("multiple"):(u=n.multiple||!1,"tags"in n&&(n.multiple=u=!0)),i=u?new _:new M,i.init(n);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(r(a[0],f)<0)throw"Unknown method: "+a[0];if(o=t,i=e(this).data("select2"),i===t)return;if(s=a[0],"container"===s?o=i.container:"dropdown"===s?o=i.dropdown:(h[s]&&(s=h[s]),o=i[s].apply(i,a.slice(1))),r(a[0],l)>=0||r(a[0],c)&&1==a.length)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,r){var i=[];return b(e.text,n.term,i,r),i.join("")},formatSelection:function(e,n,r){return e?r(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:k,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:E,local:S,tags:x},util:{debounce:l,markMatch:b,escapeMarkup:w,stripDiacritics:n},"class":{"abstract":O,single:M,multi:_}}}}(jQuery);

// Read more
(function(e){function t(t,s){this.element=t;this.options=e.extend({},r,s);e(this.element).data("max-height",this.options.maxHeight);delete this.options.maxHeight;if(this.options.embedCSS&&!i){var o=".readmore-js-toggle, .readmore-js-section { "+this.options.sectionCSS+" } .readmore-js-section { overflow: hidden; }",u=document.createElement("style");u.type="text/css";u.styleSheet?u.styleSheet.cssText=o:u.appendChild(document.createTextNode(o));document.getElementsByTagName("head")[0].appendChild(u);i=!0}this._defaults=r;this._name=n;this.init()}var n="readmore",r={speed:100,maxHeight:200,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,sectionCSS:"display: block; width: 100%;",beforeToggle:function(){},afterToggle:function(){}},i=!1;t.prototype={init:function(){var t=this;e(this.element).each(function(){var n=e(this),r=n.css("max-height").replace(/[^-\d\.]/g,"")>n.data("max-height")?n.css("max-height").replace(/[^-\d\.]/g,""):n.data("max-height");n.addClass("readmore-js-section");"none"!=n.css("max-height")&&n.css("max-height","none");n.data("boxHeight",n.outerHeight(!0));if(n.outerHeight(!0)<r)return!0;n.after(e(t.options.moreLink).on("click",function(e){t.toggleSlider(this,n,e)}).addClass("readmore-js-toggle"));n.data("sliderHeight",r);n.css({height:r})})},toggleSlider:function(t,n,r){r.preventDefault();var i=this,s=newLink="";r=!1;s=e(n).data("sliderHeight");e(n).height()==s?(s=e(n).data().boxHeight+"px",newLink="lessLink",r=!0):newLink="moreLink";i.options.beforeToggle(t,n,r);e(n).animate({height:s},{duration:i.options.speed});e(t).replaceWith(e(i.options[newLink]).on("click",function(e){i.toggleSlider(this,n,e)}).addClass("readmore-js-toggle"));i.options.afterToggle(t,n,r)}};e.fn[n]=function(r){var i=arguments;if(void 0===r||"object"===typeof r)return this.each(function(){e.data(this,"plugin_"+n)||e.data(this,"plugin_"+n,new t(this,r))});if("string"===typeof r&&"_"!==r[0]&&"init"!==r)return this.each(function(){var s=e.data(this,"plugin_"+n);s instanceof t&&"function"===typeof s[r]&&s[r].apply(s,Array.prototype.slice.call(i,1))})}})(jQuery);

// Owl Carousel
!function(a,b,c,d){function e(b,c){b.owlCarousel={name:"Owl Carousel",author:"Bartosz Wojciechowski",version:"2.0.0-beta.2.1"},this.options=a.extend({},l,c),this._options=a.extend({},l,this.options),this.itemData=a.extend({},m),this.dom=a.extend({},n),this.width=a.extend({},o),this.num=a.extend({},p),this.pos=a.extend({},q),this.drag=a.extend({},r),this.speed=a.extend({},s),this.state=a.extend({},t),this.e=a.extend({},u),this.plugins={},this.suppressedEvents={},this.dom.el=b,this.dom.$el=a(b);for(var d in e.Plugins)this.plugins[d]=new e.Plugins[d](this);this.init()}function f(a){var b,d,e=c.createElement("div"),f=a;for(b in f)if(d=f[b],"undefined"!=typeof e.style[d])return e=null,[d,b];return[!1]}function g(){return f(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function h(){return f(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function i(){return f(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function j(){return"ontouchstart"in b||!!navigator.msMaxTouchPoints}function k(){return b.navigator.msPointerEnabled}var l,m,n,o,p,q,r,s,t,u;l={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"},m={index:!1,indexAbs:!1,posLeft:!1,clone:!1,active:!1,loaded:!1,lazyLoad:!1,current:!1,width:!1,center:!1,page:!1,hasVideo:!1,playVideo:!1},n={el:null,$el:null,stage:null,$stage:null,oStage:null,$oStage:null,$items:null,$oItems:null,$cItems:null,$content:null},o={el:0,stage:0,item:0,prevWindow:0,cloneLast:0},p={items:0,oItems:0,cItems:0,active:0,merged:[]},q={start:0,max:0,maxValue:0,prev:0,current:0,currentAbs:0,stage:0,items:[],lsCurrent:0},r={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},s={onDragEnd:300,css2speed:0},t={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},u={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},e.Plugins={},e.prototype.init=function(){if(this.trigger("initialize"),this.dom.$el.hasClass(this.options.baseClass)||this.dom.$el.addClass(this.options.baseClass),this.dom.$el.hasClass(this.options.themeClass)||this.dom.$el.addClass(this.options.themeClass),this.options.rtl&&this.dom.$el.addClass("owl-rtl"),this.browserSupport(),this.sortOptions(),this.setResponsiveOptions(),this.options.autoWidth&&this.state.imagesLoaded!==!0){var a,b,c;if(a=this.dom.$el.find("img"),b=this.options.nestedItemSelector?"."+this.options.nestedItemSelector:d,c=this.dom.$el.children(b).width(),a.length&&0>=c)return this.preloadAutoWidthImages(a),!1}this.width.prevWindow=this.windowWidth(),this.createStage(),this.fetchContent(),this.eventsCall(),this.internalEvents(),this.dom.$el.addClass("owl-loading"),this.refresh(!0),this.dom.$el.removeClass("owl-loading").addClass("owl-loaded"),this.trigger("initialized"),this.addTriggerableEvents()},e.prototype.sortOptions=function(){var a,b,c,d,e=[];a=this.options.responsive,this.responsiveSorted={};for(b in a)e.push(b);for(e=e.sort(function(a,b){return a-b}),c=0;c<e.length;c++)d=e[c],this.responsiveSorted[d]=a[d]},e.prototype.setResponsiveOptions=function(){if(this.options.responsive===!1)return!1;var a,b,c,d,e;a=this.windowWidth(),resOpt=this.options.responsive;for(d in this._options)"responsive"!==d&&(this.options[d]=this._options[d]);for(b in this.responsiveSorted)if(a>=b){e=b;for(c in this.responsiveSorted[e])this.options[c]=this.responsiveSorted[e][c]}this.num.breakpoint=e,this.options.responsiveClass&&this.dom.$el.attr("class",function(a,b){return b.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+e)},e.prototype.optionsLogic=function(){this.dom.$el.toggleClass("owl-center",this.options.center),this.options.loop&&this.num.oItems<this.options.items&&(this.options.loop=!1),this.options.autoWidth&&(this.options.stagePadding=!1,this.options.merge=!1)},e.prototype.createStage=function(){var b=c.createElement("div"),d=c.createElement(this.options.stageElement);b.className="owl-stage-outer",d.className="owl-stage",b.appendChild(d),this.dom.el.appendChild(b),this.dom.oStage=b,this.dom.$oStage=a(b),this.dom.stage=d,this.dom.$stage=a(d),b=null,d=null},e.prototype.createItemContainer=function(){var b=c.createElement(this.options.itemElement);return b.className=this.options.itemClass,a(b)},e.prototype.fetchContent=function(b){this.dom.$content=b?b instanceof jQuery?b:a(b):this.options.nestedItemSelector?this.dom.$el.find("."+this.options.nestedItemSelector).not(".owl-stage-outer"):this.dom.$el.children().not(".owl-stage-outer"),this.num.oItems=this.dom.$content.length,0!==this.num.oItems&&this.initStructure()},e.prototype.initStructure=function(){this.createNormalStructure()},e.prototype.createNormalStructure=function(){var a,b;for(a=0;a<this.num.oItems;a++)b=this.createItemContainer(),this.initializeItemContainer(b,this.dom.$content[a]),this.dom.$stage.append(b);this.dom.$content=null},e.prototype.createCustomStructure=function(a){var b,c;for(b=0;a>b;b++)c=this.createItemContainer(),this.createItemContainerData(c),this.dom.$stage.append(c)},e.prototype.initializeItemContainer=function(a,b){this.trigger("change",{property:{name:"item",value:a}}),this.createItemContainerData(a),a.append(b),this.trigger("changed",{property:{name:"item",value:a}})},e.prototype.createItemContainerData=function(b,c){var d=a.extend({},this.itemData);c&&a.extend(d,c.data("owl-item")),b.data("owl-item",d)},e.prototype.cloneItemContainer=function(a){var b=a.clone(!0,!0).addClass("cloned");return this.createItemContainerData(b,b),b.data("owl-item").clone=!0,b},e.prototype.updateLocalContent=function(){var b,c;for(this.dom.$oItems=this.dom.$stage.find("."+this.options.itemClass).filter(function(){return a(this).data("owl-item").clone===!1}),this.num.oItems=this.dom.$oItems.length,b=0;b<this.num.oItems;b++)c=this.dom.$oItems.eq(b),c.data("owl-item").index=b},e.prototype.loopClone=function(){if(!this.options.loop||this.num.oItems<this.options.items)return!1;var b,c,d,e=this.options.items,f=this.num.oItems-1;for(this.options.stagePadding&&1===this.options.items&&(e+=1),this.num.cItems=2*e,d=0;e>d;d++)b=this.cloneItemContainer(this.dom.$oItems.eq(d)),c=this.cloneItemContainer(this.dom.$oItems.eq(f-d)),this.dom.$stage.append(b),this.dom.$stage.prepend(c);this.dom.$cItems=this.dom.$stage.find("."+this.options.itemClass).filter(function(){return a(this).data("owl-item").clone===!0})},e.prototype.reClone=function(){null!==this.dom.$cItems&&(this.dom.$cItems.remove(),this.dom.$cItems=null,this.num.cItems=0),this.options.loop&&this.loopClone()},e.prototype.calculate=function(){var a,b,c,d,e,f,g,h=0,i=0;for(this.width.el=this.dom.$el.width()-2*this.options.stagePadding,this.width.view=this.dom.$el.width(),c=this.width.el-this.options.margin*(1===this.options.items?0:this.options.items-1),this.width.el=this.width.el+this.options.margin,this.width.item=(c/this.options.items+this.options.margin).toFixed(3),this.dom.$items=this.dom.$stage.find(".owl-item"),this.num.items=this.dom.$items.length,this.options.autoWidth&&this.dom.$items.css("width",""),this.pos.items=[],this.num.merged=[],d=this.options.rtl?this.options.center?-(this.width.el/2):0:this.options.center?this.width.el/2:0,this.width.mergeStage=0,a=0;a<this.num.items;a++)this.options.merge?(g=this.dom.$items.eq(a).find("[data-merge]").attr("data-merge")||1,this.options.mergeFit&&g>this.options.items&&(g=this.options.items),this.num.merged.push(parseInt(g)),this.width.mergeStage+=this.width.item*this.num.merged[a]):this.num.merged.push(1),f=this.width.item*this.num.merged[a],this.options.autoWidth&&(f=this.dom.$items.eq(a).width()+this.options.margin,this.options.rtl?this.dom.$items[a].style.marginLeft=this.options.margin+"px":this.dom.$items[a].style.marginRight=this.options.margin+"px"),this.pos.items.push(d),this.dom.$items.eq(a).data("owl-item").posLeft=h,this.dom.$items.eq(a).data("owl-item").width=f,this.options.rtl?(d+=f,h+=f):(d-=f,h-=f),i-=Math.abs(f),this.options.center&&(this.pos.items[a]=this.options.rtl?this.pos.items[a]+f/2:this.pos.items[a]-f/2);for(this.width.stage=Math.abs(this.options.autoWidth?this.options.center?i:d:i),e=this.num.oItems+this.num.cItems,b=0;e>b;b++)this.dom.$items.eq(b).data("owl-item").indexAbs=b;this.setMinMax(),this.setSizes()},e.prototype.setMinMax=function(){var a,b,c;if(b=this.dom.$oItems.eq(0).data("owl-item").indexAbs,this.pos.min=0,this.pos.minValue=this.pos.items[b],this.options.loop||(this.pos.max=this.num.oItems-1),this.options.loop&&(this.pos.max=this.num.oItems+this.options.items),this.options.loop||this.options.center||(this.pos.max=this.num.oItems-this.options.items),this.options.loop&&this.options.center&&(this.pos.max=this.num.oItems+this.options.items),this.pos.maxValue=this.pos.items[this.pos.max],!this.options.loop&&!this.options.center&&this.options.autoWidth||this.options.merge&&!this.options.center){for(c=this.options.rtl?1:-1,a=0;a<this.pos.items.length;a++)this.pos.items[a]*c<this.width.stage-this.width.el&&(this.pos.max=a+1);this.pos.maxValue=this.options.rtl?this.width.stage-this.width.el:-(this.width.stage-this.width.el),this.pos.items[this.pos.max]=this.pos.maxValue}this.pos.loop=this.options.center?this.pos.items[0]-this.pos.items[this.num.oItems]:-this.pos.items[this.num.oItems],this.num.oItems<this.options.items&&!this.options.center&&(this.pos.max=0,this.pos.maxValue=this.pos.items[0])},e.prototype.setSizes=function(){this.options.stagePadding!==!1&&(this.dom.oStage.style.paddingLeft=this.options.stagePadding+"px",this.dom.oStage.style.paddingRight=this.options.stagePadding+"px"),this.options.rtl?b.setTimeout(a.proxy(function(){this.dom.stage.style.width=this.width.stage+"px"},this),0):this.dom.stage.style.width=this.width.stage+"px";for(var c=0;c<this.num.items;c++)this.options.autoWidth||(this.dom.$items[c].style.width=this.width.item-this.options.margin+"px"),this.options.rtl?this.dom.$items[c].style.marginLeft=this.options.margin+"px":this.dom.$items[c].style.marginRight=this.options.margin+"px",1===this.num.merged[c]||this.options.autoWidth||(this.dom.$items[c].style.width=this.width.item*this.num.merged[c]-this.options.margin+"px");this.width.stagePrev=this.width.stage},e.prototype.responsive=function(){if(!this.num.oItems)return!1;var a=this.isElWidthChanged();return a?this.trigger("resize").isDefaultPrevented()?!1:(this.state.responsive=!0,this.refresh(),this.state.responsive=!1,void this.trigger("resized")):!1},e.prototype.refresh=function(a){return this.trigger("refresh"),this.setResponsiveOptions(),this.updateLocalContent(),this.optionsLogic(),0===this.num.oItems?!1:(this.dom.$stage.addClass("owl-refresh"),this.reClone(),this.calculate(),this.dom.$stage.removeClass("owl-refresh"),a?this.initPosition():this.jumpTo(this.pos.current,!1),this.state.orientation=b.orientation,this.watchVisibility(),void this.trigger("refreshed"))},e.prototype.updateActiveItems=function(){this.trigger("change",{property:{name:"items",value:this.dom.$items}});var a,b,c,d,e,f,g;for(a=0;a<this.num.items;a++)this.dom.$items.eq(a).data("owl-item").active=!1,this.dom.$items.eq(a).data("owl-item").current=!1,this.dom.$items.eq(a).removeClass(this.options.activeClass).removeClass(this.options.centerClass);for(this.num.active=0,padding=2*this.options.stagePadding,stageX=this.pos.stage+padding,view=this.options.rtl?this.width.view:-this.width.view,b=0;b<this.num.items;b++)c=this.dom.$items.eq(b),d=c.data("owl-item").posLeft,e=c.data("owl-item").width,f=this.options.rtl?d-e-padding:d-e+padding,(this.op(d,"<=",stageX)&&this.op(d,">",stageX+view)||this.op(f,"<",stageX)&&this.op(f,">",stageX+view))&&(this.num.active++,this.options.freeDrag&&!g&&(g=!0,this.pos.current=c.data("owl-item").index,this.pos.currentAbs=c.data("owl-item").indexAbs),c.data("owl-item").active=!0,c.data("owl-item").current=!0,c.addClass(this.options.activeClass),this.options.lazyLoad||(c.data("owl-item").loaded=!0),this.options.loop&&this.updateClonedItemsState(c.data("owl-item").index));this.options.center&&(this.dom.$items.eq(this.pos.currentAbs).addClass(this.options.centerClass).data("owl-item").center=!0),this.trigger("changed",{property:{name:"items",value:this.dom.$items}})},e.prototype.updateClonedItemsState=function(a){var b,c,d;for(this.options.center&&(b=this.dom.$items.eq(this.pos.currentAbs).data("owl-item").index),d=0;d<this.num.items;d++)c=this.dom.$items.eq(d),c.data("owl-item").index===a&&(c.data("owl-item").current=!0,c.data("owl-item").index===b&&c.addClass(this.options.centerClass))},e.prototype.eventsCall=function(){this.e._onDragStart=a.proxy(function(a){this.onDragStart(a)},this),this.e._onDragMove=a.proxy(function(a){this.onDragMove(a)},this),this.e._onDragEnd=a.proxy(function(a){this.onDragEnd(a)},this),this.e._transitionEnd=a.proxy(function(a){this.transitionEnd(a)},this),this.e._resizer=a.proxy(function(){this.responsiveTimer()},this),this.e._responsiveCall=a.proxy(function(){this.responsive()},this),this.e._preventClick=a.proxy(function(a){this.preventClick(a)},this)},e.prototype.responsiveTimer=function(){return this.windowWidth()===this.width.prevWindow?!1:(b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this.e._responsiveCall,this.options.responsiveRefreshRate),void(this.width.prevWindow=this.windowWidth()))},e.prototype.internalEvents=function(){var a=j(),d=k();this.dragType=a&&!d?["touchstart","touchmove","touchend","touchcancel"]:a&&d?["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]:["mousedown","mousemove","mouseup"],(a||d)&&this.options.touchDrag?this.on(c,this.dragType[3],this.e._onDragEnd):(this.dom.$stage.on("dragstart",function(){return!1}),this.options.mouseDrag?this.dom.stage.onselectstart=function(){return!1}:this.dom.$el.addClass("owl-text-select-on")),this.transitionEndVendor&&this.on(this.dom.stage,this.transitionEndVendor,this.e._transitionEnd,!1),this.options.responsive!==!1&&this.on(b,"resize",this.e._resizer,!1),this.dragEvents()},e.prototype.dragEvents=function(){!this.options.touchDrag||"touchstart"!==this.dragType[0]&&"MSPointerDown"!==this.dragType[0]?this.options.mouseDrag&&"mousedown"===this.dragType[0]?this.on(this.dom.stage,this.dragType[0],this.e._onDragStart,!1):this.off(this.dom.stage,this.dragType[0],this.e._onDragStart):this.on(this.dom.stage,this.dragType[0],this.e._onDragStart,!1)},e.prototype.onDragStart=function(a){var d,e,f,g,h;if(d=a.originalEvent||a||b.event,3===d.which)return!1;if("mousedown"===this.dragType[0]&&this.dom.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.setSpeed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,e="touchstart"===d.type,f=e?a.targetTouches[0].pageX:d.pageX||d.clientX,g=e?a.targetTouches[0].pageY:d.pageY||d.clientY,this.drag.offsetX=this.dom.$stage.position().left-this.options.stagePadding,this.drag.offsetY=this.dom.$stage.position().top,this.options.rtl&&(this.drag.offsetX=this.dom.$stage.position().left+this.width.stage-this.width.el+this.options.margin),this.state.inMotion&&this.support3d)h=this.getTransformProperty(),this.drag.offsetX=h,this.animStage(h);else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=f-this.drag.offsetX,this.drag.startY=g-this.drag.offsetY,this.drag.start=f-this.drag.startX,this.drag.targetEl=d.target||d.srcElement,this.drag.updatedX=this.drag.start,("IMG"===this.drag.targetEl.tagName||"A"===this.drag.targetEl.tagName)&&(this.drag.targetEl.draggable=!1),this.on(c,this.dragType[1],this.e._onDragMove,!1),this.on(c,this.dragType[2],this.e._onDragEnd,!1)},e.prototype.onDragMove=function(a){var c,e,f,g,h,i,j;this.state.isTouch&&(this.state.isScrolling||(c=a.originalEvent||a||b.event,e="touchmove"==c.type,f=e?c.targetTouches[0].pageX:c.pageX||c.clientX,g=e?c.targetTouches[0].pageY:c.pageY||c.clientY,this.drag.currentX=f-this.drag.startX,this.drag.currentY=g-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.options.rtl?"right":"left":this.drag.distance>0&&(this.state.direction=this.options.rtl?"left":"right"),this.options.loop?this.op(this.drag.currentX,">",this.pos.minValue)&&"right"===this.state.direction?this.drag.currentX-=this.pos.loop:this.op(this.drag.currentX,"<",this.pos.maxValue)&&"left"===this.state.direction&&(this.drag.currentX+=this.pos.loop):(h=this.options.rtl?this.pos.maxValue:this.pos.minValue,i=this.options.rtl?this.pos.minValue:this.pos.maxValue,j=this.options.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,h+j),i+j)),(this.drag.distance>8||this.drag.distance<-8)&&(c.preventDefault!==d?c.preventDefault():c.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animStage(this.drag.updatedX)))},e.prototype.onDragEnd=function(){var a,b,d;if(this.state.isTouch){if("mousedown"===this.dragType[0]&&this.dom.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime(),a=this.drag.endTime-this.drag.startTime,b=Math.abs(this.drag.distance),(b>3||a>300)&&this.removeClick(this.drag.targetEl),d=this.closest(this.drag.updatedX),this.setSpeed(this.options.dragEndSpeed,!1,!0),this.animStage(this.pos.items[d]),this.options.pullDrag||this.drag.updatedX!==this.pos.items[d]||this.transitionEnd(),this.drag.distance=0,this.off(c,this.dragType[1],this.e._onDragMove),this.off(c,this.dragType[2],this.e._onDragEnd)}},e.prototype.removeClick=function(c){this.drag.targetEl=c,a(c).on("click.preventClick",this.e._preventClick),b.setTimeout(function(){a(c).off("click.preventClick")},300)},e.prototype.preventClick=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation&&b.stopPropagation(),a(b.target).off("click.preventClick")},e.prototype.getTransformProperty=function(){var a,c;return a=b.getComputedStyle(this.dom.stage,null).getPropertyValue(this.vendorName+"transform"),a=a.replace(/matrix(3d)?\(|\)/g,"").split(","),c=16===a.length,c!==!0?a[4]:a[12]},e.prototype.closest=function(a){var b,c=0,d=30;if(!this.options.freeDrag)for(b=0;b<this.num.items;b++)a>this.pos.items[b]-d&&a<this.pos.items[b]+d?c=b:this.op(a,"<",this.pos.items[b])&&this.op(a,">",this.pos.items[b+1||this.pos.items[b]-this.width.el])&&(c="left"===this.state.direction?b+1:b);return this.options.loop||(this.op(a,">",this.pos.minValue)?c=a=this.pos.min:this.op(a,"<",this.pos.maxValue)&&(c=a=this.pos.max)),this.options.freeDrag?a:(this.pos.currentAbs=c,this.pos.current=this.dom.$items.eq(c).data("owl-item").index,c)},e.prototype.animStage=function(b,c){b!==this.pos.stage&&c!==!0&&(this.trigger("translate"),this.state.inMotion=!0);var d=this.pos.stage=b,e=this.dom.stage.style;this.support3d?(translate="translate3d("+d+"px,0px, 0px)",e[this.transformVendor]=translate):this.state.isTouch?e.left=d+"px":this.dom.$stage.animate({left:d},this.speed.css2speed,this.options.fallbackEasing,a.proxy(function(){this.state.inMotion&&this.transitionEnd()},this)),this.onChange()},e.prototype.updatePosition=function(a){if(0===this.num.oItems||a===d)return!1;this.pos.prev=this.pos.currentAbs,this.state.revert||this.options.loop?this.state.revert||(a=a>=this.num.oItems?this.num.oItems-1:a):a=a>this.pos.max?this.pos.max:0>=a?0:a;var b=this.trigger("change",{property:{name:"position",value:a}});a=b.data?b.data:a,this.state.revert?(this.pos.current=this.dom.$items.eq(a).data("owl-item").index,this.pos.currentAbs=a):(this.pos.current=this.dom.$oItems.eq(a).data("owl-item").index,this.pos.currentAbs=this.dom.$oItems.eq(a).data("owl-item").indexAbs),this.trigger("changed",{property:{name:"position",value:a}})},e.prototype.setSpeed=function(a,b,c){var e,f,g=a,h=b;return(g===!1&&0!==g&&c!==!0||g===d)&&(e=Math.abs(h-this.pos.prev),e=0===e?1:e,e>6&&(e=6),g=e*this.options.smartSpeed),g===!1&&c===!0&&(g=this.options.smartSpeed),0===g&&(g=0),this.support3d?(f=this.dom.stage.style,f.webkitTransitionDuration=f.MsTransitionDuration=f.msTransitionDuration=f.MozTransitionDuration=f.OTransitionDuration=f.transitionDuration=g/1e3+"s"):this.speed.css2speed=g,this.speed.current=g,g},e.prototype.jumpTo=function(a,b){this.updatePosition(a),this.setSpeed(0),this.animStage(this.pos.items[this.pos.currentAbs],b)},e.prototype.to=function(c,d){if(this.options.loop){var e=c-this.pos.current,f=this.pos.currentAbs,g=this.pos.currentAbs,h=this.pos.currentAbs+e,i=0>g-h?!0:!1;this.state.revert=!0,h<this.options.items&&i===!1?(this.state.bypass=!0,f=this.num.items-(this.options.items-g)-this.options.items,this.jumpTo(f,!0)):h>=this.num.items-this.options.items&&i===!0&&(this.state.bypass=!0,f=g-this.num.oItems,this.jumpTo(f,!0)),b.clearTimeout(this.e._goToLoop),this.e._goToLoop=b.setTimeout(a.proxy(function(){this.state.bypass=!1,this.updatePosition(f+e),this.setSpeed(d,this.pos.currentAbs),this.animStage(this.pos.items[this.pos.currentAbs]),this.state.revert=!1},this),30)}else this.updatePosition(c),this.setSpeed(d,this.pos.currentAbs),this.animStage(this.pos.items[this.pos.currentAbs])},e.prototype.next=function(a){a=a||!1,this.to(this.pos.current+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.pos.current-1,a)},e.prototype.initPosition=function(){if(!this.dom.$oItems)return!1;var a=this.options.startPosition,b=this.trigger("change",{property:{name:"position",value:a}});a=b.data||a,"number"==typeof a&&this.options.center||(a=0),this.dom.oStage.scrollLeft=0,this.jumpTo(a,!0),this.trigger("changed",{property:{name:"position",value:a}})},e.prototype.transitionEnd=function(a){if(a!==d){a.stopPropagation();var b=a.target||a.srcElement||a.originalTarget;if(b!==this.dom.stage)return!1}this.state.inMotion=!1,this.trigger("translated")},e.prototype.isElWidthChanged=function(){var a=this.dom.$el.width()-this.options.stagePadding,b=this.width.el+this.options.margin;return a!==b},e.prototype.windowWidth=function(){return this.options.responsiveBaseElement!==b?this.width.window=a(this.options.responsiveBaseElement).width():b.innerWidth?this.width.window=b.innerWidth:c.documentElement&&c.documentElement.clientWidth&&(this.width.window=c.documentElement.clientWidth),this.width.window},e.prototype.insertContent=function(a){this.dom.$stage.empty(),this.fetchContent(a),this.refresh()},e.prototype.addItem=function(a,b){var c=this.createItemContainer();b=b||0,this.initializeItemContainer(c,a),0===this.dom.$oItems.length?this.dom.$stage.append(c):-1!==q?this.dom.$oItems.eq(b).before(c):this.dom.$oItems.eq(b).after(c),this.refresh()},e.prototype.removeItem=function(a){this.dom.$oItems.eq(a).remove(),this.refresh()},e.prototype.addTriggerableEvents=function(){var b=a.proxy(function(b,c){return a.proxy(function(){this.suppressedEvents[c]=!0,b.apply(this,[].slice.call(arguments,1)),delete this.suppressedEvents[c]},this)},this);a.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.insertContent,add:this.addItem,remove:this.removeItem},a.proxy(function(a,c){this.dom.$el.on(a+".owl.carousel",b(c,a+".owl.carousel"))},this))},e.prototype.watchVisibility=function(){function c(a){return a.offsetWidth>0&&a.offsetHeight>0}function d(){c(this.dom.el)&&(this.dom.$el.removeClass("owl-hidden"),this.refresh(),b.clearInterval(this.e._checkVisibile))}c(this.dom.el)||(this.dom.$el.addClass("owl-hidden"),b.clearInterval(this.e._checkVisibile),this.e._checkVisibile=b.setInterval(a.proxy(d,this),500))},e.prototype.onChange=function(){this.state.isTouch||this.state.bypass||(this.updateActiveItems(),this.storeInfo())},e.prototype.storeInfo=function(){this.info={items:this.options.items,allItems:this.num.oItems,currentPosition:this.pos.current,currentPage:this.pos.currentPage,allPages:this.num.allPages,windowWidth:this.width.window,elWidth:this.width.el,breakpoint:this.num.breakpoint},"function"==typeof this.options.info&&this.options.info.apply(this,[this.info,this.dom.el])},e.prototype.preloadAutoWidthImages=function(b){var c,d,e,f;c=0,d=this,b.each(function(g,h){e=a(h),f=new Image,f.onload=function(){c++,e.attr("src",f.src),e.css("opacity",1),c>=b.length&&(d.state.imagesLoaded=!0,d.init())},f.src=e.attr("src")||e.attr("data-src")||e.attr("data-src-retina")})},e.prototype.destroy=function(){this.dom.$el.hasClass(this.options.themeClass)&&this.dom.$el.removeClass(this.options.themeClass),this.options.responsive!==!1&&this.off(b,"resize",this.e._resizer),this.transitionEndVendor&&this.off(this.dom.stage,this.transitionEndVendor,this.e._transitionEnd);for(var a in this.plugins)this.plugins[a].destroy();(this.options.mouseDrag||this.options.touchDrag)&&(this.off(this.dom.stage,this.dragType[0],this.e._onDragStart),this.options.mouseDrag&&this.off(c,this.dragType[3],this.e._onDragStart),this.options.mouseDrag&&(this.dom.$stage.off("dragstart",function(){return!1}),this.dom.stage.onselectstart=function(){})),this.dom.$el.off(".owl"),null!==this.dom.$cItems&&this.dom.$cItems.remove(),this.e=null,this.dom.$el.data("owlCarousel",null),delete this.dom.el.owlCarousel,this.dom.$stage.unwrap(),this.dom.$items.unwrap(),this.dom.$items.contents().unwrap(),this.dom=null},e.prototype.op=function(a,b,c){var d=this.options.rtl;switch(b){case"<":return d?a>c:c>a;case">":return d?c>a:a>c;case">=":return d?c>=a:a>=c;case"<=":return d?a>=c:c>=a}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d){var e={item:{count:this.num.oItems,index:this.pos.current}},f=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),g=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend(e,c));return a.each(this.plugins,function(a,b){b.onTrigger&&b.onTrigger(g)}),this.suppressedEvents[g.type]||this.dom.$el.trigger(g),"function"==typeof this.options[f]&&this.options[f].apply(this,g),g},e.prototype.browserSupport=function(){if(this.support3d=i(),this.support3d){this.transformVendor=h();var a=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"];this.transitionEndVendor=a[g()],this.vendorName=this.transformVendor.replace(/Transform/i,""),this.vendorName=""!==this.vendorName?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=b.orientation},a.fn.owlCarousel=function(b){return this.each(function(){a(this).data("owlCarousel")||a(this).data("owlCarousel",new e(this,b))})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b){LazyLoad=function(b){this.owl=b,this.owl.options=a.extend({},LazyLoad.Defaults,this.owl.options),this.owl.options.lazyLoad&&(this.handlers={"changed.owl.carousel":a.proxy(function(a){"items"==a.property.name&&a.property.value&&!a.property.value.is(":empty")&&this.check()},this)},this.owl.dom.$el.on(this.handlers))},LazyLoad.Defaults={lazyLoad:!1},LazyLoad.prototype.check=function(){var a,c,d,e,f=b.devicePixelRatio>1?"data-src-retina":"data-src";for(d=0;d<this.owl.num.items;d++)e=this.owl.dom.$items.eq(d),e.data("owl-item").current===!0&&e.data("owl-item").loaded===!1&&(c=e.find(".owl-lazy"),a=c.attr(f),a=a||c.attr("data-src"),a&&(c.css("opacity","0"),this.preload(c,e)))},LazyLoad.prototype.preload=function(c,d){var e,f,g;c.each(a.proxy(function(c,h){this.owl.trigger("load",null,"lazy"),e=a(h),f=new Image,g=e.attr(b.devicePixelRatio>1?"data-src-retina":"data-src"),g=g||e.attr("data-src"),f.onload=a.proxy(function(){d.data("owl-item").loaded=!0,e.is("img")?e.attr("src",f.src):e.css("background-image","url("+f.src+")"),e.css("opacity",1),this.owl.trigger("loaded",null,"lazy")},this),f.src=g},this))},LazyLoad.prototype.destroy=function(){var a,b;for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.lazyLoad=LazyLoad}(window.Zepto||window.jQuery,window,document),function(a,b){AutoHeight=function(b){this.owl=b,this.owl.options=a.extend({},AutoHeight.Defaults,this.owl.options),this.handlers={"refreshed.owl.carousel changed.owl.carousel":a.proxy(function(){this.owl.options.autoHeight&&this.setHeight()},this)},this.owl.dom.$el.on(this.handlers)},AutoHeight.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},AutoHeight.prototype.setHeight=function(){var a,c=this.owl.dom.$items.eq(this.owl.pos.currentAbs),d=this.owl.dom.$oStage,e=0;this.owl.dom.$oStage.hasClass(this.owl.options.autoHeightClass)||this.owl.dom.$oStage.addClass(this.owl.options.autoHeightClass),a=b.setInterval(function(){e+=1,c.data("owl-item").loaded?(d.height(c.height()+"px"),clearInterval(a)):500===e&&clearInterval(a)},100)},AutoHeight.prototype.destroy=function(){var a,b;for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoHeight=AutoHeight}(window.Zepto||window.jQuery,window,document),function(a,b,c){Video=function(b){this.owl=b,this.owl.options=a.extend({},Video.Defaults,this.owl.options),this.handlers={"resize.owl.carousel":a.proxy(function(a){this.owl.options.video&&!this.isInFullScreen()&&a.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":a.proxy(function(){this.owl.state.videoPlay&&this.stopVideo()},this),"refresh.owl.carousel refreshed.owl.carousel":a.proxy(function(a){return this.owl.options.video?void(this.refreshing="refresh"==a.type):!1},this),"changed.owl.carousel":a.proxy(function(a){this.refreshing&&"items"==a.property.name&&a.property.value&&!a.property.value.is(":empty")&&this.checkVideoLinks()},this)},this.owl.dom.$el.on(this.handlers),this.owl.dom.$el.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.playVideo(a)},this))},Video.Defaults={video:!1,videoHeight:!1,videoWidth:!1},Video.prototype.checkVideoLinks=function(){var a,b,c;for(c=0;c<this.owl.num.items;c++)b=this.owl.dom.$items.eq(c),b.data("owl-item").hasVideo||(a=b.find(".owl-video"),a.length&&(this.owl.state.hasVideos=!0,this.owl.dom.$items.eq(c).data("owl-item").hasVideo=!0,a.css("display","none"),this.getVideoInfo(a,b)))},Video.prototype.getVideoInfo=function(a,b){var c,d,e,f,g=a.data("vimeo-id"),h=a.data("youtube-id"),i=a.data("width")||this.owl.options.videoWidth,j=a.data("height")||this.owl.options.videoHeight,k=a.attr("href");if(g)d="vimeo",e=g;else if(h)d="youtube",e=h;else{if(!k)throw new Error("Missing video link.");e=k.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),e[3].indexOf("youtu")>-1?d="youtube":e[3].indexOf("vimeo")>-1&&(d="vimeo"),e=e[6]}b.data("owl-item").videoType=d,b.data("owl-item").videoId=e,b.data("owl-item").videoWidth=i,b.data("owl-item").videoHeight=j,c={type:d,id:e},f=i&&j?'style="width:'+i+"px;height:"+j+'px;"':"",a.wrap('<div class="owl-video-wrapper"'+f+"></div>"),this.createVideoTn(a,c)},Video.prototype.createVideoTn=function(b,c){function d(a){f='<div class="owl-video-play-icon"></div>',e=k.options.lazyLoad?'<div class="owl-video-tn '+j+'" '+i+'="'+a+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+a+')"></div>',b.after(e),b.after(f)}var e,f,g,h=b.find("img"),i="src",j="",k=this.owl;return this.owl.options.lazyLoad&&(i="data-src",j="owl-lazy"),h.length?(d(h.attr(i)),h.remove(),!1):void("youtube"===c.type?(g="http://img.youtube.com/vi/"+c.id+"/hqdefault.jpg",d(g)):"vimeo"===c.type&&a.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){g=a[0].thumbnail_large,d(g),k.options.loop&&k.updateActiveItems()}}))},Video.prototype.stopVideo=function(){this.owl.trigger("stop",null,"video");var a=this.owl.dom.$items.eq(this.owl.state.videoPlayIndex);a.find(".owl-video-frame").remove(),a.removeClass("owl-video-playing"),this.owl.state.videoPlay=!1},Video.prototype.playVideo=function(b){this.owl.trigger("play",null,"video"),this.owl.state.videoPlay&&this.stopVideo();var c,d,e,f=a(b.target||b.srcElement),g=f.closest("."+this.owl.options.itemClass);e=g.data("owl-item").videoType,id=g.data("owl-item").videoId,width=g.data("owl-item").videoWidth||Math.floor(g.data("owl-item").width-this.owl.options.margin),height=g.data("owl-item").videoHeight||this.owl.dom.$stage.height(),"youtube"===e?c='<iframe width="'+width+'" height="'+height+'" src="http://www.youtube.com/embed/'+id+"?autoplay=1&v="+id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===e&&(c='<iframe src="http://player.vimeo.com/video/'+id+'?autoplay=1" width="'+width+'" height="'+height+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),g.addClass("owl-video-playing"),this.owl.state.videoPlay=!0,this.owl.state.videoPlayIndex=g.data("owl-item").indexAbs,d=a('<div style="height:'+height+"px; width:"+width+'px" class="owl-video-frame">'+c+"</div>"),f.after(d)},Video.prototype.isInFullScreen=function(){var d=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return d&&a(d.parentNode).hasClass("owl-video-frame")&&(this.owl.setSpeed(0),this.owl.state.isFullScreen=!0),d&&this.owl.state.isFullScreen&&this.owl.state.videoPlay?!1:this.owl.state.isFullScreen?(this.owl.state.isFullScreen=!1,!1):this.owl.state.videoPlay&&this.owl.state.orientation!==b.orientation?(this.owl.state.orientation=b.orientation,!1):!0},Video.prototype.destroy=function(){var a,b;this.owl.dom.$el.off("click.owl.video");for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.video=Video}(window.Zepto||window.jQuery,window,document),function(a){Animate=function(b){this.owl=b,this.owl.options=a.extend({},Animate.Defaults,this.owl.options),this.swapping=!0,(this.owl.options.animateIn||this.owl.options.animateOut)&&(this.handlers={"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){this.swapping="translated"==a.type},this),"translate.owl.carousel":a.proxy(function(){this.swapping&&this.swap()},this)},this.owl.dom.$el.on(this.handlers))},Animate.Defaults={animateOut:!1,animateIn:!1},Animate.prototype.swap=function(){if(1!==this.owl.options.items||!this.owl.support3d)return!1;this.owl.setSpeed(0);var b,c,d,e,f=this.owl.dom.$items.eq(this.owl.pos.prev),g=Math.abs(f.data("owl-item").width)*this.owl.pos.prev,h=this.owl.dom.$items.eq(this.owl.pos.currentAbs),i=Math.abs(h.data("owl-item").width)*this.owl.pos.currentAbs;return this.owl.pos.currentAbs===this.owl.pos.prev?!1:(b=i-g,c=this.owl.options.animateIn,d=this.owl.options.animateOut,e=this.owl,removeStyles=function(){a(this).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(c).removeClass(d),e.transitionEnd()},d&&f.css({left:b+"px"}).addClass("animated owl-animated-out "+d).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",removeStyles),void(c&&h.addClass("animated owl-animated-in "+c).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",removeStyles)))},Animate.prototype.destroy=function(){var a,b;for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.animate=Animate}(window.Zepto||window.jQuery,window,document),function(a,b,c){Autoplay=function(b){this.owl=b,this.owl.options=a.extend({},Autoplay.Defaults,this.owl.options),this.handlers={"translated.owl.carousel refreshed.owl.carousel":a.proxy(function(){this.autoplay()},this),"play.owl.autoplay":a.proxy(function(a,b,c){this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this.owl.options.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this.owl.options.autoplayHoverPause&&this.autoplay()},this)},this.owl.dom.$el.on(this.handlers)},Autoplay.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},Autoplay.prototype.autoplay=function(){this.owl.options.autoplay&&!this.owl.state.videoPlay?(b.clearInterval(this.apInterval),this.apInterval=b.setInterval(a.proxy(function(){this.play()},this),this.owl.options.autoplayTimeout)):(b.clearInterval(this.apInterval),this.autoplayState=!1)},Autoplay.prototype.play=function(a,d){return c.hidden===!0?!1:(this.owl.options.autoplay||(this.owl._options.autoplay=this.owl.options.autoplay=!0,this.owl._options.autoplayTimeout=this.owl.options.autoplayTimeout=a||this.owl.options.autoplayTimeout||4e3,this.owl._options.autoplaySpeed=d||this.owl.options.autoplaySpeed),this.owl.options.autoplay===!1||this.owl.state.isTouch||this.owl.state.isScrolling||this.owl.state.isSwiping||this.owl.state.inMotion?(b.clearInterval(this.apInterval),!1):(!this.owl.options.loop&&this.owl.pos.current>=this.owl.pos.max?(b.clearInterval(this.e._autoplay),this.owl.to(0)):this.owl.next(this.owl.options.autoplaySpeed),void(this.autoplayState=!0)))},Autoplay.prototype.stop=function(){this.owl._options.autoplay=this.owl.options.autoplay=!1,this.autoplayState=!1,b.clearInterval(this.apInterval)},Autoplay.prototype.pause=function(){b.clearInterval(this.apInterval)},Autoplay.prototype.destroy=function(){var a,c;b.clearInterval(this.apInterval);for(a in this.handlers)this.owl.dom.$el.off(a,this.handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=Autoplay}(window.Zepto||window.jQuery,window,document),function(a){"use strict";var b=function(c){return this.core=c,this.core.options=a.extend({},b.Defaults,this.core.options),this.refreshing=!1,this.initialized=!1,this.page=null,this.pages=[],this.controls={},this.template=null,this.$element=this.core.dom.$el,this.core.options.nav||this.core.options.dots?(this.handlers={"initialized.owl.carousel":a.proxy(function(){this.initialized||this.initialize()},this),"changed.owl.carousel":a.proxy(function(b){"items"==b.property.name&&this.initialized&&this.update(),this.filling&&(b.property.value.data("owl-item").dot=a(":first-child",b.property.value).find("[data-dot]").andSelf().data("dot"))},this),"change.owl.carousel":a.proxy(function(a){if("position"==a.property.name&&!this.core.state.revert&&!this.core.options.loop&&this.core.options.navRewind){var b=this.core.pos;a.data=a.property.value>b.max?b.current>=b.max?b.min:b.max:a.property.value<0?b.max:a.property.value}this.filling=this.core.options.dotsData&&"item"==a.property.name&&a.property.value&&a.property.value.is(":empty")},this),"refresh.owl.carousel refreshed.owl.carousel":a.proxy(function(a){this.refreshing="refresh"==a.type},this),"refreshed.owl.carousel":a.proxy(function(){this.initialized&&this.refresh()},this)},void this.$element.on(this.handlers)):!1};b.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"},b.prototype.initialize=function(){var b,c=this.core.options;this.refresh(),c.dotsData||(this.template=a("<div>").addClass(c.dotClass).append(a("<span>")).prop("outerHTML")),c.navContainer&&c.dotsContainer||(this.controls.$container=a("<div>").addClass(c.controlsClass).appendTo(this.$element)),c.dots&&(this.$indicators=c.dotsContainer?a(c.dotsContainer):a("<div>").addClass(c.dotsClass).appendTo(this.controls.$container),this.$indicators.on(this.core.dragType[2],"div",a.proxy(function(b){var d=a(b.target).parent().is(this.$indicators)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.core.to(this.pages[d].start,c.dotsSpeed)},this))),c.nav&&(b=c.navContainer?a(c.navContainer):a("<div>").addClass(c.navContainerClass).prependTo(this.controls.$container),this.controls.$next=a("<"+c.navElement+">"),this.controls.$previous=this.controls.$next.clone(),this.controls.$previous.addClass(c.navClass[0]).text(c.navText[0]).prependTo(b).on(this.core.dragType[2],a.proxy(function(){this.core.to(this.core.pos.current-c.slideBy)},this)),this.controls.$next.addClass(c.navClass[1]).text(c.navText[1]).appendTo(b).on(this.core.dragType[2],a.proxy(function(){this.core.to(this.core.pos.current+c.slideBy)},this))),this.update(),this.initialized=!0},b.prototype.destroy=function(){var a,b,c;for(a in this.handlers)this.$element.off(a,this.handlers[a]);for(b in this.controls)this.controls[b].remove();for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},b.prototype.refresh=function(){var a,b,c,d=this.core.options,e=this.core.num.cItems/2,f=this.core.num.items-e,g=this.core.num.oItems,h=d.center||d.autoWidth||d.dotData?1:d.dotsEach||d.items;if(d.nav&&(d.navRewind=g>d.items||d.center,d.slideBy=d.slideBy&&"page"===d.slideBy?d.items:Math.min(d.slideBy,d.items)),d.dots)for(this.pages=[],a=e,b=0,c=0;f>a;a++)(b>=h||0===b)&&(this.pages.push({start:a-e,end:a-e+h-1}),b=0,++c),b+=this.core.num.merged[a]},b.prototype.update=function(){var b,c,d="",e=this.core.options,f=this.core.dom.$oItems,g=this.core.pos.current;if(!e.nav||e.loop||e.navRewind||(this.controls.$previous.toggleClass("disabled",0>=g),this.controls.$next.toggleClass("disabled",g>=this.core.pos.max)),e.dots){if(b=this.pages.length-this.$indicators.children().length,this.page=a.grep(this.pages,function(a){return a.start<=g&&a.end>=g}).pop(),b>0){for(c=0;c<Math.abs(b);c++)d+=e.dotData?f.eq(c).data("owl-item").dot:this.template;this.$indicators.append(d)}else 0>b&&this.$indicators.children().slice(b).remove();this.$indicators.find(".active").removeClass("active"),this.$indicators.children().eq(this.pages.indexOf(this.page)%f.length).addClass("active")}},b.prototype.onTrigger=function(a){var b=this.core.options;a.page={index:this.pages.indexOf(this.page),count:this.pages.length,size:b.center||b.autoWidth||b.dotData?1:b.dotsEach||b.items}},a.fn.owlCarousel.Constructor.Plugins.Navigation=b}(window.Zepto||window.jQuery,window,document),function(a,b){"use strict";var c=function(d){return this.carousel=d,this.options=a.extend({},c.Defaults,this.carousel.options),this.hashes={},this.$element=this.carousel.dom.$el,this.options.URLhashListener?(this.handlers={"initialized.owl.carousel":a.proxy(function(){b.location.hash.substring(1)&&a(b).trigger("hashchange.owl.navigation")},this),"changed.owl.carousel":a.proxy(function(b){this.filling&&(b.property.value.data("owl-item").hash=a(":first-child",b.property.value).find("[data-hash]").andSelf().data("hash"),this.hashes[b.property.value.data("owl-item").hash]=b.property.value)},this),"change.owl.carousel":a.proxy(function(a){"position"==a.property.name&&"URLHash"==a.property.value&&(a.data=this.hashes[b.location.hash.substring(1)]),this.filling="item"==a.property.name&&a.property.value&&a.property.value.is(":empty")},this)},this.$element.on(this.handlers),void a(b).on("hashchange.owl.navigation",a.proxy(function(){var a=b.location.hash.substring(1),c=this.hashes[a]&&this.hashes[a].index()||0;return a?(this.carousel.dom.oStage.scrollLeft=0,void this.carousel.to(c)):!1},this))):!1};c.Defaults={URLhashListener:!1},c.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this.handlers)this.owl.dom.$el.off(c,this.handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=c}(window.Zepto||window.jQuery,window,document);

// Bootstrap Tokenfield
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=global.window&&global.window.$?a(global.window.$):function(b){if(!b.$&&!b.fn)throw new Error("Tokenfield requires a window object with jQuery or a jQuery instance");return a(b.$||b)}:a(jQuery)}(function(a,b){"use strict";var c=function(c,d){var e=this;this.$element=a(c),this.textDirection=this.$element.css("direction"),this.options=a.extend(!0,{},a.fn.tokenfield.defaults,{tokens:this.$element.val()},this.$element.data(),d),this._delimiters="string"==typeof this.options.delimiter?[this.options.delimiter]:this.options.delimiter,this._triggerKeys=a.map(this._delimiters,function(a){return a.charCodeAt(0)}),this._firstDelimiter=this._delimiters[0];var f=a.inArray(" ",this._delimiters),g=a.inArray("-",this._delimiters);f>=0&&(this._delimiters[f]="\\s"),g>=0&&(delete this._delimiters[g],this._delimiters.unshift("-"));var h=["\\","$","[","{","^",".","|","?","*","+","(",")"];a.each(this._delimiters,function(b,c){var d=a.inArray(c,h);d>=0&&(e._delimiters[b]="\\"+c)});var i,j=b&&"function"==typeof b.getMatchedCSSRules?b.getMatchedCSSRules(c):null,k=c.style.width,l=this.$element.width();j&&a.each(j,function(a,b){b.style.width&&(i=b.style.width)});var m="rtl"===a("body").css("direction")?"right":"left",n={position:this.$element.css("position")};n[m]=this.$element.css(m),this.$element.data("original-styles",n).data("original-tabindex",this.$element.prop("tabindex")).css("position","absolute").css(m,"-10000px").prop("tabindex",-1),this.$wrapper=a('<div class="tokenfield form-control" />'),this.$element.hasClass("input-lg")&&this.$wrapper.addClass("input-lg"),this.$element.hasClass("input-sm")&&this.$wrapper.addClass("input-sm"),"rtl"===this.textDirection&&this.$wrapper.addClass("rtl");var o=this.$element.prop("id")||(new Date).getTime()+""+Math.floor(100*(1+Math.random()));this.$input=a('<input type="text" class="token-input" autocomplete="off" />').appendTo(this.$wrapper).prop("placeholder",this.$element.prop("placeholder")).prop("id",o+"-tokenfield").prop("tabindex",this.$element.data("original-tabindex"));var p=a('label[for="'+this.$element.prop("id")+'"]');if(p.length&&p.prop("for",this.$input.prop("id")),this.$copyHelper=a('<input type="text" />').css("position","absolute").css(m,"-10000px").prop("tabindex",-1).prependTo(this.$wrapper),k?this.$wrapper.css("width",k):i?this.$wrapper.css("width",i):this.$element.parents(".form-inline").length&&this.$wrapper.width(l),(this.$element.prop("disabled")||this.$element.parents("fieldset[disabled]").length)&&this.disable(),this.$element.prop("readonly")&&this.readonly(),this.$mirror=a('<span style="position:absolute; top:-999px; left:0; white-space:pre;"/>'),this.$input.css("min-width",this.options.minWidth+"px"),a.each(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(a,b){e.$mirror[0].style[b]=e.$input.css(b)}),this.$mirror.appendTo("body"),this.$wrapper.insertBefore(this.$element),this.$element.prependTo(this.$wrapper),this.update(),this.setTokens(this.options.tokens,!1,!1),this.listen(),!a.isEmptyObject(this.options.autocomplete)){var q="rtl"===this.textDirection?"right":"left",r=a.extend({minLength:this.options.showAutocompleteOnFocus?0:null,position:{my:q+" top",at:q+" bottom",of:this.$wrapper}},this.options.autocomplete);this.$input.autocomplete(r)}if(!a.isEmptyObject(this.options.typeahead)){var s=this.options.typeahead,t={minLength:this.options.showAutocompleteOnFocus?0:null},u=a.isArray(s)?s:[s,s];u[0]=a.extend({},t,u[0]),this.$input.typeahead.apply(this.$input,u),this.typeahead=!0}this.$element.trigger("tokenfield:initialize")};c.prototype={constructor:c,createToken:function(b,c){var d=this;if("string"==typeof b&&(b={value:b,label:b}),"undefined"==typeof c&&(c=!0),b.value=a.trim(b.value),b.label=b.label&&b.label.length?a.trim(b.label):b.value,!(!b.value.length||!b.label.length||b.label.length<=this.options.minLength||this.options.limit&&this.getTokens().length>=this.options.limit)){var e=a.Event("tokenfield:createtoken",{attrs:b});if(this.$element.trigger(e),e.attrs&&!e.isDefaultPrevented()){var f=a('<div class="token" />').attr("data-value",b.value).append('<span class="token-label" />').append('<a href="#" class="close" tabindex="-1">&times;</a>');this.$input.hasClass("tt-input")?this.$input.parent().before(f):this.$input.before(f),this.$input.css("width",this.options.minWidth+"px");var g=f.find(".token-label"),h=f.find(".close");return this.maxTokenWidth||(this.maxTokenWidth=this.$wrapper.width()-h.outerWidth()-parseInt(h.css("margin-left"),10)-parseInt(h.css("margin-right"),10)-parseInt(f.css("border-left-width"),10)-parseInt(f.css("border-right-width"),10)-parseInt(f.css("padding-left"),10)-parseInt(f.css("padding-right"),10),parseInt(g.css("border-left-width"),10)-parseInt(g.css("border-right-width"),10)-parseInt(g.css("padding-left"),10)-parseInt(g.css("padding-right"),10),parseInt(g.css("margin-left"),10)-parseInt(g.css("margin-right"),10)),g.text(b.label).css("max-width",this.maxTokenWidth),f.on("mousedown",function(){return d._disabled||d._readonly?!1:(d.preventDeactivation=!0,void 0)}).on("click",function(a){return d._disabled||d._readonly?!1:(d.preventDeactivation=!1,a.ctrlKey||a.metaKey?(a.preventDefault(),d.toggle(f)):(d.activate(f,a.shiftKey,a.shiftKey),void 0))}).on("dblclick",function(){return d._disabled||d._readonly||!d.options.allowEditing?!1:(d.edit(f),void 0)}),h.on("click",a.proxy(this.remove,this)),this.$element.trigger(a.Event("tokenfield:createdtoken",{attrs:b,relatedTarget:f.get(0)})),c&&this.$element.val(this.getTokensList()).trigger(a.Event("change",{initiator:"tokenfield"})),this.update(),this.$element.get(0)}}},setTokens:function(b,c,d){if(b){c||this.$wrapper.find(".token").remove(),"undefined"==typeof d&&(d=!0),"string"==typeof b&&(b=this._delimiters.length?b.split(new RegExp("["+this._delimiters.join("")+"]")):[b]);var e=this;return a.each(b,function(a,b){e.createToken(b,d)}),this.$element.get(0)}},getTokenData:function(b){var c=b.map(function(){var b=a(this);return{value:b.attr("data-value"),label:b.find(".token-label").text()}}).get();return 1==c.length&&(c=c[0]),c},getTokens:function(b){var c=this,d=[],e=b?".active":"";return this.$wrapper.find(".token"+e).each(function(){d.push(c.getTokenData(a(this)))}),d},getTokensList:function(b,c,d){b=b||this._firstDelimiter,c="undefined"!=typeof c&&null!==c?c:this.options.beautify;var e=b+(c&&" "!==b?" ":"");return a.map(this.getTokens(d),function(a){return a.value}).join(e)},getInput:function(){return this.$input.val()},listen:function(){var c=this;this.$element.on("change",a.proxy(this.change,this)),this.$wrapper.on("mousedown",a.proxy(this.focusInput,this)),this.$input.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("paste",a.proxy(this.paste,this)).on("keydown",a.proxy(this.keydown,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.$copyHelper.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keydown",a.proxy(this.keydown,this)).on("keyup",a.proxy(this.keyup,this)),this.$input.on("keypress",a.proxy(this.update,this)).on("keyup",a.proxy(this.update,this)),this.$input.on("autocompletecreate",function(){var b=a(this).data("ui-autocomplete").menu.element,d=c.$wrapper.outerWidth()-parseInt(b.css("border-left-width"),10)-parseInt(b.css("border-right-width"),10);b.css("min-width",d+"px")}).on("autocompleteselect",function(a,b){return c.createToken(b.item)&&(c.$input.val(""),c.$input.data("edit")&&c.unedit(!0)),!1}).on("typeahead:selected typeahead:autocompleted",function(a,b){c.createToken(b)&&(c.$input.typeahead("val",""),c.$input.data("edit")&&c.unedit(!0))}),a(b).on("resize",a.proxy(this.update,this))},keydown:function(b){function c(a){if(e.$input.is(document.activeElement)){if(e.$input.val().length>0)return;a+="All";var c=e.$input.hasClass("tt-input")?e.$input.parent()[a](".token:first"):e.$input[a](".token:first");if(!c.length)return;e.preventInputFocus=!0,e.preventDeactivation=!0,e.activate(c),b.preventDefault()}else e[a](b.shiftKey),b.preventDefault()}function d(c){if(b.shiftKey){if(e.$input.is(document.activeElement)){if(e.$input.val().length>0)return;var d=e.$input.hasClass("tt-input")?e.$input.parent()[c+"All"](".token:first"):e.$input[c+"All"](".token:first");if(!d.length)return;e.activate(d)}var f="prev"===c?"next":"prev",g="prev"===c?"first":"last";e.firstActiveToken[f+"All"](".token").each(function(){e.deactivate(a(this))}),e.activate(e.$wrapper.find(".token:"+g),!0,!0),b.preventDefault()}}if(this.focused){var e=this;switch(b.keyCode){case 8:if(!this.$input.is(document.activeElement))break;this.lastInputValue=this.$input.val();break;case 37:c("rtl"===this.textDirection?"next":"prev");break;case 38:d("prev");break;case 39:c("rtl"===this.textDirection?"prev":"next");break;case 40:d("next");break;case 65:if(this.$input.val().length>0||!b.ctrlKey&&!b.metaKey)break;this.activateAll(),b.preventDefault();break;case 9:case 13:if(this.$input.data("ui-autocomplete")&&this.$input.data("ui-autocomplete").menu.element.find("li:has(a.ui-state-focus)").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-cursor").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-hint").val().length)break;if(this.$input.is(document.activeElement)&&this.$input.val().length||this.$input.data("edit"))return this.createTokensFromInput(b,this.$input.data("edit"));if(13===b.keyCode){if(!this.$copyHelper.is(document.activeElement)||1!==this.$wrapper.find(".token.active").length)break;if(!e.options.allowEditing)break;this.edit(this.$wrapper.find(".token.active"))}}this.lastKeyDown=b.keyCode}},keypress:function(b){return this.lastKeyPressCode=b.keyCode,this.lastKeyPressCharCode=b.charCode,-1!==a.inArray(b.charCode,this._triggerKeys)&&this.$input.is(document.activeElement)?(this.$input.val()&&this.createTokensFromInput(b),!1):void 0},keyup:function(a){if(this.preventInputFocus=!1,this.focused){switch(a.keyCode){case 8:if(this.$input.is(document.activeElement)){if(this.$input.val().length||this.lastInputValue.length&&8===this.lastKeyDown)break;this.preventDeactivation=!0;var b=this.$input.hasClass("tt-input")?this.$input.parent().prevAll(".token:first"):this.$input.prevAll(".token:first");if(!b.length)break;this.activate(b)}else this.remove(a);break;case 46:this.remove(a,"next")}this.lastKeyUp=a.keyCode}},focus:function(){this.focused=!0,this.$wrapper.addClass("focus"),this.$input.is(document.activeElement)&&(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null,this.options.showAutocompleteOnFocus&&this.search())},blur:function(a){this.focused=!1,this.$wrapper.removeClass("focus"),this.preventDeactivation||this.$element.is(document.activeElement)||(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null),!this.preventCreateTokens&&(this.$input.data("edit")&&!this.$input.is(document.activeElement)||this.options.createTokensOnBlur)&&this.createTokensFromInput(a),this.preventDeactivation=!1,this.preventCreateTokens=!1},paste:function(a){var b=this;setTimeout(function(){b.createTokensFromInput(a)},1)},change:function(a){"tokenfield"!==a.initiator&&this.setTokens(this.$element.val())},createTokensFromInput:function(a,b){if(!(this.$input.val().length<this.options.minLength)){var c=this.getTokensList();return this.setTokens(this.$input.val(),!0),c==this.getTokensList()&&this.$input.val().length?!1:(this.$input.hasClass("tt-input")?this.$input.typeahead("val",""):this.$input.val(""),this.$input.data("edit")&&this.unedit(b),!1)}},next:function(a){if(a){var b=this.$wrapper.find(".active:first"),c=b&&this.$firstActiveToken?b.index()<this.$firstActiveToken.index():!1;if(c)return this.deactivate(b)}var d=this.$wrapper.find(".active:last"),e=d.nextAll(".token:first");return e.length?(this.activate(e,a),void 0):(this.$input.focus(),void 0)},prev:function(a){if(a){var b=this.$wrapper.find(".active:last"),c=b&&this.$firstActiveToken?b.index()>this.$firstActiveToken.index():!1;if(c)return this.deactivate(b)}var d=this.$wrapper.find(".active:first"),e=d.prevAll(".token:first");return e.length||(e=this.$wrapper.find(".token:first")),e.length||a?(this.activate(e,a),void 0):(this.$input.focus(),void 0)},activate:function(b,c,d,e){if(b){if("undefined"==typeof e)var e=!0;if(d)var c=!0;if(this.$copyHelper.focus(),c||(this.$wrapper.find(".active").removeClass("active"),e?this.$firstActiveToken=b:delete this.$firstActiveToken),d&&this.$firstActiveToken){var f=this.$firstActiveToken.index()-2,g=b.index()-2,h=this;this.$wrapper.find(".token").slice(Math.min(f,g)+1,Math.max(f,g)).each(function(){h.activate(a(this),!0)})}b.addClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select()}},activateAll:function(){var b=this;this.$wrapper.find(".token").each(function(c){b.activate(a(this),0!==c,!1,!1)})},deactivate:function(a){a&&(a.removeClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select())},toggle:function(a){a&&(a.toggleClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select())},edit:function(b){if(b){var c={value:b.data("value"),label:b.find(".token-label").text()},d={attrs:c,relatedTarget:b.get(0)},e=a.Event("tokenfield:edittoken",d);if(this.$element.trigger(e),!e.isDefaultPrevented()){b.find(".token-label").text(c.value);var f=b.outerWidth(),g=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;b.replaceWith(g),this.preventCreateTokens=!0,this.$input.val(c.value).select().data("edit",!0).width(f),this.update(),this.$element.trigger(a.Event("tokenfield:editedtoken",d))}}},unedit:function(a){var b=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;if(b.appendTo(this.$wrapper),this.$input.data("edit",!1),this.$mirror.text(""),this.update(),a){var c=this;setTimeout(function(){c.$input.focus()},1)}},remove:function(b,c){if(!(this.$input.is(document.activeElement)||this._disabled||this._readonly)){var d="click"===b.type?a(b.target).closest(".token"):this.$wrapper.find(".token.active");if("click"!==b.type){if(!c)var c="prev";if(this[c](),"prev"===c)var e=0===d.first().prevAll(".token:first").length}var f={attrs:this.getTokenData(d),relatedTarget:d.get(0)},g=a.Event("tokenfield:removetoken",f);if(this.$element.trigger(g),!g.isDefaultPrevented()){var h=a.Event("tokenfield:removedtoken",f),i=a.Event("change",{initiator:"tokenfield"});d.remove(),this.$element.val(this.getTokensList()).trigger(h).trigger(i),(!this.$wrapper.find(".token").length||"click"===b.type||e)&&this.$input.focus(),this.$input.css("width",this.options.minWidth+"px"),this.update(),b.preventDefault(),b.stopPropagation()}}},update:function(){var a=this.$input.val(),b=parseInt(this.$input.css("padding-left"),10),c=parseInt(this.$input.css("padding-right"),10),d=b+c;if(this.$input.data("edit")){if(a||(a=this.$input.prop("placeholder")),a===this.$mirror.text())return;this.$mirror.text(a);var e=this.$mirror.width()+10;if(e>this.$wrapper.width())return this.$input.width(this.$wrapper.width());this.$input.width(e)}else{if(this.$input.css("width",this.options.minWidth+"px"),"rtl"===this.textDirection)return this.$input.width(this.$input.offset().left+this.$input.outerWidth()-this.$wrapper.offset().left-parseInt(this.$wrapper.css("padding-left"),10)-d-1);this.$input.width(this.$wrapper.offset().left+this.$wrapper.width()+parseInt(this.$wrapper.css("padding-left"),10)-this.$input.offset().left-d)}},focusInput:function(b){if(!(a(b.target).closest(".token").length||a(b.target).closest(".token-input").length||a(b.target).closest(".tt-dropdown-menu").length)){var c=this;setTimeout(function(){c.$input.focus()},0)}},search:function(){this.$input.data("ui-autocomplete")&&this.$input.autocomplete("search")},disable:function(){this.setProperty("disabled",!0)},enable:function(){this.setProperty("disabled",!1)},readonly:function(){this.setProperty("readonly",!0)},writeable:function(){this.setProperty("readonly",!1)},setProperty:function(a,b){this["_"+a]=b,this.$input.prop(a,b),this.$element.prop(a,b),this.$wrapper[b?"addClass":"removeClass"](a)},destroy:function(){this.$element.val(this.getTokensList()),this.$element.css(this.$element.data("original-styles")),this.$element.prop("tabindex",this.$element.data("original-tabindex"));var b=a('label[for="'+this.$input.prop("id")+'"]');b.length&&b.prop("for",this.$element.prop("id")),this.$element.insertBefore(this.$wrapper),this.$element.removeData("original-styles").removeData("original-tabindex").removeData("bs.tokenfield"),this.$wrapper.remove();var c=this.$element;return delete this,c}};var d=a.fn.tokenfield;return a.fn.tokenfield=function(b,d){var e,f=[];Array.prototype.push.apply(f,arguments);var g=this.each(function(){var g=a(this),h=g.data("bs.tokenfield"),i="object"==typeof b&&b;"string"==typeof b&&h&&h[b]?(f.shift(),e=h[b].apply(h,f)):h||"string"==typeof b||d||g.data("bs.tokenfield",h=new c(this,i))});return"undefined"!=typeof e?e:g},a.fn.tokenfield.defaults={minWidth:60,minLength:0,allowEditing:!0,limit:0,autocomplete:{},typeahead:{},showAutocompleteOnFocus:!1,createTokensOnBlur:!1,delimiter:",",beautify:!0},a.fn.tokenfield.Constructor=c,a.fn.tokenfield.noConflict=function(){return a.fn.tokenfield=d,this},c});

// Typeahead
!function(a){var b={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},noop:function(){}},c="0.10.1",d=function(){function a(a){this.maxSize=a||100,this.size=0,this.hash={},this.list=new c}function c(){this.head=this.tail=null}function d(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(a.prototype,{set:function(a,b){var c,e=this.list.tail;this.size>=this.maxSize&&(this.list.remove(e),delete this.hash[e.key]),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new d(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0}}),b.mixin(c.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),a}(this),e=function(){function a(a){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function c(){return(new Date).getTime()}function d(a){return JSON.stringify(b.isUndefined(a)?null:a)}function e(a){return JSON.parse(a)}var f,g;try{f=window.localStorage,f.setItem("~~~","!"),f.removeItem("~~~")}catch(h){f=null}return g=f&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(a){return this.isExpired(a)&&this.remove(a),e(f.getItem(this._prefix(a)))},set:function(a,e,g){return b.isNumber(g)?f.setItem(this._ttlKey(a),d(c()+g)):f.removeItem(this._ttlKey(a)),f.setItem(this._prefix(a),d(e))},remove:function(a){return f.removeItem(this._ttlKey(a)),f.removeItem(this._prefix(a)),this},clear:function(){var a,b,c=[],d=f.length;for(a=0;d>a;a++)(b=f.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=c.length;a--;)this.remove(c[a]);return this},isExpired:function(a){var d=e(f.getItem(this._ttlKey(a)));return b.isNumber(d)&&c()>d?!0:!1}}:{get:b.noop,set:b.noop,remove:b.noop,clear:b.noop,isExpired:b.noop},b.mixin(a.prototype,g),a}(),f=function(){function c(b){b=b||{},this._send=b.transport?e(b.transport):a.ajax,this._get=b.rateLimiter?b.rateLimiter(this._get):this._get}function e(c){return function(d,e){function f(a){b.defer(function(){h.resolve(a)})}function g(a){b.defer(function(){h.reject(a)})}var h=a.Deferred();return c(d,e,f,g),h}}var f=0,g={},h=6,i=new d(10);return c.setMaxPendingRequests=function(a){h=a},c.resetCache=function(){i=new d(10)},b.mixin(c.prototype,{_get:function(a,b,c){function d(b){c&&c(b),i.set(a,b)}function e(){f--,delete g[a],k.onDeckRequestArgs&&(k._get.apply(k,k.onDeckRequestArgs),k.onDeckRequestArgs=null)}var j,k=this;(j=g[a])?j.done(d):h>f?(f++,g[a]=this._send(a,b).done(d).always(e)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(a,c,d){var e;return b.isFunction(c)&&(d=c,c={}),(e=i.get(a))?b.defer(function(){d&&d(e)}):this._get(a,c,d),!!e}}),c}(),g=function(){function c(b){b=b||{},b.datumTokenizer&&b.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=b.datumTokenizer,this.queryTokenizer=b.queryTokenizer,this.datums=[],this.trie=e()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){return{ids:[],children:{}}}function f(a){for(var b={},c=[],d=0;d<a.length;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){function c(a,b){return a-b}var d=0,e=0,f=[];for(a=a.sort(c),b=b.sort(c);d<a.length&&e<b.length;)a[d]<b[e]?d++:a[d]>b[e]?e++:(f.push(a[d]),d++,e++);return f}return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;f=c.datums.push(a)-1,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b.children[g]||(b.children[g]=e()),b.ids.push(f)})})},get:function(a){var c,e,h=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=h.trie,c=a.split("");b&&(d=c.shift());)b=b.children[d];return b&&0===c.length?(f=b.ids.slice(0),void(e=e?g(e,f):f)):(e=[],!1)}),e?b.map(f(e),function(a){return h.datums[a]}):[]},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),h=function(){function d(a){var c=a.local||null;return b.isFunction(c)&&(c=c.call(null)),c}function e(d){var e,f;return f={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(e=d.prefetch||null)&&(e=b.isString(e)?{url:e}:e,e=b.mixin(f,e),e.thumbprint=c+e.thumbprint,e.ajax.type=e.ajax.type||"GET",e.ajax.dataType=e.ajax.dataType||"json",!e.url&&a.error("prefetch requires url to be set")),e}function f(c){function d(a){return function(c){return b.debounce(c,a)}}function e(a){return function(c){return b.throttle(c,a)}}var f,g;return g={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(f=c.remote||null)&&(f=b.isString(f)?{url:f}:f,f=b.mixin(g,f),f.rateLimiter=/^throttle$/i.test(f.rateLimitBy)?e(f.rateLimitWait):d(f.rateLimitWait),f.ajax.type=f.ajax.type||"GET",f.ajax.dataType=f.ajax.dataType||"json",delete f.rateLimitBy,delete f.rateLimitWait,!f.url&&a.error("remote requires url to be set")),f}return{local:d,prefetch:e,remote:f}}(),i=(window.Bloodhound=function(){function c(b){b&&(b.local||b.prefetch||b.remote)||a.error("one of local, prefetch, or remote is required"),this.limit=b.limit||5,this.sorter=d(b.sorter),this.dupDetector=b.dupDetector||i,this.local=h.local(b),this.prefetch=h.prefetch(b),this.remote=h.remote(b),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new g({datumTokenizer:b.datumTokenizer,queryTokenizer:b.queryTokenizer}),this.storage=this.cacheKey?new e(this.cacheKey):null}function d(a){function c(b){return b.sort(a)}function d(a){return a}return b.isFunction(a)?c:d}function i(){return!1}var j;return j={data:"data",protocol:"protocol",thumbprint:"thumbprint"},c.tokenizers={whitespace:function(a){return a.split(/\s+/)},nonword:function(a){return a.split(/\W+/)}},b.mixin(c.prototype,{_loadPrefetch:function(b){function c(a){var c;c=b.filter?b.filter(a):a,f.add(c),f._saveToStorage(f.index.serialize(),b.thumbprint,b.ttl)}var d,e,f=this;return(d=this._readFromStorage(b.thumbprint))?(this.index.bootstrap(d),e=a.Deferred().resolve()):e=a.ajax(b.url,b.ajax).done(c),e},_getFromRemote:function(a,b){function c(a){var c=f.remote.filter?f.remote.filter(a):a;b(c)}var d,e,f=this;return a=a||"",e=encodeURIComponent(a),d=this.remote.replace?this.remote.replace(this.remote.url,a):this.remote.url.replace(this.remote.wildcard,e),this.transport.get(d,this.remote.ajax,c)},_saveToStorage:function(a,b,c){this.storage&&(this.storage.set(j.data,a,c),this.storage.set(j.protocol,location.protocol,c),this.storage.set(j.thumbprint,b,c))},_readFromStorage:function(a){var b,c={};return this.storage&&(c.data=this.storage.get(j.data),c.protocol=this.storage.get(j.protocol),c.thumbprint=this.storage.get(j.thumbprint)),b=c.thumbprint!==a||c.protocol!==location.protocol,c.data&&!b?c.data:null},initialize:function(){function b(){d.add(d.local)}var c,d=this;return c=this.prefetch?this._loadPrefetch(this.prefetch):a.Deferred().resolve(),this.local&&c.done(b),this.transport=this.remote?new f(this.remote):null,this.initialize=function(){return c.promise()},c.promise()},add:function(a){this.index.add(a)},get:function(a,c){function d(a){var d=e.slice(0);b.each(a,function(a){var c;return c=b.some(d,function(b){return f.dupDetector(a,b)}),!c&&d.push(a),d.length<f.limit}),c&&c(f.sorter(d))}var e,f=this,g=!1;e=this.index.get(a),e=this.sorter(e).slice(0,this.limit),e.length<this.limit&&this.transport&&(g=this._getFromRemote(a,d)),!g&&c&&c(e)},ttAdapter:function(){return b.bind(this.get,this)}}),c}(),{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion">%BODY%</div>'}),j={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};b.isMsie()&&b.mixin(j.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),b.isMsie()&&b.isMsie()<=7&&b.mixin(j.input,{marginTop:"-1px"});var k=function(){function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d="typeahead:";return b.mixin(c.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger(d+a,b)}}),c}(),l=function(){function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0;!d&&e<a.length;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function g(){var a;return a=window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),m=function(a){function c(a,c,d){for(var e,f=[],g=0;g<a.length;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d;return(c=h.exec(b.data))&&(wrapperNode=a.createElement(e.tagName),e.className&&(wrapperNode.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),wrapperNode.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(wrapperNode,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),n=function(){function c(c){var e,f,h,i,j=this;c=c||{},c.input||a.error("input is missing"),e=b.bind(this._onBlur,this),f=b.bind(this._onFocus,this),h=b.bind(this._onKeydown,this),i=b.bind(this._onInput,this),this.$hint=a(c.hint),this.$input=a(c.input).on("blur.tt",e).on("focus.tt",f).on("keydown.tt",h),0===this.$hint.length&&(this.setHintValue=this.getHintValue=this.clearHint=b.noop),b.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){g[a.which||a.keyCode]||b.defer(b.bind(j._onInput,j,a))}):this.$input.on("input.tt",i),this.query=this.$input.val(),this.$overflowHelper=d(this.$input)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"nowrap",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function e(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function f(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var g;return g={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return(a||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(c.prototype,l,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(a){var b=g[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(a,b){var c,d,e;switch(a){case"tab":d=this.getHintValue(),e=this.getInputValue(),c=d&&d!==e&&!f(b);break;case"up":case"down":c=!f(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!f(b);break;default:c=!0}return c},_checkInputValue:function(){var a,b,c;a=this.getInputValue(),b=e(a,this.query),c=b?this.query.length!==a.length:!1,b?c&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=a)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a),!b&&this._checkInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(a){this.$hint.val(a)},resetInputValue:function(){this.$input.val(this.query)},clearHint:function(){this.$hint.val("")},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:document.selection?(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),c}(),o=function(){function c(c){c=c||{},c.templates=c.templates||{},c.source||a.error("missing source"),c.name&&!f(c.name)&&a.error("invalid dataset name: "+c.name),this.query=null,this.highlight=!!c.highlight,this.name=c.name||b.getUniqueId(),this.source=c.source,this.displayFn=d(c.display||c.displayKey),this.templates=e(c.templates,this.displayFn),this.$el=a(i.dataset.replace("%CLASS%",this.name))}function d(a){function c(b){return b[a]}return a=a||"value",b.isFunction(a)?a:c}function e(a,c){function d(a){return"<p>"+c(a)+"</p>"}return{empty:a.empty&&b.templatify(a.empty),header:a.header&&b.templatify(a.header),footer:a.footer&&b.templatify(a.footer),suggestion:a.suggestion||d}}function f(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var g="ttDataset",h="ttValue",k="ttDatum";return c.extractDatasetName=function(b){return a(b).data(g)},c.extractValue=function(b){return a(b).data(h)},c.extractDatum=function(b){return a(b).data(k)},b.mixin(c.prototype,l,{_render:function(c,d){function e(){return p.templates.empty({query:c,isEmpty:!0})}function f(){function e(b){var c,d,e;return d=p.templates.suggestion(b),e=i.suggestion.replace("%BODY%",d),c=a(e).data(g,p.name).data(h,p.displayFn(b)).data(k,b),c.children().each(function(){a(this).css(j.suggestionChild)}),c}var f,l;return f=a(i.suggestions).css(j.suggestions),l=b.map(d,e),f.append.apply(f,l),p.highlight&&m({node:f[0],pattern:c}),f}function l(){return p.templates.header({query:c,isEmpty:!o})}function n(){return p.templates.footer({query:c,isEmpty:!o})}if(this.$el){var o,p=this;this.$el.empty(),o=d&&d.length,!o&&this.templates.empty?this.$el.html(e()).prepend(p.templates.header?l():null).append(p.templates.footer?n():null):o&&this.$el.html(f()).prepend(p.templates.header?l():null).append(p.templates.footer?n():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(a){function b(b){a===c.query&&c._render(a,b)}var c=this;this.query=a,this.source(a,b)},clear:function(){this._render(this.query||"")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),c}(),p=function(){function c(c){var e,f,g,h=this;c=c||{},c.menu||a.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=b.map(c.datasets,d),e=b.bind(this._onSuggestionClick,this),f=b.bind(this._onSuggestionMouseEnter,this),g=b.bind(this._onSuggestionMouseLeave,this),this.$menu=a(c.menu).on("click.tt",".tt-suggestion",e).on("mouseenter.tt",".tt-suggestion",f).on("mouseleave.tt",".tt-suggestion",g),b.each(this.datasets,function(a){h.$menu.append(a.getRoot()),a.onSync("rendered",h._onRendered,h)})}function d(a){return new o(a)}return b.mixin(c.prototype,l,{_onSuggestionClick:function(b){this.trigger("suggestionClicked",a(b.currentTarget))},_onSuggestionMouseEnter:function(b){this._removeCursor(),this._setCursor(a(b.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function a(a){return a.isEmpty()}this.isEmpty=b.every(this.datasets,a),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(a,b){a.first().addClass("tt-cursor"),!b&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(a){var b,c,d,e;if(this.isOpen){if(c=this._getCursor(),b=this._getSuggestions(),this._removeCursor(),d=b.index(c)+a,d=(d+1)%(b.length+1)-1,-1===d)return void this.trigger("cursorRemoved");-1>d&&(d=b.length-1),this._setCursor(e=b.eq(d)),this._ensureVisible(e)}},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$menu.scrollTop(),e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>b?this.$menu.scrollTop(d+b):c>e&&this.$menu.scrollTop(d+(c-e))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){this.$menu.css("ltr"===a?j.ltr:j.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(a){var b=null;return a.length&&(b={raw:o.extractDatum(a),value:o.extractValue(a),datasetName:o.extractDatasetName(a)}),b},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(a){function c(b){b.update(a)}b.each(this.datasets,c)},empty:function(){function a(a){a.clear()}b.each(this.datasets,a),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function a(a){a.destroy()}this.$menu.off(".tt"),this.$menu=null,b.each(this.datasets,a)}}),c}(),q=function(){function c(c){var e,f,g;c=c||{},c.input||a.error("missing input"),this.autoselect=!!c.autoselect,this.minLength=b.isNumber(c.minLength)?c.minLength:1,this.$node=d(c.input,c.withHint),e=this.$node.find(".tt-dropdown-menu"),f=this.$node.find(".tt-input"),g=this.$node.find(".tt-hint"),this.eventBus=c.eventBus||new k({el:f}),this.dropdown=new p({menu:e,datasets:c.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new n({input:f,hint:g}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),e.on("mousedown.tt",function(a){b.isMsie()&&b.isMsie()<9&&(f[0].onbeforedeactivate=function(){window.event.returnValue=!1,f[0].onbeforedeactivate=null}),a.preventDefault()})}function d(b,c){var d,f,h,k;d=a(b),f=a(i.wrapper).css(j.wrapper),h=a(i.dropdown).css(j.dropdown),k=d.clone().css(j.hint).css(e(d)),k.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),d.data(g,{dir:d.attr("dir"),autocomplete:d.attr("autocomplete"),spellcheck:d.attr("spellcheck"),style:d.attr("style")}),d.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(c?j.input:j.inputWithNoHint);try{!d.attr("dir")&&d.attr("dir","auto")}catch(l){}return d.wrap(f).parent().prepend(c?k:null).append(h)}function e(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function f(a){var c=a.find(".tt-input");b.each(c.data(g),function(a,d){b.isUndefined(a)?c.removeAttr(d):c.attr(d,a)}),c.detach().removeData(g).removeClass("tt-input").insertAfter(a),a.remove()}var g="ttAttrs";return b.mixin(c.prototype,{_onSuggestionClicked:function(a,b){var c;(c=this.dropdown.getDatumForSuggestion(b))&&this._select(c)},_onCursorMoved:function(){var a=this.dropdown.getDatumForCursor();this.input.clearHint(),this.input.setInputValue(a.value,!0),this.eventBus.trigger("cursorchanged",a.raw,a.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.dropdown.empty(),this.dropdown.open()},_onBlurred:function(){this.dropdown.close()},_onEnterKeyed:function(a,b){var c,d;c=this.dropdown.getDatumForCursor(),d=this.dropdown.getDatumForTopSuggestion(),c?(this._select(c),b.preventDefault()):this.autoselect&&d&&(this._select(d),b.preventDefault())},_onTabKeyed:function(a,b){var c;(c=this.dropdown.getDatumForCursor())?(this._select(c),b.preventDefault()):this._autocomplete()},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var a=this.input.getQuery();!this.dropdown.isOpen&&a.length>=this.minLength&&this.dropdown.update(a),this.dropdown.open(),this.dropdown.moveCursorUp()},_onDownKeyed:function(){var a=this.input.getQuery();!this.dropdown.isOpen&&a.length>=this.minLength&&this.dropdown.update(a),this.dropdown.open(),this.dropdown.moveCursorDown()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(a,b){this.input.clearHint(),this.dropdown.empty(),b.length>=this.minLength&&this.dropdown.update(b),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var a;this.dir!==(a=this.input.getLanguageDirection())&&(this.dir=a,this.$node.css("direction",a),this.dropdown.setLanguageDirection(a))},_updateHint:function(){var a,c,d,e,f,g;a=this.dropdown.getDatumForTopSuggestion(),a&&this.dropdown.isVisible()&&!this.input.hasOverflow()&&(c=this.input.getInputValue(),d=n.normalizeQuery(c),e=b.escapeRegExChars(d),f=new RegExp("^(?:"+e+")(.*$)","i"),g=f.exec(a.value),this.input.setHintValue(c+(g?g[1]:"")))},_autocomplete:function(){var a,b,c;a=this.input.getHintValue(),b=this.input.getQuery(),a&&b!==a&&this.input.isCursorAtEnd()&&(c=this.dropdown.getDatumForTopSuggestion(),c&&this.input.setInputValue(c.value),this.eventBus.trigger("autocompleted",c.raw,c.datasetName))},_select:function(a){this.input.clearHint(),this.input.setQuery(a.value),this.input.setInputValue(a.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",a.raw,a.datasetName),this.dropdown.close(),b.defer(b.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},getQuery:function(){return this.input.getQuery()},setQuery:function(a){this.input.setInputValue(a)},destroy:function(){this.input.destroy(),this.dropdown.destroy(),f(this.$node),this.$node=null}}),c}();!function(){var c,d,e;c=a.fn.typeahead,d="ttTypeahead",e={initialize:function(c,e){function f(){var f,g,h=a(this);b.each(e,function(a){a.highlight=!!c.highlight}),g=new q({input:h,eventBus:f=new k({el:h}),withHint:b.isUndefined(c.hint)?!0:!!c.hint,minLength:c.minLength,autoselect:c.autoselect,datasets:e}),h.data(d,g)}return e=b.isArray(e)?e:[].slice.call(arguments,1),c=c||{},this.each(f)},open:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.open()}return this.each(b)},close:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.close()}return this.each(b)},val:function(b){function c(){var c,e=a(this);(c=e.data(d))&&c.setQuery(b)}function e(a){var b,c;return(b=a.data(d))&&(c=b.getQuery()),c}return arguments.length?this.each(c):e(this.first())},destroy:function(){function b(){var b,c=a(this);(b=c.data(d))&&(b.destroy(),c.removeData(d))}return this.each(b)}},a.fn.typeahead=function(a){return e[a]?e[a].apply(this,[].slice.call(arguments,1)):e.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this}}()}(window.jQuery);

// Alertify
!function(a,b){"use strict";var c,d=a.document;c=function(){var c,e,f,g,h,i,j,k,l,m,n,o,p,q={},r={},s=!1,t={ENTER:13,ESC:27,SPACE:32},u=[];return r={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',cancel:'<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},p=function(){var a,c,e=!1,f=d.createElement("fakeelement"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(a in g)if(f.style[a]!==b){c=g[a],e=!0;break}return{type:c,supported:e}},c=function(a){return d.getElementById(a)},q={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:b,addListeners:function(a){var b,c,i,j,k,l="undefined"!=typeof f,m="undefined"!=typeof e,n="undefined"!=typeof o,p="",q=this;b=function(b){return"undefined"!=typeof b.preventDefault&&b.preventDefault(),i(b),"undefined"!=typeof o&&(p=o.value),"function"==typeof a&&("undefined"!=typeof o?a(!0,p):a(!0)),!1},c=function(b){return"undefined"!=typeof b.preventDefault&&b.preventDefault(),i(b),"function"==typeof a&&a(!1),!1},i=function(){q.hide(),q.unbind(d.body,"keyup",j),q.unbind(g,"focus",k),l&&q.unbind(f,"click",b),m&&q.unbind(e,"click",c)},j=function(a){var d=a.keyCode;(d===t.SPACE&&!n||n&&d===t.ENTER)&&b(a),d===t.ESC&&m&&c(a)},k=function(){n?o.focus():!m||q.buttonReverse?f.focus():e.focus()},this.bind(g,"focus",k),this.bind(h,"focus",k),l&&this.bind(f,"click",b),m&&this.bind(e,"click",c),this.bind(d.body,"keyup",j),this.transition.supported||this.setFocus()},bind:function(a,b,c){"function"==typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},handleErrors:function(){if("undefined"!=typeof a.onerror){var b=this;return a.onerror=function(a,c,d){b.error("["+a+" on line "+d+" of "+c+"]",0)},!0}return!1},appendButtons:function(a,b){return this.buttonReverse?b+a:a+b},build:function(a){var b="",c=a.type,d=a.message,e=a.cssClass||"";switch(b+='<div class="alertify-dialog">',b+='<a id="alertify-resetFocusBack" class="alertify-resetFocus" href="#">Reset Focus</a>',"none"===q.buttonFocus&&(b+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'),"prompt"===c&&(b+='<div id="alertify-form">'),b+='<article class="alertify-inner">',b+=r.message.replace("{{message}}",d),"prompt"===c&&(b+=r.input),b+=r.buttons.holder,b+="</article>","prompt"===c&&(b+="</div>"),b+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',b+="</div>",c){case"confirm":b=b.replace("{{buttons}}",this.appendButtons(r.buttons.cancel,r.buttons.ok)),b=b.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":b=b.replace("{{buttons}}",this.appendButtons(r.buttons.cancel,r.buttons.submit)),b=b.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":b=b.replace("{{buttons}}",r.buttons.ok),b=b.replace("{{ok}}",this.labels.ok)}return l.className="alertify alertify-"+c+" "+e,k.className="alertify-cover",b},close:function(a,b){var c,d,e=b&&!isNaN(b)?+b:this.delay,f=this;this.bind(a,"click",function(){c(a)}),d=function(a){a.stopPropagation(),f.unbind(this,f.transition.type,d),m.removeChild(this),m.hasChildNodes()||(m.className+=" alertify-logs-hidden")},c=function(a){"undefined"!=typeof a&&a.parentNode===m&&(f.transition.supported?(f.bind(a,f.transition.type,d),a.className+=" alertify-log-hide"):(m.removeChild(a),m.hasChildNodes()||(m.className+=" alertify-logs-hidden")))},0!==b&&setTimeout(function(){c(a)},e)},dialog:function(a,b,c,e,f){j=d.activeElement;var g=function(){m&&null!==m.scrollTop&&k&&null!==k.scrollTop||g()};if("string"!=typeof a)throw new Error("message must be a string");if("string"!=typeof b)throw new Error("type must be a string");if("undefined"!=typeof c&&"function"!=typeof c)throw new Error("fn must be a function");return this.init(),g(),u.push({type:b,message:a,callback:c,placeholder:e,cssClass:f}),s||this.setup(),this},extend:function(a){if("string"!=typeof a)throw new Error("extend method must have exactly one paramter");return function(b,c){return this.log(b,a,c),this}},hide:function(){var a,b=this;u.splice(0,1),u.length>0?this.setup(!0):(s=!1,a=function(c){c.stopPropagation(),b.unbind(l,b.transition.type,a)},this.transition.supported?(this.bind(l,this.transition.type,a),l.className="alertify alertify-hide alertify-hidden"):l.className="alertify alertify-hide alertify-hidden alertify-isHidden",k.className="alertify-cover alertify-cover-hidden",j.focus())},init:function(){d.createElement("nav"),d.createElement("article"),d.createElement("section"),null==c("alertify-cover")&&(k=d.createElement("div"),k.setAttribute("id","alertify-cover"),k.className="alertify-cover alertify-cover-hidden",d.body.appendChild(k)),null==c("alertify")&&(s=!1,u=[],l=d.createElement("section"),l.setAttribute("id","alertify"),l.className="alertify alertify-hidden",d.body.appendChild(l)),null==c("alertify-logs")&&(m=d.createElement("section"),m.setAttribute("id","alertify-logs"),m.className="alertify-logs alertify-logs-hidden",d.body.appendChild(m)),d.body.setAttribute("tabindex","0"),this.transition=p()},log:function(a,b,c){var d=function(){m&&null!==m.scrollTop||d()};return this.init(),d(),m.className="alertify-logs",this.notify(a,b,c),this},notify:function(a,b,c){var e=d.createElement("article");e.className="alertify-log"+("string"==typeof b&&""!==b?" alertify-log-"+b:""),e.innerHTML=a,m.appendChild(e),setTimeout(function(){e.className=e.className+" alertify-log-show"},50),this.close(e,c)},set:function(a){var b;if("object"!=typeof a&&a instanceof Array)throw new Error("args must be an object");for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},setFocus:function(){o?(o.focus(),o.select()):i.focus()},setup:function(a){var d,j=u[0],k=this;s=!0,d=function(a){a.stopPropagation(),k.setFocus(),k.unbind(l,k.transition.type,d)},this.transition.supported&&!a&&this.bind(l,this.transition.type,d),l.innerHTML=this.build(j),g=c("alertify-resetFocus"),h=c("alertify-resetFocusBack"),f=c("alertify-ok")||b,e=c("alertify-cancel")||b,i="cancel"===q.buttonFocus?e:"none"===q.buttonFocus?c("alertify-noneFocus"):f,o=c("alertify-text")||b,n=c("alertify-form")||b,"string"==typeof j.placeholder&&""!==j.placeholder&&(o.value=j.placeholder),a&&this.setFocus(),this.addListeners(j.callback)},unbind:function(a,b,c){"function"==typeof a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}},{alert:function(a,b,c){return q.dialog(a,"alert",b,"",c),this},confirm:function(a,b,c){return q.dialog(a,"confirm",b,"",c),this},extend:q.extend,init:q.init,log:function(a,b,c){return q.log(a,b,c),this},prompt:function(a,b,c,d){return q.dialog(a,"prompt",b,c,d),this},success:function(a,b){return q.log(a,"success",b),this},error:function(a,b){return q.log(a,"error",b),this},set:function(a){q.set(a)},labels:q.labels,debug:q.handleErrors}},"function"==typeof define?define([],function(){return new c}):"undefined"==typeof a.alertify&&(a.alertify=new c)}(this);

// Froogaloop
var Froogaloop=function(){function e(t){return new e.fn.init(t)}function t(e,t,n){if(!n.contentWindow.postMessage)return!1;var r=n.getAttribute("src").split("?")[0],e=JSON.stringify({method:e,value:t});"//"===r.substr(0,2)&&(r=window.location.protocol+r);n.contentWindow.postMessage(e,r)}function n(e){var t,n;try{t=JSON.parse(e.data),n=t.event||t.method}catch(r){}"ready"==n&&!s&&(s=!0);if(e.origin!=o)return!1;var e=t.value,u=t.data,a=""===a?null:t.player_id;t=a?i[a][n]:i[n];n=[];if(!t)return!1;void 0!==e&&n.push(e);u&&n.push(u);a&&n.push(a);return 0<n.length?t.apply(null,n):t.call()}function r(e,t,n){n?(i[n]||(i[n]={}),i[n][e]=t):i[e]=t}var i={},s=!1,o="";e.fn=e.prototype={element:null,init:function(e){"string"===typeof e&&(e=document.getElementById(e));this.element=e;e=this.element.getAttribute("src");"//"===e.substr(0,2)&&(e=window.location.protocol+e);for(var e=e.split("/"),t="",n=0,r=e.length;n<r;n++){if(3>n)t+=e[n];else break;2>n&&(t+="/")}o=t;return this},api:function(e,n){if(!this.element||!e)return!1;var i=this.element,s=""!==i.id?i.id:null,o=!n||!n.constructor||!n.call||!n.apply?n:null,u=n&&n.constructor&&n.call&&n.apply?n:null;u&&r(e,u,s);t(e,o,i);return this},addEvent:function(e,n){if(!this.element)return!1;var i=this.element,o=""!==i.id?i.id:null;r(e,n,o);"ready"!=e?t("addEventListener",e,i):"ready"==e&&s&&n.call(null,o);return this},removeEvent:function(e){if(!this.element)return!1;var n=this.element,r;e:{if((r=""!==n.id?n.id:null)&&i[r]){if(!i[r][e]){r=!1;break e}i[r][e]=null}else{if(!i[e]){r=!1;break e}i[e]=null}r=!0}"ready"!=e&&r&&t("removeEventListener",e,n)}};e.fn.init.prototype=e.fn;window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n);return window.Froogaloop=window.$f=e}();

// Video js
(function(window,undefined){var document=window.document;document.createElement("video");document.createElement("audio");var VideoJS=function(id,addOptions,ready){var tag;if(typeof id=="string"){if(id.indexOf("#")===0){id=id.slice(1)}if(_V_.players[id]){return _V_.players[id]}else{tag=_V_.el(id)}}else{tag=id}if(!tag||!tag.nodeName){throw new TypeError("The element or ID supplied is not valid. (VideoJS)")}return tag.player||new _V_.Player(tag,addOptions,ready)},_V_=VideoJS,CDN_VERSION="3.2";VideoJS.players={};VideoJS.options={techOrder:["html5","flash"],html5:{},flash:{swf:"http://vjs.zencdn.net/c/video-js.swf"},width:"auto",height:"auto",defaultVolume:0,components:{posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};if(CDN_VERSION!="GENERATED_CDN_VSN"){_V_.options.flash.swf="http://vjs.zencdn.net/"+CDN_VERSION+"/video-js.swf"}_V_.merge=function(obj1,obj2,safe){if(!obj2){obj2={}}for(var attrname in obj2){if(obj2.hasOwnProperty(attrname)&&(!safe||!obj1.hasOwnProperty(attrname))){obj1[attrname]=obj2[attrname]}}return obj1};_V_.extend=function(obj){this.merge(this,obj,true)};_V_.extend({tech:{},controlSets:{},isIE:function(){return !+"\v1"},isFF:function(){return !!_V_.ua.match("Firefox")},isIPad:function(){return navigator.userAgent.match(/iPad/i)!==null},isIPhone:function(){return navigator.userAgent.match(/iPhone/i)!==null},isIOS:function(){return VideoJS.isIPhone()||VideoJS.isIPad()},iOSVersion:function(){var match=navigator.userAgent.match(/OS (\d+)_/i);if(match&&match[1]){return match[1]}},isAndroid:function(){return navigator.userAgent.match(/Android.*AppleWebKit/i)!==null},androidVersion:function(){var match=navigator.userAgent.match(/Android (\d+)\./i);if(match&&match[1]){return match[1]}},testVid:document.createElement("video"),ua:navigator.userAgent,support:{},each:function(arr,fn){if(!arr||arr.length===0){return}for(var i=0,j=arr.length;i<j;i++){fn.call(this,arr[i],i)}},eachProp:function(obj,fn){if(!obj){return}for(var name in obj){if(obj.hasOwnProperty(name)){fn.call(this,name,obj[name])}}},el:function(id){return document.getElementById(id)},createElement:function(tagName,attributes){var el=document.createElement(tagName),attrname;for(attrname in attributes){if(attributes.hasOwnProperty(attrname)){if(attrname.indexOf("-")!==-1){el.setAttribute(attrname,attributes[attrname])}else{el[attrname]=attributes[attrname]}}}return el},insertFirst:function(node,parent){if(parent.firstChild){parent.insertBefore(node,parent.firstChild)}else{parent.appendChild(node)}},addClass:function(element,classToAdd){if((" "+element.className+" ").indexOf(" "+classToAdd+" ")==-1){element.className=element.className===""?classToAdd:element.className+" "+classToAdd}},removeClass:function(element,classToRemove){if(element.className.indexOf(classToRemove)==-1){return}var classNames=element.className.split(" ");classNames.splice(classNames.indexOf(classToRemove),1);element.className=classNames.join(" ")},remove:function(item,array){if(!array){return}var i=array.indexOf(item);if(i!=-1){return array.splice(i,1)}},blockTextSelection:function(){document.body.focus();document.onselectstart=function(){return false}},unblockTextSelection:function(){document.onselectstart=function(){return true}},formatTime:function(seconds,guide){guide=guide||seconds;var s=Math.floor(seconds%60),m=Math.floor(seconds/60%60),h=Math.floor(seconds/3600),gm=Math.floor(guide/60%60),gh=Math.floor(guide/3600);h=(h>0||gh>0)?h+":":"";m=(((h||gm>=10)&&m<10)?"0"+m:m)+":";s=(s<10)?"0"+s:s;return h+m+s},uc:function(string){return string.charAt(0).toUpperCase()+string.slice(1)},getRelativePosition:function(x,relativeElement){return Math.max(0,Math.min(1,(x-_V_.findPosX(relativeElement))/relativeElement.offsetWidth))},getComputedStyleValue:function(element,style){return window.getComputedStyle(element,null).getPropertyValue(style)},trim:function(string){return string.toString().replace(/^\s+/,"").replace(/\s+$/,"")},round:function(num,dec){if(!dec){dec=0}return Math.round(num*Math.pow(10,dec))/Math.pow(10,dec)},isEmpty:function(object){for(var prop in object){return false}return true},createTimeRange:function(start,end){return{length:1,start:function(){return start},end:function(){return end}}},cache:{},guid:1,expando:"vdata"+(new Date).getTime(),getData:function(elem){var id=elem[_V_.expando];if(!id){id=elem[_V_.expando]=_V_.guid++;_V_.cache[id]={}}return _V_.cache[id]},removeData:function(elem){var id=elem[_V_.expando];if(!id){return}delete _V_.cache[id];try{delete elem[_V_.expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(_V_.expando)}else{elem[_V_.expando]=null}}},proxy:function(context,fn,uid){if(!fn.guid){fn.guid=_V_.guid++}var ret=function(){return fn.apply(context,arguments)};ret.guid=(uid)?uid+"_"+fn.guid:fn.guid;return ret},get:function(url,onSuccess,onError){var local=(url.indexOf("file:")==0||(window.location.href.indexOf("file:")==0&&url.indexOf("http:")==-1));if(typeof XMLHttpRequest=="undefined"){XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(f){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(g){}throw new Error("This browser does not support XMLHttpRequest.")}}var request=new XMLHttpRequest();try{request.open("GET",url)}catch(e){_V_.log("VideoJS XMLHttpRequest (open)",e);return false}request.onreadystatechange=_V_.proxy(this,function(){if(request.readyState==4){if(request.status==200||local&&request.status==0){onSuccess(request.responseText)}else{if(onError){onError()}}}});try{request.send()}catch(e){_V_.log("VideoJS XMLHttpRequest (send)",e);if(onError){onError(e)}}},setLocalStorage:function(key,value){var localStorage=window.localStorage||false;if(!localStorage){return}try{localStorage[key]=value}catch(e){if(e.code==22||e.code==1014){_V_.log("LocalStorage Full (VideoJS)",e)}else{_V_.log("LocalStorage Error (VideoJS)",e)}}},getAbsoluteURL:function(url){if(!url.match(/^https?:\/\//)){url=_V_.createElement("div",{innerHTML:'<a href="'+url+'">x</a>'}).firstChild.href}return url}});_V_.log=function(){_V_.log.history=_V_.log.history||[];_V_.log.history.push(arguments);if(window.console){arguments.callee=arguments.callee.caller;var newarr=[].slice.call(arguments);(typeof console.log==="object"?_V_.log.apply.call(console.log,console,newarr):console.log.apply(console,newarr))}};(function(b){function c(){}for(var d="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),a;a=d.pop();){b[a]=b[a]||c}})((function(){try{console.log();return window.console}catch(err){return window.console={}}})());if("getBoundingClientRect" in document.documentElement){_V_.findPosX=function(el){var box;try{box=el.getBoundingClientRect()}catch(e){}if(!box){return 0}var docEl=document.documentElement,body=document.body,clientLeft=docEl.clientLeft||body.clientLeft||0,scrollLeft=window.pageXOffset||body.scrollLeft,left=box.left+scrollLeft-clientLeft;return left}}else{_V_.findPosX=function(el){var curleft=el.offsetLeft;while(el=obj.offsetParent){if(el.className.indexOf("video-js")==-1){}else{}curleft+=el.offsetLeft}return curleft}}(function(){var initializing=false,fnTest=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;_V_.Class=function(){};_V_.Class.extend=function(prop){var _super=this.prototype;initializing=true;var prototype=new this();initializing=false;for(var name in prop){prototype[name]=typeof prop[name]=="function"&&typeof _super[name]=="function"&&fnTest.test(prop[name])?(function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);this._super=tmp;return ret}})(name,prop[name]):prop[name]}function Class(){if(!initializing&&this.init){return this.init.apply(this,arguments)}else{if(!initializing){return arguments.callee.prototype.init()}}}Class.prototype=prototype;Class.constructor=Class;Class.extend=arguments.callee;return Class}})();_V_.Component=_V_.Class.extend({init:function(player,options){this.player=player;options=this.options=_V_.merge(this.options||{},options);if(options.el){this.el=options.el}else{this.el=this.createElement()}this.initComponents()},destroy:function(){},createElement:function(type,attrs){return _V_.createElement(type||"div",attrs)},buildCSSClass:function(){return""},initComponents:function(){var options=this.options;if(options&&options.components){this.eachProp(options.components,function(name,opts){var tempAdd=this.proxy(function(){this[name]=this.addComponent(name,opts)});if(opts.loadEvent){this.one(opts.loadEvent,tempAdd)}else{tempAdd()}})}},addComponent:function(name,options){var component,componentClass;if(typeof name=="string"){options=options||{};componentClass=options.componentClass||_V_.uc(name);component=new _V_[componentClass](this.player||this,options)}else{component=name}this.el.appendChild(component.el);return component},removeComponent:function(component){this.el.removeChild(component.el)},show:function(){this.el.style.display="block"},hide:function(){this.el.style.display="none"},fadeIn:function(){this.removeClass("vjs-fade-out");this.addClass("vjs-fade-in")},fadeOut:function(){this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out")},lockShowing:function(){var style=this.el.style;style.display="block";style.opacity=1;style.visiblity="visible"},unlockShowing:function(){var style=this.el.style;style.display="";style.opacity="";style.visiblity=""},addClass:function(classToAdd){_V_.addClass(this.el,classToAdd)},removeClass:function(classToRemove){_V_.removeClass(this.el,classToRemove)},addEvent:function(type,fn,uid){return _V_.addEvent(this.el,type,_V_.proxy(this,fn))},removeEvent:function(type,fn){return _V_.removeEvent(this.el,type,fn)},triggerEvent:function(type,e){return _V_.triggerEvent(this.el,type,e)},one:function(type,fn){_V_.one(this.el,type,_V_.proxy(this,fn))},ready:function(fn){if(!fn){return this}if(this.isReady){fn.call(this)}else{if(this.readyQueue===undefined){this.readyQueue=[]}this.readyQueue.push(fn)}return this},triggerReady:function(){this.isReady=true;if(this.readyQueue&&this.readyQueue.length>0){this.each(this.readyQueue,function(fn){fn.call(this)});this.readyQueue=[];this.triggerEvent("ready")}},each:function(arr,fn){_V_.each.call(this,arr,fn)},eachProp:function(obj,fn){_V_.eachProp.call(this,obj,fn)},extend:function(obj){_V_.merge(this,obj)},proxy:function(fn,uid){return _V_.proxy(this,fn,uid)}});_V_.Control=_V_.Component.extend({buildCSSClass:function(){return"vjs-control "+this._super()}});_V_.ControlBar=_V_.Component.extend({options:{loadEvent:"play",components:{playToggle:{},fullscreenToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},volumeControl:{},muteToggle:{}}},init:function(player,options){this._super(player,options);player.addEvent("play",this.proxy(function(){this.fadeIn();this.player.addEvent("mouseover",this.proxy(this.fadeIn));this.player.addEvent("mouseout",this.proxy(this.fadeOut))}))},createElement:function(){return _V_.createElement("div",{className:"vjs-controls"})},fadeIn:function(){this._super();this.player.triggerEvent("controlsvisible")},fadeOut:function(){this._super();this.player.triggerEvent("controlshidden")},lockShowing:function(){this.el.style.opacity="1"}});_V_.Button=_V_.Control.extend({init:function(player,options){this._super(player,options);this.addEvent("click",this.onClick);this.addEvent("focus",this.onFocus);this.addEvent("blur",this.onBlur)},createElement:function(type,attrs){attrs=_V_.merge({className:this.buildCSSClass(),innerHTML:'<div><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button",tabIndex:0},attrs);return this._super(type,attrs)},onClick:function(){},onFocus:function(){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(event){if(event.which==32||event.which==13){event.preventDefault();this.onClick()}},onBlur:function(){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}});_V_.PlayButton=_V_.Button.extend({buttonText:"Play",buildCSSClass:function(){return"vjs-play-button "+this._super()},onClick:function(){this.player.play()}});_V_.PauseButton=_V_.Button.extend({buttonText:"Pause",buildCSSClass:function(){return"vjs-pause-button "+this._super()},onClick:function(){this.player.pause()}});_V_.PlayToggle=_V_.Button.extend({buttonText:"Play",init:function(player,options){this._super(player,options);player.addEvent("play",_V_.proxy(this,this.onPlay));player.addEvent("pause",_V_.proxy(this,this.onPause))},buildCSSClass:function(){return"vjs-play-control "+this._super()},onClick:function(){if(this.player.paused()){this.player.play()}else{this.player.pause()}},onPlay:function(){_V_.removeClass(this.el,"vjs-paused");_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing");_V_.addClass(this.el,"vjs-paused")}});_V_.FullscreenToggle=_V_.Button.extend({buttonText:"Fullscreen",buildCSSClass:function(){return"vjs-fullscreen-control "+this._super()},onClick:function(){if(!this.player.isFullScreen){this.player.requestFullScreen()}else{this.player.cancelFullScreen()}}});_V_.BigPlayButton=_V_.Button.extend({init:function(player,options){this._super(player,options);player.addEvent("play",_V_.proxy(this,this.hide));player.addEvent("ended",_V_.proxy(this,this.show))},createElement:function(){return this._super("div",{className:"vjs-big-play-button",innerHTML:"<span></span>"})},onClick:function(){if(this.player.currentTime()){this.player.currentTime(0)}this.player.play()}});_V_.LoadingSpinner=_V_.Component.extend({init:function(player,options){this._super(player,options);player.addEvent("canplay",_V_.proxy(this,this.hide));player.addEvent("canplaythrough",_V_.proxy(this,this.hide));player.addEvent("playing",_V_.proxy(this,this.hide));player.addEvent("seeking",_V_.proxy(this,this.show));player.addEvent("error",_V_.proxy(this,this.show));player.addEvent("waiting",_V_.proxy(this,this.show))},createElement:function(){var classNameSpinner,innerHtmlSpinner;if(typeof this.player.el.style.WebkitBorderRadius=="string"||typeof this.player.el.style.MozBorderRadius=="string"||typeof this.player.el.style.KhtmlBorderRadius=="string"||typeof this.player.el.style.borderRadius=="string"){classNameSpinner="vjs-loading-spinner";innerHtmlSpinner="<div class='ball1'></div><div class='ball2'></div><div class='ball3'></div><div class='ball4'></div><div class='ball5'></div><div class='ball6'></div><div class='ball7'></div><div class='ball8'></div>"}else{classNameSpinner="vjs-loading-spinner-fallback";innerHtmlSpinner=""}return this._super("div",{className:classNameSpinner,innerHTML:innerHtmlSpinner})}});_V_.CurrentTimeDisplay=_V_.Component.extend({init:function(player,options){this._super(player,options);player.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var el=this._super("div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=_V_.createElement("div",{className:"vjs-current-time-display",innerHTML:"0:00"});el.appendChild(_V_.createElement("div").appendChild(this.content));return el},updateContent:function(){var time=(this.player.scrubbing)?this.player.values.currentTime:this.player.currentTime();this.content.innerHTML=_V_.formatTime(time,this.player.duration())}});_V_.DurationDisplay=_V_.Component.extend({init:function(player,options){this._super(player,options);player.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var el=this._super("div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=_V_.createElement("div",{className:"vjs-duration-display",innerHTML:"0:00"});el.appendChild(_V_.createElement("div").appendChild(this.content));return el},updateContent:function(){if(this.player.duration()){this.content.innerHTML=_V_.formatTime(this.player.duration())}}});_V_.TimeDivider=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})}});_V_.RemainingTimeDisplay=_V_.Component.extend({init:function(player,options){this._super(player,options);player.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var el=this._super("div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=_V_.createElement("div",{className:"vjs-remaining-time-display",innerHTML:"-0:00"});el.appendChild(_V_.createElement("div").appendChild(this.content));return el},updateContent:function(){if(this.player.duration()){this.content.innerHTML="-"+_V_.formatTime(this.player.remainingTime())}}});_V_.Slider=_V_.Component.extend({init:function(player,options){this._super(player,options);player.addEvent(this.playerEvent,_V_.proxy(this,this.update));this.addEvent("mousedown",this.onMouseDown);this.addEvent("focus",this.onFocus);this.addEvent("blur",this.onBlur);this.player.addEvent("controlsvisible",this.proxy(this.update));this.update()},createElement:function(type,attrs){attrs=_V_.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},attrs);return this._super(type,attrs)},onMouseDown:function(event){event.preventDefault();_V_.blockTextSelection();_V_.addEvent(document,"mousemove",_V_.proxy(this,this.onMouseMove));_V_.addEvent(document,"mouseup",_V_.proxy(this,this.onMouseUp));this.onMouseMove(event)},onMouseUp:function(event){_V_.unblockTextSelection();_V_.removeEvent(document,"mousemove",this.onMouseMove,false);_V_.removeEvent(document,"mouseup",this.onMouseUp,false);this.update()},update:function(){var barProgress,progress=this.getPercent();handle=this.handle,bar=this.bar;if(isNaN(progress)){progress=0}barProgress=progress;if(handle){var box=this.el,boxWidth=box.offsetWidth,handleWidth=handle.el.offsetWidth,handlePercent=(handleWidth)?handleWidth/boxWidth:0,boxAdjustedPercent=1-handlePercent;adjustedProgress=progress*boxAdjustedPercent,barProgress=adjustedProgress+(handlePercent/2);handle.el.style.left=_V_.round(adjustedProgress*100,2)+"%"}bar.el.style.width=_V_.round(barProgress*100,2)+"%"},calculateDistance:function(event){var box=this.el,boxX=_V_.findPosX(box),boxW=box.offsetWidth,handle=this.handle;if(handle){var handleW=handle.el.offsetWidth;boxX=boxX+(handleW/2);boxW=boxW-handleW}return Math.max(0,Math.min(1,(event.pageX-boxX)/boxW))},onFocus:function(event){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(event){if(event.which==37){event.preventDefault();this.stepBack()}else{if(event.which==39){event.preventDefault();this.stepForward()}}},onBlur:function(event){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}});_V_.ProgressControl=_V_.Component.extend({options:{components:{seekBar:{}}},createElement:function(){return this._super("div",{className:"vjs-progress-control vjs-control"})}});_V_.SeekBar=_V_.Slider.extend({options:{components:{loadProgressBar:{},bar:{componentClass:"PlayProgressBar"},handle:{componentClass:"SeekHandle"}}},playerEvent:"timeupdate",init:function(player,options){this._super(player,options)},createElement:function(){return this._super("div",{className:"vjs-progress-holder"})},getPercent:function(){return this.player.currentTime()/this.player.duration()},onMouseDown:function(event){this._super(event);this.player.scrubbing=true;this.videoWasPlaying=!this.player.paused();this.player.pause()},onMouseMove:function(event){var newTime=this.calculateDistance(event)*this.player.duration();if(newTime==this.player.duration()){newTime=newTime-0.1}this.player.currentTime(newTime)},onMouseUp:function(event){this._super(event);this.player.scrubbing=false;if(this.videoWasPlaying){this.player.play()}},stepForward:function(){this.player.currentTime(this.player.currentTime()+1)},stepBack:function(){this.player.currentTime(this.player.currentTime()-1)}});_V_.LoadProgressBar=_V_.Component.extend({init:function(player,options){this._super(player,options);player.addEvent("progress",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},update:function(){if(this.el.style){this.el.style.width=_V_.round(this.player.bufferedPercent()*100,2)+"%"}}});_V_.PlayProgressBar=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})}});_V_.SeekHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-seek-handle",innerHTML:'<span class="vjs-control-text">00:00</span>'})}});_V_.VolumeControl=_V_.Component.extend({options:{components:{volumeBar:{}}},createElement:function(){return this._super("div",{className:"vjs-volume-control vjs-control"})}});_V_.VolumeBar=_V_.Slider.extend({options:{components:{bar:{componentClass:"VolumeLevel"},handle:{componentClass:"VolumeHandle"}}},playerEvent:"volumechange",createElement:function(){return this._super("div",{className:"vjs-volume-bar"})},onMouseMove:function(event){this.player.volume(this.calculateDistance(event))},getPercent:function(){return this.player.volume()},stepForward:function(){this.player.volume(this.player.volume()+0.1)},stepBack:function(){this.player.volume(this.player.volume()-0.1)}});_V_.VolumeLevel=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})}});_V_.VolumeHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-handle",innerHTML:'<span class="vjs-control-text"></span>'})}});_V_.MuteToggle=_V_.Button.extend({init:function(player,options){this._super(player,options);player.addEvent("volumechange",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},onClick:function(event){this.player.muted(this.player.muted()?false:true)},update:function(event){var vol=this.player.volume(),level=3;if(vol==0||this.player.muted()){level=0}else{if(vol<0.33){level=1}else{if(vol<0.67){level=2}}}_V_.each.call(this,[0,1,2,3],function(i){_V_.removeClass(this.el,"vjs-vol-"+i)});_V_.addClass(this.el,"vjs-vol-"+level)}});_V_.PosterImage=_V_.Button.extend({init:function(player,options){this._super(player,options);if(!this.player.options.poster){this.hide()}player.addEvent("play",_V_.proxy(this,this.hide))},createElement:function(){return _V_.createElement("img",{className:"vjs-poster",src:this.player.options.poster,tabIndex:-1})},onClick:function(){this.player.play()}});_V_.Menu=_V_.Component.extend({init:function(player,options){this._super(player,options)},addItem:function(component){this.addComponent(component);component.addEvent("click",this.proxy(function(){this.unlockShowing()}))},createElement:function(){return this._super("ul",{className:"vjs-menu"})}});_V_.MenuItem=_V_.Button.extend({init:function(player,options){this._super(player,options);if(options.selected){this.addClass("vjs-selected")}},createElement:function(type,attrs){return this._super("li",_V_.merge({className:"vjs-menu-item",innerHTML:this.options.label},attrs))},onClick:function(){this.selected(true)},selected:function(selected){if(selected){this.addClass("vjs-selected")}else{this.removeClass("vjs-selected")}}});if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement){if(this===void 0||this===null){throw new TypeError()}var t=Object(this);var len=t.length>>>0;if(len===0){return -1}var n=0;if(arguments.length>0){n=Number(arguments[1]);if(n!==n){n=0}else{if(n!==0&&n!==(1/0)&&n!==-(1/0)){n=(n>0||-1)*Math.floor(Math.abs(n))}}}if(n>=len){return -1}var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement){return k}}return -1}}_V_.extend({addEvent:function(elem,type,fn){var data=_V_.getData(elem),handlers;if(data&&!data.handler){data.handler=function(event){event=_V_.fixEvent(event);var handlers=_V_.getData(elem).events[event.type];if(handlers){var handlersCopy=[];_V_.each(handlers,function(handler,i){handlersCopy[i]=handler});for(var i=0,l=handlersCopy.length;i<l;i++){handlersCopy[i].call(elem,event)}}}}if(!data.events){data.events={}}handlers=data.events[type];if(!handlers){handlers=data.events[type]=[];if(document.addEventListener){elem.addEventListener(type,data.handler,false)}else{if(document.attachEvent){elem.attachEvent("on"+type,data.handler)}}}if(!fn.guid){fn.guid=_V_.guid++}handlers.push(fn)},removeEvent:function(elem,type,fn){var data=_V_.getData(elem),handlers;if(!data.events){return}if(!type){for(type in data.events){_V_.cleanUpEvents(elem,type)}return}handlers=data.events[type];if(!handlers){return}if(fn&&fn.guid){for(var i=0;i<handlers.length;i++){if(handlers[i].guid===fn.guid){handlers.splice(i--,1)}}}_V_.cleanUpEvents(elem,type)},cleanUpEvents:function(elem,type){var data=_V_.getData(elem);if(data.events[type].length===0){delete data.events[type];if(document.removeEventListener){elem.removeEventListener(type,data.handler,false)}else{if(document.detachEvent){elem.detachEvent("on"+type,data.handler)}}}if(_V_.isEmpty(data.events)){delete data.events;delete data.handler}if(_V_.isEmpty(data)){_V_.removeData(elem)}},fixEvent:function(event){if(event[_V_.expando]){return event}var originalEvent=event;event=new _V_.Event(originalEvent);for(var i=_V_.Event.props.length,prop;i;){prop=_V_.Event.props[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var eventDocument=event.target.ownerDocument||document,doc=eventDocument.documentElement,body=eventDocument.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(event.which==null&&(event.charCode!=null||event.keyCode!=null)){event.which=event.charCode!=null?event.charCode:event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button!==undefined){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event},triggerEvent:function(elem,event){var data=_V_.getData(elem),parent=elem.parentNode||elem.ownerDocument,type=event.type||event,handler;if(data){handler=data.handler}event=typeof event==="object"?event[_V_.expando]?event:new _V_.Event(type,event):new _V_.Event(type);event.type=type;if(handler){handler.call(elem,event)}event.result=undefined;event.target=elem},one:function(elem,type,fn){_V_.addEvent(elem,type,function(){_V_.removeEvent(elem,type,arguments.callee);fn.apply(this,arguments)})}});_V_.Event=function(src,props){if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse}else{this.type=src}if(props){_V_.merge(this,props)}this.timeStamp=(new Date).getTime();this[_V_.expando]=true};_V_.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};_V_.Event.props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");function returnTrue(){return true}function returnFalse(){return false}var JSON;if(!JSON){JSON={}}(function(){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());_V_.Player=_V_.Component.extend({init:function(tag,addOptions,ready){this.tag=tag;var el=this.el=_V_.createElement("div"),options=this.options={},width=options.width=tag.getAttribute("width"),height=options.height=tag.getAttribute("height"),initWidth=width||300,initHeight=height||150;tag.player=el.player=this;this.ready(ready);tag.parentNode.insertBefore(el,tag);el.appendChild(tag);el.id=this.id=tag.id;el.className=tag.className;tag.id+="_html5_api";tag.className="vjs-tech";_V_.players[el.id]=this;el.setAttribute("width",initWidth);el.setAttribute("height",initHeight);el.style.width=initWidth+"px";el.style.height=initHeight+"px";tag.removeAttribute("width");tag.removeAttribute("height");_V_.merge(options,_V_.options);_V_.merge(options,this.getVideoTagSettings());_V_.merge(options,addOptions);tag.removeAttribute("controls");tag.removeAttribute("poster");if(tag.hasChildNodes()){for(var i=0,j=tag.childNodes;i<j.length;i++){if(j[i].nodeName=="SOURCE"||j[i].nodeName=="TRACK"){tag.removeChild(j[i])}}}this.values={};this.addClass("vjs-paused");this.addEvent("ended",this.onEnded);this.addEvent("play",this.onPlay);this.addEvent("pause",this.onPause);this.addEvent("progress",this.onProgress);this.addEvent("error",this.onError);if(options.controls){this.ready(function(){this.initComponents()})}this.textTracks=[];if(options.tracks&&options.tracks.length>0){this.addTextTracks(options.tracks)}if(!options.sources||options.sources.length==0){for(var i=0,j=options.techOrder;i<j.length;i++){var techName=j[i],tech=_V_[techName];if(tech.isSupported()){this.loadTech(techName);break}}}else{this.src(options.sources)}},values:{},destroy:function(){this.stopTrackingProgress();this.stopTrackingCurrentTime();_V_.players[this.id]=null;delete _V_.players[this.id];this.tech.destroy();this.el.parentNode.removeChild(this.el)},createElement:function(type,options){},getVideoTagSettings:function(){var options={sources:[],tracks:[]};options.src=this.tag.getAttribute("src");options.controls=this.tag.getAttribute("controls")!==null;options.poster=this.tag.getAttribute("poster");options.preload=this.tag.getAttribute("preload");options.autoplay=this.tag.getAttribute("autoplay")!==null;options.loop=this.tag.getAttribute("loop")!==null;options.muted=this.tag.getAttribute("muted")!==null;if(this.tag.hasChildNodes()){for(var c,i=0,j=this.tag.childNodes;i<j.length;i++){c=j[i];if(c.nodeName=="SOURCE"){options.sources.push({src:c.getAttribute("src"),type:c.getAttribute("type"),media:c.getAttribute("media"),title:c.getAttribute("title")})}if(c.nodeName=="TRACK"){options.tracks.push({src:c.getAttribute("src"),kind:c.getAttribute("kind"),srclang:c.getAttribute("srclang"),label:c.getAttribute("label"),"default":c.getAttribute("default")!==null,title:c.getAttribute("title")})}}}return options},loadTech:function(techName,source){if(this.tech){this.unloadTech()}else{if(techName!="html5"&&this.tag){this.el.removeChild(this.tag);this.tag=false}}this.techName=techName;this.isReady=false;var techReady=function(){this.player.triggerReady();if(!this.support.progressEvent){this.player.manualProgressOn()}if(!this.support.timeupdateEvent){this.player.manualTimeUpdatesOn()}};var techOptions=_V_.merge({source:source,parentEl:this.el},this.options[techName]);if(source){if(source.src==this.values.src&&this.values.currentTime>0){techOptions.startTime=this.values.currentTime}this.values.src=source.src}this.tech=new _V_[techName](this,techOptions);this.tech.ready(techReady)},unloadTech:function(){this.tech.destroy();if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}this.tech=false},manualProgressOn:function(){this.manualProgress=true;this.trackProgress();this.tech.addEvent("progress",function(){this.removeEvent("progress",arguments.callee);this.support.progressEvent=true;this.player.manualProgressOff()})},manualProgressOff:function(){this.manualProgress=false;this.stopTrackingProgress()},trackProgress:function(){this.progressInterval=setInterval(_V_.proxy(this,function(){if(this.values.bufferEnd<this.buffered().end(0)){this.triggerEvent("progress")}else{if(this.bufferedPercent()==1){this.stopTrackingProgress();this.triggerEvent("progress")}}}),500)},stopTrackingProgress:function(){clearInterval(this.progressInterval)},manualTimeUpdatesOn:function(){this.manualTimeUpdates=true;this.addEvent("play",this.trackCurrentTime);this.addEvent("pause",this.stopTrackingCurrentTime);this.tech.addEvent("timeupdate",function(){this.removeEvent("timeupdate",arguments.callee);this.support.timeupdateEvent=true;this.player.manualTimeUpdatesOff()})},manualTimeUpdatesOff:function(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.removeEvent("play",this.trackCurrentTime);this.removeEvent("pause",this.stopTrackingCurrentTime)},trackCurrentTime:function(){if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=setInterval(_V_.proxy(this,function(){this.triggerEvent("timeupdate")}),250)},stopTrackingCurrentTime:function(){clearInterval(this.currentTimeInterval)},onEnded:function(){if(this.options.loop){this.currentTime(0);this.play()}else{this.pause();this.currentTime(0);this.pause()}},onPlay:function(){_V_.removeClass(this.el,"vjs-paused");_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing");_V_.addClass(this.el,"vjs-paused")},onProgress:function(){if(this.bufferedPercent()==1){this.triggerEvent("loadedalldata")}},onError:function(e){_V_.log("Video Error",e)},techCall:function(method,arg){if(!this.tech.isReady){this.tech.ready(function(){this[method](arg)})}else{try{this.tech[method](arg)}catch(e){_V_.log(e)}}},techGet:function(method){if(this.tech.isReady){try{return this.tech[method]()}catch(e){if(this.tech[method]===undefined){_V_.log("Video.js: "+method+" method not defined for "+this.techName+" playback technology.",e)}else{if(e.name=="TypeError"){_V_.log("Video.js: "+method+" unavailable on "+this.techName+" playback technology element.",e);this.tech.isReady=false}else{_V_.log(e)}}}}return},play:function(){this.techCall("play");return this},pause:function(){this.techCall("pause");return this},paused:function(){return(this.techGet("paused")===false)?false:true},currentTime:function(seconds){if(seconds!==undefined){this.values.lastSetCurrentTime=seconds;this.techCall("setCurrentTime",seconds);if(this.manualTimeUpdates){this.triggerEvent("timeupdate")}return this}return this.values.currentTime=(this.techGet("currentTime")||0)},duration:function(){return parseFloat(this.techGet("duration"))},remainingTime:function(){return this.duration()-this.currentTime()},buffered:function(){var buffered=this.techGet("buffered"),start=0,end=this.values.bufferEnd=this.values.bufferEnd||0,timeRange;if(buffered&&buffered.length>0&&buffered.end(0)!==end){end=buffered.end(0);this.values.bufferEnd=end}return _V_.createTimeRange(start,end)},bufferedPercent:function(){return(this.duration())?this.buffered().end(0)/this.duration():0},volume:function(percentAsDecimal){var vol;if(percentAsDecimal!==undefined){vol=Math.max(0,Math.min(1,parseFloat(percentAsDecimal)));this.values.volume=vol;this.techCall("setVolume",vol);_V_.setLocalStorage("volume",vol);return this}vol=parseFloat(this.techGet("volume"));return(isNaN(vol))?1:vol},muted:function(muted){if(muted!==undefined){this.techCall("setMuted",muted);return this}return this.techGet("muted")||false},width:function(width,skipListeners){if(width!==undefined){this.el.width=width;this.el.style.width=width+"px";if(!skipListeners){this.triggerEvent("resize")}return this}return parseInt(this.el.getAttribute("width"))},height:function(height){if(height!==undefined){this.el.height=height;this.el.style.height=height+"px";this.triggerEvent("resize");return this}return parseInt(this.el.getAttribute("height"))},size:function(width,height){return this.width(width,true).height(height)},supportsFullScreen:function(){return this.techGet("supportsFullScreen")||false},requestFullScreen:function(){var requestFullScreen=_V_.support.requestFullScreen;this.isFullScreen=true;if(requestFullScreen){_V_.addEvent(document,requestFullScreen.eventName,this.proxy(function(){this.isFullScreen=document[requestFullScreen.isFullScreen];if(this.isFullScreen==false){_V_.removeEvent(document,requestFullScreen.eventName,arguments.callee)}this.triggerEvent("fullscreenchange")}));if(this.tech.support.fullscreenResize===false&&this.options.flash.iFrameMode!=true){this.pause();this.unloadTech();_V_.addEvent(document,requestFullScreen.eventName,this.proxy(function(){_V_.removeEvent(document,requestFullScreen.eventName,arguments.callee);this.loadTech(this.techName,{src:this.values.src})}));this.el[requestFullScreen.requestFn]()}else{this.el[requestFullScreen.requestFn]()}}else{if(this.tech.supportsFullScreen()){this.triggerEvent("fullscreenchange");this.techCall("enterFullScreen")}else{this.triggerEvent("fullscreenchange");this.enterFullWindow()}}return this},cancelFullScreen:function(){var requestFullScreen=_V_.support.requestFullScreen;this.isFullScreen=false;if(requestFullScreen){if(this.tech.support.fullscreenResize===false&&this.options.flash.iFrameMode!=true){this.pause();this.unloadTech();_V_.addEvent(document,requestFullScreen.eventName,this.proxy(function(){_V_.removeEvent(document,requestFullScreen.eventName,arguments.callee);this.loadTech(this.techName,{src:this.values.src})}));document[requestFullScreen.cancelFn]()}else{document[requestFullScreen.cancelFn]()}}else{if(this.tech.supportsFullScreen()){this.techCall("exitFullScreen");this.triggerEvent("fullscreenchange")}else{this.exitFullWindow();this.triggerEvent("fullscreenchange")}}return this},enterFullWindow:function(){this.isFullWindow=true;this.docOrigOverflow=document.documentElement.style.overflow;_V_.addEvent(document,"keydown",_V_.proxy(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";_V_.addClass(document.body,"vjs-full-window");_V_.addClass(this.el,"vjs-fullscreen");this.triggerEvent("enterFullWindow")},fullWindowOnEscKey:function(event){if(event.keyCode==27){if(this.isFullScreen==true){this.cancelFullScreen()}else{this.exitFullWindow()}}},exitFullWindow:function(){this.isFullWindow=false;_V_.removeEvent(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;_V_.removeClass(document.body,"vjs-full-window");_V_.removeClass(this.el,"vjs-fullscreen");this.triggerEvent("exitFullWindow")},selectSource:function(sources){for(var i=0,j=this.options.techOrder;i<j.length;i++){var techName=j[i],tech=_V_[techName];if(tech.isSupported()){for(var a=0,b=sources;a<b.length;a++){var source=b[a];if(tech.canPlaySource.call(this,source)){return{source:source,tech:techName}}}}}return false},src:function(source){if(source instanceof Array){var sourceTech=this.selectSource(source),source,techName;if(sourceTech){source=sourceTech.source;techName=sourceTech.tech;if(techName==this.techName){this.src(source)}else{this.loadTech(techName,source)}}else{_V_.log("No compatible source and playback technology were found.")}}else{if(source instanceof Object){if(_V_[this.techName].canPlaySource(source)){this.src(source.src)}else{this.src([source])}}else{this.values.src=source;if(!this.isReady){this.ready(function(){this.src(source)})}else{this.techCall("src",source);if(this.options.preload=="auto"){this.load()}if(this.options.autoplay){this.play()}}}}return this},load:function(){this.techCall("load");return this},currentSrc:function(){return this.techGet("currentSrc")||this.values.src||""},preload:function(value){if(value!==undefined){this.techCall("setPreload",value);this.options.preload=value;return this}return this.techGet("preload")},autoplay:function(value){if(value!==undefined){this.techCall("setAutoplay",value);this.options.autoplay=value;return this}return this.techGet("autoplay",value)},loop:function(value){if(value!==undefined){this.techCall("setLoop",value);this.options.loop=value;return this}return this.techGet("loop")},controls:function(){return this.options.controls},poster:function(){return this.techGet("poster")},error:function(){return this.techGet("error")},ended:function(){return this.techGet("ended")}});(function(){var requestFn,cancelFn,eventName,isFullScreen,playerProto=_V_.Player.prototype;if(document.cancelFullscreen!==undefined){requestFn="requestFullscreen";cancelFn="exitFullscreen";eventName="fullscreenchange";isFullScreen="fullScreen"}else{_V_.each(["moz","webkit"],function(prefix){if((prefix!="moz"||document.mozFullScreenEnabled)&&document[prefix+"CancelFullScreen"]!==undefined){requestFn=prefix+"RequestFullScreen";cancelFn=prefix+"CancelFullScreen";eventName=prefix+"fullscreenchange";if(prefix=="webkit"){isFullScreen=prefix+"IsFullScreen"}else{isFullScreen=prefix+"FullScreen"}}})}if(requestFn){_V_.support.requestFullScreen={requestFn:requestFn,cancelFn:cancelFn,eventName:eventName,isFullScreen:isFullScreen}}})();_V_.PlaybackTech=_V_.Component.extend({init:function(player,options){},onClick:function(){if(this.player.options.controls){_V_.PlayToggle.prototype.onClick.call(this)}}});_V_.apiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");_V_.each(_V_.apiMethods,function(methodName){_V_.PlaybackTech.prototype[methodName]=function(){throw new Error("The '"+methodName+"' method is not available on the playback technology's API")}});_V_.html5=_V_.PlaybackTech.extend({init:function(player,options,ready){this.player=player;this.el=this.createElement();this.ready(ready);this.addEvent("click",this.proxy(this.onClick));var source=options.source;if(source&&this.el.currentSrc==source.src){player.triggerEvent("loadstart")}else{if(source){this.el.src=source.src}}player.ready(function(){if(this.options.autoplay&&this.paused()){this.tag.poster=null;this.play()}});this.setupTriggers();this.triggerReady()},destroy:function(){this.player.tag=false;this.removeTriggers();this.el.parentNode.removeChild(this.el)},createElement:function(){var html5=_V_.html5,player=this.player,el=player.tag,newEl;if(!el||this.support.movingElementInDOM===false){if(el){player.el.removeChild(el)}newEl=_V_.createElement("video",{id:el.id||player.el.id+"_html5_api",className:el.className||"vjs-tech"});el=newEl;_V_.insertFirst(el,player.el)}_V_.each(["autoplay","preload","loop","muted"],function(attr){if(player.options[attr]!==null){el[attr]=player.options[attr]}},this);return el},setupTriggers:function(){_V_.each.call(this,_V_.html5.events,function(type){_V_.addEvent(this.el,type,_V_.proxy(this.player,this.eventHandler))})},removeTriggers:function(){_V_.each.call(this,_V_.html5.events,function(type){_V_.removeEvent(this.el,type,_V_.proxy(this.player,this.eventHandler))})},eventHandler:function(e){e.stopPropagation();this.triggerEvent(e)},play:function(){this.el.play()},pause:function(){this.el.pause()},paused:function(){return this.el.paused},currentTime:function(){return this.el.currentTime},setCurrentTime:function(seconds){try{this.el.currentTime=seconds}catch(e){_V_.log(e,"Video isn't ready. (VideoJS)")}},duration:function(){return this.el.duration||0},buffered:function(){return this.el.buffered},volume:function(){return this.el.volume},setVolume:function(percentAsDecimal){this.el.volume=percentAsDecimal},muted:function(){return this.el.muted},setMuted:function(muted){this.el.muted=muted},width:function(){return this.el.offsetWidth},height:function(){return this.el.offsetHeight},supportsFullScreen:function(){if(typeof this.el.webkitEnterFullScreen=="function"){if(!navigator.userAgent.match("Chrome")&&!navigator.userAgent.match("Mac OS X 10.5")){return true}}return false},enterFullScreen:function(){try{this.el.webkitEnterFullScreen()}catch(e){if(e.code==11){_V_.log("VideoJS: Video not ready.")}}},src:function(src){this.el.src=src},load:function(){this.el.load()},currentSrc:function(){return this.el.currentSrc},preload:function(){return this.el.preload},setPreload:function(val){this.el.preload=val},autoplay:function(){return this.el.autoplay},setAutoplay:function(val){this.el.autoplay=val},loop:function(){return this.el.loop},setLoop:function(val){this.el.loop=val},error:function(){return this.el.error},seeking:function(){return this.el.seeking},ended:function(){return this.el.ended},controls:function(){return this.player.options.controls},defaultMuted:function(){return this.el.defaultMuted}});_V_.html5.isSupported=function(){return !!document.createElement("video").canPlayType};_V_.html5.canPlaySource=function(srcObj){return !!document.createElement("video").canPlayType(srcObj.type)};_V_.html5.events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(",");_V_.html5.prototype.support={fullscreen:(typeof _V_.testVid.webkitEnterFullScreen!==undefined)?(!_V_.ua.match("Chrome")&&!_V_.ua.match("Mac OS X 10.5")?true:false):false,movingElementInDOM:!_V_.isIOS()};if(_V_.isAndroid()){if(_V_.androidVersion()<3){document.createElement("video").constructor.prototype.canPlayType=function(type){return(type&&type.toLowerCase().indexOf("video/mp4")!=-1)?"maybe":""}}}_V_.flash=_V_.PlaybackTech.extend({init:function(player,options){this.player=player;var source=options.source,parentEl=options.parentEl,placeHolder=this.el=_V_.createElement("div",{id:parentEl.id+"_temp_flash"}),objId=player.el.id+"_flash_api",playerOptions=player.options,flashVars=_V_.merge({readyFunction:"_V_.flash.onReady",eventProxyFunction:"_V_.flash.onEvent",errorEventProxyFunction:"_V_.flash.onError",autoplay:playerOptions.autoplay,preload:playerOptions.preload,loop:playerOptions.loop,muted:playerOptions.muted},options.flashVars),params=_V_.merge({wmode:"opaque",bgcolor:"#000000"},options.params),attributes=_V_.merge({id:objId,name:objId,"class":"vjs-tech"},options.attributes);if(source){flashVars.src=encodeURIComponent(_V_.getAbsoluteURL(source.src))}_V_.insertFirst(placeHolder,parentEl);if(options.startTime){this.ready(function(){this.load();this.play();this.currentTime(options.startTime)})}if(options.iFrameMode==true&&!_V_.isFF){var iFrm=_V_.createElement("iframe",{id:objId+"_iframe",name:objId+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});flashVars.readyFunction="ready";flashVars.eventProxyFunction="events";flashVars.errorEventProxyFunction="errors";_V_.addEvent(iFrm,"load",_V_.proxy(this,function(){var iDoc,objTag,swfLoc,iWin=iFrm.contentWindow,varString="";iDoc=iFrm.contentDocument?iFrm.contentDocument:iFrm.contentWindow.document;iDoc.write(_V_.flash.getEmbedCode(options.swf,flashVars,params,attributes));iWin.player=this.player;iWin.ready=_V_.proxy(this.player,function(currSwf){var el=iDoc.getElementById(currSwf),player=this,tech=player.tech;tech.el=el;_V_.addEvent(el,"click",tech.proxy(tech.onClick));_V_.flash.checkReady(tech)});iWin.events=_V_.proxy(this.player,function(swfID,eventName,other){var player=this;if(player&&player.techName=="flash"){player.triggerEvent(eventName)}});iWin.errors=_V_.proxy(this.player,function(swfID,eventName){_V_.log("Flash Error",eventName)})}));placeHolder.parentNode.replaceChild(iFrm,placeHolder)}else{_V_.flash.embed(options.swf,placeHolder,flashVars,params,attributes)}},destroy:function(){this.el.parentNode.removeChild(this.el)},play:function(){this.el.vjs_play()},pause:function(){this.el.vjs_pause()},src:function(src){src=_V_.getAbsoluteURL(src);this.el.vjs_src(src);if(this.player.autoplay()){var tech=this;setTimeout(function(){tech.play()},0)}},load:function(){this.el.vjs_load()},poster:function(){this.el.vjs_getProperty("poster")},buffered:function(){return _V_.createTimeRange(0,this.el.vjs_getProperty("buffered"))},supportsFullScreen:function(){return false},enterFullScreen:function(){return false}});(function(){var api=_V_.flash.prototype,readWrite="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),callOnly="load,play,pause".split(",");createSetter=function(attr){var attrUpper=attr.charAt(0).toUpperCase()+attr.slice(1);api["set"+attrUpper]=function(val){return this.el.vjs_setProperty(attr,val)}},createGetter=function(attr){api[attr]=function(){return this.el.vjs_getProperty(attr)}};_V_.each(readWrite,function(attr){createGetter(attr);createSetter(attr)});_V_.each(readOnly,function(attr){createGetter(attr)})})();_V_.flash.isSupported=function(){return _V_.flash.version()[0]>=10};_V_.flash.canPlaySource=function(srcObj){if(srcObj.type in _V_.flash.prototype.support.formats){return"maybe"}};_V_.flash.prototype.support={formats:{"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},progressEvent:false,timeupdateEvent:false,fullscreenResize:false,parentResize:!(_V_.ua.match("Firefox"))};_V_.flash.onReady=function(currSwf){var el=_V_.el(currSwf);var player=el.player||el.parentNode.player,tech=player.tech;el.player=player;tech.el=el;tech.addEvent("click",tech.onClick);_V_.flash.checkReady(tech)};_V_.flash.checkReady=function(tech){if(tech.el.vjs_getProperty){tech.triggerReady()}else{setTimeout(function(){_V_.flash.checkReady(tech)},50)}};_V_.flash.onEvent=function(swfID,eventName){var player=_V_.el(swfID).player;player.triggerEvent(eventName)};_V_.flash.onError=function(swfID,err){var player=_V_.el(swfID).player;player.triggerEvent("error");_V_.log("Flash Error",err,swfID)};_V_.flash.version=function(){var version="0,0,0";try{version=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){version=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}}catch(e){}}return version.split(",")};_V_.flash.embed=function(swf,placeHolder,flashVars,params,attributes){var code=_V_.flash.getEmbedCode(swf,flashVars,params,attributes),obj=_V_.createElement("div",{innerHTML:code}).childNodes[0],par=placeHolder.parentNode;placeHolder.parentNode.replaceChild(obj,placeHolder);if(_V_.isIE()){var newObj=par.childNodes[0];setTimeout(function(){newObj.style.display="block"},1000)}return obj};_V_.flash.getEmbedCode=function(swf,flashVars,params,attributes){var objTag='<object type="application/x-shockwave-flash"',flashVarsString="",paramsString="";attrsString="";if(flashVars){_V_.eachProp(flashVars,function(key,val){flashVarsString+=(key+"="+val+"&amp;")})}params=_V_.merge({movie:swf,flashvars:flashVarsString,allowScriptAccess:"always",allowNetworking:"all"},params);_V_.eachProp(params,function(key,val){paramsString+='<param name="'+key+'" value="'+val+'" />'});attributes=_V_.merge({data:swf,width:"100%",height:"100%"},attributes);_V_.eachProp(attributes,function(key,val){attrsString+=(key+'="'+val+'" ')});return objTag+attrsString+">"+paramsString+"</object>"};_V_.merge(_V_.Player.prototype,{addTextTracks:function(trackObjects){var tracks=this.textTracks=(this.textTracks)?this.textTracks:[],i=0,j=trackObjects.length,track,Kind;for(;i<j;i++){Kind=_V_.uc(trackObjects[i].kind||"subtitles");track=new _V_[Kind+"Track"](this,trackObjects[i]);tracks.push(track);if(track["default"]){this.ready(_V_.proxy(track,track.show))}}return this},showTextTrack:function(id,disableSameKind){var tracks=this.textTracks,i=0,j=tracks.length,track,showTrack,kind;for(;i<j;i++){track=tracks[i];if(track.id===id){track.show();showTrack=track}else{if(disableSameKind&&track.kind==disableSameKind&&track.mode>0){track.disable()}}}kind=(showTrack)?showTrack.kind:((disableSameKind)?disableSameKind:false);if(kind){this.triggerEvent(kind+"trackchange")}return this}});_V_.Track=_V_.Component.extend({init:function(player,options){this._super(player,options);_V_.merge(this,{id:options.id||("vjs_"+options.kind+"_"+options.language+"_"+_V_.guid++),src:options.src,"default":options["default"],title:options.title,language:options.srclang,label:options.label,cues:[],activeCues:[],readyState:0,mode:0})},createElement:function(){return this._super("div",{className:"vjs-"+this.kind+" vjs-text-track"})},show:function(){this.activate();this.mode=2;this._super()},hide:function(){this.activate();this.mode=1;this._super()},disable:function(){if(this.mode==2){this.hide()}this.deactivate();this.mode=0},activate:function(){if(this.readyState==0){this.load()}if(this.mode==0){this.player.addEvent("timeupdate",this.proxy(this.update,this.id));this.player.addEvent("ended",this.proxy(this.reset,this.id));if(this.kind=="captions"||this.kind=="subtitles"){this.player.textTrackDisplay.addComponent(this)}}},deactivate:function(){this.player.removeEvent("timeupdate",this.proxy(this.update,this.id));this.player.removeEvent("ended",this.proxy(this.reset,this.id));this.reset();this.player.textTrackDisplay.removeComponent(this)},load:function(){if(this.readyState==0){this.readyState=1;_V_.get(this.src,this.proxy(this.parseCues),this.proxy(this.onError))}},onError:function(err){this.error=err;this.readyState=3;this.triggerEvent("error")},parseCues:function(srcContent){var cue,time,text,lines=srcContent.split("\n"),line="",id;for(var i=1,j=lines.length;i<j;i++){line=_V_.trim(lines[i]);if(line){if(line.indexOf("-->")==-1){id=line;line=_V_.trim(lines[++i])}else{id=this.cues.length}cue={id:id,index:this.cues.length};time=line.split(" --> ");cue.startTime=this.parseCueTime(time[0]);cue.endTime=this.parseCueTime(time[1]);text=[];while(lines[++i]&&(line=_V_.trim(lines[i]))){text.push(line)}cue.text=text.join("<br/>");this.cues.push(cue)}}this.readyState=2;this.triggerEvent("loaded")},parseCueTime:function(timeText){var parts=timeText.split(":"),time=0,hours,minutes,other,seconds,ms,flags;if(parts.length==3){hours=parts[0];minutes=parts[1];other=parts[2]}else{hours=0;minutes=parts[0];other=parts[1]}other=other.split(/\s+/);seconds=other.splice(0,1)[0];seconds=seconds.split(/\.|,/);ms=parseFloat(seconds[1]);seconds=seconds[0];time+=parseFloat(hours)*3600;time+=parseFloat(minutes)*60;time+=parseFloat(seconds);if(ms){time+=ms/1000}return time},update:function(){if(this.cues.length>0){var time=this.player.currentTime();if(this.prevChange===undefined||time<this.prevChange||this.nextChange<=time){var cues=this.cues,newNextChange=this.player.duration(),newPrevChange=0,reverse=false,newCues=[],firstActiveIndex,lastActiveIndex,html="",cue,i,j;if(time>=this.nextChange||this.nextChange===undefined){i=(this.firstActiveIndex!==undefined)?this.firstActiveIndex:0}else{reverse=true;i=(this.lastActiveIndex!==undefined)?this.lastActiveIndex:cues.length-1}while(true){cue=cues[i];if(cue.endTime<=time){newPrevChange=Math.max(newPrevChange,cue.endTime);if(cue.active){cue.active=false}}else{if(time<cue.startTime){newNextChange=Math.min(newNextChange,cue.startTime);if(cue.active){cue.active=false}if(!reverse){break}}else{if(reverse){newCues.splice(0,0,cue);if(lastActiveIndex===undefined){lastActiveIndex=i}firstActiveIndex=i}else{newCues.push(cue);if(firstActiveIndex===undefined){firstActiveIndex=i}lastActiveIndex=i}newNextChange=Math.min(newNextChange,cue.endTime);newPrevChange=Math.max(newPrevChange,cue.startTime);cue.active=true}}if(reverse){if(i===0){break}else{i--}}else{if(i===cues.length-1){break}else{i++}}}this.activeCues=newCues;this.nextChange=newNextChange;this.prevChange=newPrevChange;this.firstActiveIndex=firstActiveIndex;this.lastActiveIndex=lastActiveIndex;this.updateDisplay();this.triggerEvent("cuechange")}}},updateDisplay:function(){var cues=this.activeCues,html="",i=0,j=cues.length;for(;i<j;i++){html+="<span class='vjs-tt-cue'>"+cues[i].text+"</span>"}this.el.innerHTML=html},reset:function(){this.nextChange=0;this.prevChange=this.player.duration();this.firstActiveIndex=0;this.lastActiveIndex=0}});_V_.CaptionsTrack=_V_.Track.extend({kind:"captions"});_V_.SubtitlesTrack=_V_.Track.extend({kind:"subtitles"});_V_.ChaptersTrack=_V_.Track.extend({kind:"chapters"});_V_.TextTrackDisplay=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-text-track-display"})}});_V_.TextTrackMenuItem=_V_.MenuItem.extend({init:function(player,options){var track=this.track=options.track;options.label=track.label;options.selected=track["default"];this._super(player,options);this.player.addEvent(track.kind+"trackchange",_V_.proxy(this,this.update))},onClick:function(){this._super();this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){if(this.track.mode==2){this.selected(true)}else{this.selected(false)}}});_V_.OffTextTrackMenuItem=_V_.TextTrackMenuItem.extend({init:function(player,options){options.track={kind:options.kind,player:player,label:"Off"};this._super(player,options)},onClick:function(){this._super();this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){var tracks=this.player.textTracks,i=0,j=tracks.length,track,off=true;for(;i<j;i++){track=tracks[i];if(track.kind==this.track.kind&&track.mode==2){off=false}}if(off){this.selected(true)}else{this.selected(false)}}});_V_.TextTrackButton=_V_.Button.extend({init:function(player,options){this._super(player,options);this.menu=this.createMenu();if(this.items.length===0){this.hide()}},createMenu:function(){var menu=new _V_.Menu(this.player);menu.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)}));menu.addItem(new _V_.OffTextTrackMenuItem(this.player,{kind:this.kind}));this.items=this.createItems();this.each(this.items,function(item){menu.addItem(item)});this.addComponent(menu);return menu},createItems:function(){var items=[];this.each(this.player.textTracks,function(track){if(track.kind===this.kind){items.push(new _V_.TextTrackMenuItem(this.player,{track:track}))}});return items},buildCSSClass:function(){return this.className+" vjs-menu-button "+this._super()},onFocus:function(){this.menu.lockShowing();_V_.one(this.menu.el.childNodes[this.menu.el.childNodes.length-1],"blur",this.proxy(function(){this.menu.unlockShowing()}))},onBlur:function(){},onClick:function(){this.one("mouseout",this.proxy(function(){this.menu.unlockShowing();this.el.blur()}))}});_V_.CaptionsButton=_V_.TextTrackButton.extend({kind:"captions",buttonText:"Captions",className:"vjs-captions-button"});_V_.SubtitlesButton=_V_.TextTrackButton.extend({kind:"subtitles",buttonText:"Subtitles",className:"vjs-subtitles-button"});_V_.ChaptersButton=_V_.TextTrackButton.extend({kind:"chapters",buttonText:"Chapters",className:"vjs-chapters-button",createItems:function(chaptersTrack){var items=[];this.each(this.player.textTracks,function(track){if(track.kind===this.kind){items.push(new _V_.TextTrackMenuItem(this.player,{track:track}))}});return items},createMenu:function(){var tracks=this.player.textTracks,i=0,j=tracks.length,track,chaptersTrack,items=this.items=[];for(;i<j;i++){track=tracks[i];if(track.kind==this.kind&&track["default"]){if(track.readyState<2){this.chaptersTrack=track;track.addEvent("loaded",this.proxy(this.createMenu));return}else{chaptersTrack=track;break}}}var menu=this.menu=new _V_.Menu(this.player);menu.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)}));if(chaptersTrack){var cues=chaptersTrack.cues,i=0,j=cues.length,cue,mi;for(;i<j;i++){cue=cues[i];mi=new _V_.ChaptersTrackMenuItem(this.player,{track:chaptersTrack,cue:cue});items.push(mi);menu.addComponent(mi)}}this.addComponent(menu);if(this.items.length>0){this.show()}return menu}});_V_.ChaptersTrackMenuItem=_V_.MenuItem.extend({init:function(player,options){var track=this.track=options.track,cue=this.cue=options.cue,currentTime=player.currentTime();options.label=cue.text;options.selected=(cue.startTime<=currentTime&&currentTime<cue.endTime);this._super(player,options);track.addEvent("cuechange",_V_.proxy(this,this.update))},onClick:function(){this._super();this.player.currentTime(this.cue.startTime);this.update(this.cue.startTime)},update:function(time){var cue=this.cue,currentTime=this.player.currentTime();if(cue.startTime<=currentTime&&currentTime<cue.endTime){this.selected(true)}else{this.selected(false)}}});_V_.merge(_V_.ControlBar.prototype.options.components,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});_V_.autoSetup=function(){var options,vid,player,vids=document.getElementsByTagName("video");if(vids&&vids.length>0){for(var i=0,j=vids.length;i<j;i++){vid=vids[i];if(vid&&vid.getAttribute){if(vid.player===undefined){options=vid.getAttribute("data-setup");if(options!==null){options=JSON.parse(options||"{}");player=_V_(vid,options)}}}else{_V_.autoSetupTimeout(1);break}}}else{if(!_V_.windowLoaded){_V_.autoSetupTimeout(1)}}};_V_.autoSetupTimeout=function(wait){setTimeout(_V_.autoSetup,wait)};_V_.addEvent(window,"load",function(){_V_.windowLoaded=true});_V_.autoSetup();window.VideoJS=window._V_=VideoJS})(window);

// Video Controller
(function(e){function t(t,n){function r(){if(E)s();else{var e=document.createElement("script");e.src="http://www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t);window.onYouTubePlayerAPIReady=function(){s()}}}function s(){w=new YT.Player(g[0],{events:{onReady:function(){x=true;if(y.settings.reachVideoAction=="playVideo"&&!T){T=true;h()}},onStateChange:function(e){switch(e.data){case YT.PlayerState.BUFFERING:if(!N){N=true;m("start")}break;case YT.PlayerState.PLAYING:if(!N){N=true;m("start")}if(!C){C=true;m("play")}break;case YT.PlayerState.PAUSED:if(C){C=false;m("pause")}break;case YT.PlayerState.ENDED:C=false;m("end")}}}})}function o(){w=Froogaloop(g[0]);w.addEvent("ready",function(){x=true;if(y.settings.reachVideoAction=="playVideo"&&!T){T=true;h()}w.addEvent("loadProgress",function(){if(!N){N=true;m("start")}});w.addEvent("play",function(){if(!N){N=true;m("start")}if(!C){C=true;m("play")}});w.addEvent("pause",function(){if(C){C=false;m("pause")}});w.addEvent("finish",function(){C=false;m("end")})})}function u(){VideoJS(g.attr("id")).ready(function(){w=this;x=true;if(y.settings.reachVideoAction=="playVideo"&&!T){T=true;h()}w.addEvent("play",function(){if(!N){N=true;m("start")}if(!C){C=true;m("play")}});w.addEvent("pause",function(){if(C){C=false;m("pause")}});w.addEvent("ended",function(){C=false;m("end")});w.addEvent("enterFullWindow",function(){m("fullscreenchange")});w.addEvent("exitFullWindow",function(){m("fullscreenchange")})})}function a(){if(S)f();else var e=setInterval(function(){if(sublimevideo.prepare){clearInterval(e);f()}},100)}function f(){if(y.settings.reachVideoAction=="playVideo"&&!T){T=true;h()}sublimevideo.onStart(function(){m("start");m("play")});sublimevideo.onEnd(function(){m("end")})}function l(){w=g[0];x=true;if(y.settings.reachVideoAction=="playVideo"&&!T){T=true;h()}w.addEventListener("play",function(){if(!N){N=true;m("start")}if(!C){C=true;m("play")}});w.addEventListener("pause",function(){if(C){C=false;m("pause")}});w.addEventListener("ended",function(){C=false;m("end")})}function c(){var e=g.find("object").length?g.find("object").attr("id"):g.attr("id");w=jwplayer(e);x=true;if(y.settings.reachVideoAction=="playVideo"&&!T){T=true;h()}w.onPlay(function(){if(!N){N=true;m("start")}if(!C){C=true;m("play")}});w.onBuffer(function(){if(!N){N=true;m("start")}});w.onPause(function(){if(C){C=false;m("pause")}});w.onComplete(function(){C=false;m("end")})}function h(){if(b=="youtube-video")w.playVideo();else if(b=="vimeo-video")w.api("play");else if(b=="html5-video-js")w.play();else if(b=="html5-sublime-video")sublimevideo.play();else if(b=="html5-video")w.play();else b=="jw-player-video"&&w.play(true)}function p(){if(b=="youtube-video"){w.seekTo(1);w.stopVideo()}else if(b=="vimeo-video"){w.api("pause");w.api("unload")}else if(b=="html5-video-js"){w.currentTime(0);w.pause()}else if(b=="html5-sublime-video")sublimevideo.stop();else if(b=="html5-video"){w.currentTime=0;w.pause()}else if(b=="jw-player-video"){w.seek(0);w.pause(true)}}function d(){if(b=="youtube-video")w.pauseVideo();else if(b=="vimeo-video")w.api("pause");else if(b=="html5-video-js")w.pause();else if(b=="html5-sublime-video")sublimevideo.stop();else if(b=="html5-video")w.pause();else b=="jw-player-video"&&w.pause(true)}function v(){if(b=="youtube-video")w.stopVideo();else if(b=="vimeo-video")w.api("pause");else if(b=="html5-video-js")w.pause();else if(b=="html5-sublime-video")sublimevideo.stop();else if(b=="html5-video")w.pause();else b=="jw-player-video"&&w.pause(true)}function m(t){var n={type:t};switch(t){case"start":e.isFunction(y.settings.start)&&y.settings.start.call(this,n);break;case"play":e.isFunction(y.settings.play)&&y.settings.play.call(this,n);break;case"pause":e.isFunction(y.settings.pause)&&y.settings.pause.call(this,n);break;case"end":e.isFunction(y.settings.end)&&y.settings.end.call(this,n);break;case"fullscreenchange":e.isFunction(y.settings.fullscreenchange)&&y.settings.fullscreenchange.call(this,n)}}this.settings=e.extend({},e.fn.videoController.defaults,n);var g=e(t),y=this,b,w,E=window.YT&&window.YT.Player,S=window.sublimevideo&&window.sublimevideo.prepare,x=false,T=false,N=false,C=false;b=y.settings.videoType;switch(b){case"youtube-video":r();break;case"vimeo-video":o();break;case"html5-video-js":u();break;case"html5-sublime-video":a();break;case"html5-video":l();break;case"jw-player-video":c()}this.reachVideo=function(){if(y.settings.reachVideoAction=="playVideo"&&x&&!T){T=true;h()}};this.leaveVideo=function(){T=false;if(N&&w||b=="html5-sublime-video")if(y.settings.leaveVideoAction=="stopVideo"||y.settings.leaveVideoAction=="removeVideo")p();else if(y.settings.leaveVideoAction=="pauseVideoAndBuffering")v();else y.settings.leaveVideoAction=="pauseVideo"&&d()};this.stopVideo=p;this.pauseVideo=d;this.replayVideo=function(){if(b=="youtube-video"){w.seekTo(1);w.playVideo()}else if(b=="vimeo-video")w.api("play");else if(b=="html5-video-js"){w.currentTime(0);w.play()}else if(b=="html5-sublime-video")sublimevideo.play();else if(b=="html5-video"){w.currentTime=0;w.play()}else if(b=="jw-player-video"){w.seek(0);w.play(true)}};this.pauseVideoAndBuffering=v}e.fn.videoController=function(e){for(var n=[],r=0;r<this.length;r++){if(!this[r].videoControllerInstance)this[r].videoControllerInstance=new t(this[r],e);n.push(this[r].videoControllerInstance)}return n.length>1?n:n[0]};e.fn.videoController.defaults={start:null,play:null,pause:null,end:null,videoType:null,fullscreenchange:null,reachVideoAction:"none",leaveVideoAction:"pauseVideo"}})(jQuery);

// Easing
jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){e=1.70158;var s=0,o=r;if(t==0)return n;if((t/=i)==1)return n+r;s||(s=i*.3);if(o<Math.abs(r)){o=r;e=s/4}else e=s/(2*Math.PI)*Math.asin(r/o);return-(o*Math.pow(2,10*(t-=1))*Math.sin((t*i-e)*2*Math.PI/s))+n},easeOutElastic:function(e,t,n,r,i){e=1.70158;var s=0,o=r;if(t==0)return n;if((t/=i)==1)return n+r;s||(s=i*.3);if(o<Math.abs(r)){o=r;e=s/4}else e=s/(2*Math.PI)*Math.asin(r/o);return o*Math.pow(2,-10*t)*Math.sin((t*i-e)*2*Math.PI/s)+r+n},easeInOutElastic:function(e,t,n,r,i){e=1.70158;var s=0,o=r;if(t==0)return n;if((t/=i/2)==2)return n+r;s||(s=i*.3*1.5);if(o<Math.abs(r)){o=r;e=s/4}else e=s/(2*Math.PI)*Math.asin(r/o);if(t<1)return-.5*o*Math.pow(2,10*(t-=1))*Math.sin((t*i-e)*2*Math.PI/s)+n;return o*Math.pow(2,-10*(t-=1))*Math.sin((t*i-e)*2*Math.PI/s)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){if(t<i/2)return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n;return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}});

// Advanced Slider
(function(e){function t(t,n){function r(){xn=dt.find(".slides");if(vt.settings.shuffle){var t=xn.children();xn.find(".slide").each(function(t){e(this).attr("data-index",t)});t=t.sort(function(){return.5-Math.random()});xn.empty().append(t)}dt.find("a[data-rel^='slider-lightbox']").length&&dt.find("a[data-rel^='slider-lightbox']").each(function(){e(this).attr("rel",e(this).attr("data-rel"))});xn.children(".slide").each(function(t,n){var r={},i=vt.settings.shuffle?parseInt(e(n).data("index"),10):t;r.properties={};wt.push(e(this));e(this).data("image")&&(r.lazyImage=e(this).data("image"),r.lazyImageLoaded=!1);for(var s=0;s<e(this).children().length;s++){var o=e(this).children()[s];e(o).hasClass("thumbnail")||e(o).is("a")&&e(o).children(".thumbnail").length?r.thumbnail=e(o).clone():e(o).hasClass("layer")?(r.layer||(r.layer=[]),r.layer.push(e(o))):r[e(o).attr("class")]=e(o)}!r.caption&&e(this).find(".caption").length&&(r.caption=e(this).find(".caption"));!r.html&&e(this).find(".html").length&&(r.html=e(this).find(".html"));if(vt.settings.xmlSource)r.properties=bt[i].properties,bt[t]=r;else{for(s=0;s<Fn.length;s++){var o=Fn[s],u;vt.settings.slideProperties&&vt.settings.slideProperties[i]&&(u=vt.settings.slideProperties[i][o]);r.properties[o]||(r.properties[o]=void 0===u?vt.settings[o]:u)}bt.push(r)}});Hn?(xn.find(".slide .thumbnail").parent("a").css("display","none"),xn.find(".slide .thumbnail").css("display","none"),e(window).load(function(){xn.find(".slide .thumbnail").parent("a").remove();xn.find(".slide .thumbnail").remove()})):(xn.find(".slide .thumbnail").parent("a").remove(),xn.find(".slide .thumbnail").remove());Et=bt.length;i();t={type:"sliderInit"};e.isFunction(vt.settings.sliderInit)&&vt.settings.sliderInit.call(this,t)}function i(){dt.addClass(vt.settings.skin).css({width:vt.settings.width,height:vt.settings.height}).focus(function(){Bn=!0;dt.addClass("focus")}).blur(function(){Bn=!1;dt.hasClass("focus")&&dt.removeClass("focus")});En=e('<div class="slider-main"></div>').appendTo(dt);"chrome"===Dn||"safari"===Dn?dt.addClass("webkit"):dt.addClass(Dn);"msie"===Dn&&(6===parseInt(Pn,10)?dt.addClass("ie6"):7===parseInt(Pn,10)?dt.addClass("ie7"):8===parseInt(Pn,10)?dt.addClass("ie8"):9===parseInt(Pn,10)&&dt.addClass("ie9"));Sn=e('<div class="slide-wrapper"></div>').append(xn).appendTo(En).hover(function(){Ct=!0;if(vt.settings.timerAnimation&&vt.settings.timerToggle&&"stopped"!==Ht&&!Tt){var e=dt.find(".timer-animation");Hn?e.show():e.stop().animate({opacity:1},vt.settings.timerFadeDuration)}kt&&vt.settings.lightboxIconToggle&&(e=Sn.find(".lightbox-icon"),Hn?e.css("filter",""):e.stop().animate({opacity:1},vt.settings.lightboxIconFadeDuration));vt.settings.pauseSlideshowOnHover&&!_t&&I();Ot&&vt.settings.captionToggle&&D();vt.settings.slideArrows&&vt.settings.slideArrowsToggle&&(Hn?dt.find(".slide-arrows a").stop().show():dt.find(".slide-arrows a").stop().animate({opacity:1},vt.settings.slideArrowsShowDuration));vt.settings.slideshowControls&&vt.settings.slideshowControlsToggle&&(Hn?dt.find(".slideshow-controls").stop().show():dt.find(".slideshow-controls").stop().animate({opacity:1},vt.settings.slideshowControlsShowDuration));vt.settings.autoToggle&&Q()},function(){Ct=!1;vt.settings.autoToggle&&G();if(vt.settings.timerAnimation&&vt.settings.timerToggle&&"stopped"!==Ht&&!Tt){var e=dt.find(".timer-animation");Hn?e.hide():e.stop().animate({opacity:0},vt.settings.timerFadeDuration)}kt&&vt.settings.lightboxIconToggle&&(e=Sn.find(".lightbox-icon"),Hn?e.css("opacity",0):e.stop().animate({opacity:0},vt.settings.lightboxIconFadeDuration));!vt.settings.pauseSlideshowOnHover||Lt||Mt||_t||q();Ot&&vt.settings.captionToggle&&P();vt.settings.slideArrows&&vt.settings.slideArrowsToggle&&(Hn?dt.find(".slide-arrows a").stop().hide():dt.find(".slide-arrows a").stop().animate({opacity:0},vt.settings.slideArrowsHideDuration));vt.settings.slideshowControls&&vt.settings.slideshowControlsToggle&&(Hn?dt.find(".slideshow-controls").stop().hide():dt.find(".slideshow-controls").stop().animate({opacity:0},vt.settings.slideshowControlsHideDuration))});vt.settings.border||Sn.css("border","none");vt.settings.glow||Sn.css({"box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none"});"swipe"===vt.settings.effectType&&e('<div class="swipeable-container"></div>').appendTo(Sn).append(xn);xn.find(".slide").each(function(t){var n=e(this),r=n.find("img.image"),n=n.find(".caption"),i=bt[t],s=i.properties;r.length&&(r.data("index",t),i.imagePath=r.attr("src"));n.length&&(t=parseFloat(s.captionBackgroundOpacity),r=s.captionBackgroundColor,s=e('<div class="caption-container"></div>').appendTo(n.parent()),s=e('<div class="wrapper"></div>').appendTo(s),e('<div class="background"></div>').css({opacity:t,"background-color":r}).appendTo(s),n.appendTo(s))});xn.find(".layer.static").each(function(){var t=e(this),n=t.data();"undefined"!==typeof n.width&&t.css("width",n.width);"undefined"!==typeof n.height&&t.css("height",n.height);"undefined"!==typeof n.depth&&t.css("z-index",n.depth);var r=n.position?n.position.toLowerCase():"topleft",i=-1!==r.indexOf("right")?"right":"left",r=-1!==r.indexOf("bottom")?"bottom":"top";"undefined"!==typeof n.horizontal?"left"===n.horizontal&&"left"===i||"right"===n.horizontal&&"right"===i?t.css(i,0):"right"===n.horizontal&&"left"===i||"left"===n.horizontal&&"right"===i?(t.css("margin-"+i,-t.outerWidth(!1)),t.css(i,"100%")):"center"===n.horizontal?(t.css("margin-"+i,.5*-t.outerWidth(!1)),t.css(i,"50%")):t.css(i,n.horizontal):t.css(i,0);"undefined"!==typeof n.vertical?"top"===n.vertical&&"top"===r||"bottom"===n.vertical&&"bottom"===r?t.css(r,0):"bottom"===n.vertical&&"top"===r||"top"===n.vertical&&"bottom"===r?(t.css("margin-"+r,-t.outerHeight(!1)),t.css(r,"100%")):"center"===n.vertical?(t.css("margin-"+r,.5*-t.outerHeight(!1)),t.css(r,"50%")):t.css(r,n.vertical):t.css(r,0);t.css("visibility","inherit").addClass("init")});xn.find("video").each(function(){var t=e(this),n=t.parent();if(On){var r=t[0].outerHTML;t.remove();n.html(r);t=n.find("video");t[0].load()}t.hasClass("video-js")&&VideoJS(t.attr("id"),t.data("video"))});xn.find(".jw-player").length&&xn.find(".jw-player").each(function(t){video=e(this);jwPlayerArgs={};jwPlayerModes=[];flashModeSources=[];html5ModeSources=[];sources=[];video.find(".source").each(function(){var t=e(this);t.data("quality")?jwPlayerArgs.plugins={"hd-2":{file:t.data("file")}}:sources.push(e(this).data())});sources.length&&(1===sources.length?jwPlayerArgs.file=sources[0].file:jwPlayerArgs.levels=sources,video.data("provider")&&(jwPlayerArgs.provider=video.data("provider")),video.data("streamer")&&(jwPlayerArgs.streamer=video.data("streamer")));video.data("width")&&(jwPlayerArgs.width=video.data("width"));video.data("height")&&(jwPlayerArgs.height=video.data("height"));video.data("image")&&(jwPlayerArgs.image=video.data("image"));video.data("poster")&&(jwPlayerArgs.image=video.data("poster"));video.attr("data-dock")&&(jwPlayerArgs.dock="true"===video.attr("data-dock")?!0:!1);vt.settings.jwPlayerSkin&&(jwPlayerArgs.skin=vt.settings.jwPlayerSkin);vt.settings.jwPlayerPlugins&&(jwPlayerArgs.plugins=vt.settings.jwPlayerPlugins[t]||vt.settings.jwPlayerPlugins);video.data("sharing")&&(jwPlayerArgs.plugins||(jwPlayerArgs.plugins={}),jwPlayerArgs.plugins["sharing-2"]={link:video.data("sharing")});jwplayer(video.attr("id")).setup(jwPlayerArgs)});xn.find("video.sublime-video").length&&window.sublimevideo&&sublimevideo.ready(function(){xn.find("video.sublime-video").each(function(){sublimevideo.prepare(e(this).attr("id"))})});xn.find("a.video").length&&xn.find("a.video").each(function(){var t=e(this),n=t.children("img").attr("width"),r=t.children("img").attr("height");e(this).parent();var i=e("<a></a>").addClass("video-play-button").appendTo(t).click(function(e){e.preventDefault()});t.click(function(s){s.preventDefault();i.fadeOut(300);s=t.attr("href");var o;if(-1!==s.indexOf("youtube")||-1!==s.indexOf("youtu.be")){o=/(\?|&)v\=([^&]*)(&|$)/;o=s.match(o);var u=o[2],a="http://www.youtube.com/embed/"+u+"?enablejsapi=1&wmode=opaque&autoplay=1";s=s.split("?")[1].split("&");e.each(s,function(e,t){-1===t.indexOf(u)&&(a+="&"+t)});o=e("<iframe allowfullscreen></iframe>").attr("src",a).attr("width",n).attr("height",r).attr("class",t.attr("class")).attr("frameborder",0).insertBefore(t)}else if(-1!==s.indexOf("vimeo")){o=/http:\/\/(www\.)?vimeo.com\/(\d+)/;o=s.match(o);u=o[2];a="http://player.vimeo.com/video/"+u+"?api=1&autoplay=1";if(s=s.split("?")[1])s=s.split("&"),e.each(s,function(e,t){-1===t.indexOf(u)&&(a+="&"+t)});o=e("<iframe></iframe>").attr("src",a).attr("width",n).attr("height",r).attr("class",t.attr("class")).attr("frameborder",0).insertBefore(t)}t.addClass("video-hidden-image");"stopSlideshow"!==vt.settings.videoPlayAction||_t?"pauseSlideshow"!==vt.settings.videoPlayAction||_t||I():F();"removeVideo"===vt.settings.leaveVideoAction||On||"msie"===Dn&&7>=parseInt(Pn,10)?wn=o:C()})});St=vt.settings.slideStart;var t=window.location.hash;if(t){var t=t.substring(1),n=t.split("-"),n=parseInt(n.pop(),10),t=t.slice(0,-n.toString().length-1);dt.attr("id")===t&&0<=n&&n<=Et-1&&(St=n)}vt.settings.slideArrows&&a();vt.settings.slideButtons&&l();vt.settings.shadow&&v();"scroller"!==vt.settings.thumbnailType&&"tooltipAndScroller"!==vt.settings.thumbnailType||z();vt.settings.slideshowControls&&f();vt.settings.keyboardNavigation&&c();vt.settings.fullscreenControls&&!On&&"msie"!==Dn&&h();dt.find("a[rel^='slider-lightbox']").length&&(At=dt.find("a[rel^='slider-lightbox']").prettyPhoto({social_tools:"",deeplinking:!1,overlay_gallery:!1,theme:vt.settings.lightboxTheme,opacity:vt.settings.lightboxOpacity,autoplay_slideshow:vt.settings.lightboxAutoplay,slideshow:vt.settings.lightboxAutoplayDelay,autoplay:vt.settings.lightboxVideoAutoplay,allow_resize:vt.settings.ligthboxAllowResize,openLightbox:function(){Lt||(Lt=!0,dt.blur(),_t||I())},callback:function(){Lt&&(Lt=!1,dt.focus(),_t||q())}}));(("scroller"===vt.settings.thumbnailType||"tooltipAndScroller"===vt.settings.thumbnailType)&&(vt.settings.thumbnailMouseScroll||vt.settings.thumbnailTooltip||vt.settings.thumbnailScrollbar)||vt.settings.autoToggle)&&e(document).bind("mousemove",function(e){fn=e.pageX;ln=e.pageY;hn=fn+ln});if(vt.settings.disableRightClick)dt.on("contextmenu","img, .thumbnail-scroller .thumbnail",function(e){return!1});yn="none";s();y(St);e(window).resize(s)}function s(){var t=0,n=0;vt.settings.responsive&&(dt.css({width:"100%",maxWidth:vt.settings.width,maxHeight:vt.settings.height}),-1===vt.settings.aspectRatio&&(vt.settings.aspectRatio=vt.settings.width/vt.settings.height));-1!==vt.settings.aspectRatio&&dt.css("height",dt.width()/vt.settings.aspectRatio);if("scroller"===vt.settings.thumbnailType||"tooltipAndScroller"===vt.settings.thumbnailType)vt.settings.fullscreenThumbnailScrollerOverlay&&"on"===jn?"horizontal"===vt.settings.thumbnailOrientation?En.css("height",dt.height()):"vertical"===vt.settings.thumbnailOrientation&&En.css("width",dt.width()):vt.settings.thumbnailScrollerOverlay||("horizontal"===vt.settings.thumbnailOrientation?En.css("height",dt.height()-Ut.outerHeight(!0)):"vertical"===vt.settings.thumbnailOrientation&&En.css("width",dt.width()-Ut.outerWidth(!0)));if(vt.settings.shadow){var r=En.find(".shadow");if("on"===jn&&!vt.settings.fullscreenShadow||400>En.width())r.css("display","none");else{r.css("display","block");var i=r.find(".shadow-middle"),s=r.find(".shadow-left").width()+r.find(".shadow-right").width(),u=parseInt(r.css("height"),10)+parseInt(r.css("margin-top"),10);r.css("width",En.width());i.css("width",r.width()-s);t=u>t?u:t}}vt.settings.slideButtons&&(r=En.find(".slide-buttons"),u=r.find("buttons-middle"),i=u.find("buttons-inner"),s=parseInt(r.css("height"),10)+parseInt(r.css("margin-top"),10),r.css("left",0),vt.settings.slideButtonsCenter&&(u=(u.width()-i.width())/2,i.css("left",u)),vt.settings.slideButtonsContainerCenter&&(u=(En.width()-r.width())/2,r.css("left",u)),"on"!==jn||vt.settings.fullscreenSlideButtons?(r.css("display","block"),t=s>t?s:t):r.css("display","none"));Cn=t;t+=parseInt(Sn.css("border-top-width"),10)+parseInt(Sn.css("border-bottom-width"),10);n+=parseInt(Sn.css("border-left-width"),10)+parseInt(Sn.css("border-right-width"),10);Sn.css({height:En.height()-t,width:En.width()-n});Tn=Sn.width();Nn=Sn.height();xn.find(".slide").each(function(t){var n=e(this),r=n.find("img.image"),i=bt[t].properties.alignType;r.length&&(r.data("loaded")?o(r,i):(r.css("visibility","hidden"),r.sliderImagesLoaded(function(e,t,n){t.length&&(r.css("visibility",""),o(r,i))})));if("swipe"===vt.settings.effectType){var s=-1!==mt?mt:St;"horizontal"===vt.settings.swipeOrientation?(xn.css("left",-s*(xn.width()+vt.settings.swipeSlideDistance)),n.css("left",t*(xn.width()+vt.settings.swipeSlideDistance))):"vertical"===vt.settings.swipeOrientation&&(xn.css("top",-s*(xn.height()+vt.settings.swipeSlideDistance)),n.css("top",t*(xn.height()+vt.settings.swipeSlideDistance)))}});"tooltipAndScroller"!==vt.settings.thumbnailType&&"scroller"!==vt.settings.thumbnailType||"proportionalFit"===vt.settings.scaleType||(W(),nt(),vt.settings.thumbnailMouseScroll&&Y());t={type:"doSliderLayout"};e.isFunction(vt.settings.doSliderLayout)&&vt.settings.doSliderLayout.call(this,t)}function o(e,t){e.data("loaded")||(e.data("loaded",!0),e.data("width",e.width()),e.data("height",e.height()));vt.settings.allowScaleUp||e.css({maxWidth:e.data("width"),maxHeight:e.data("height")});switch(vt.settings.scaleType){case"exactFit":e.css({width:"100%",height:"100%"});break;case"insideFit":e.width()/e.height()>=Sn.width()/Sn.height()?e.css({width:"100%",height:"auto"}):e.css({width:"auto",height:"100%"});break;case"outsideFit":e.width()/e.height()<=Sn.width()/Sn.height()?e.css({width:"100%",height:"auto"}):e.css({width:"auto",height:"100%"});break;case"proportionalFit":if(e.data("index")===mt&&e.data("loaded")&&(Sn.css("width",Tn),Sn.css("height",Nn),e.css({width:"100%",height:"auto"}),Sn.css("height",e.height()),En.css("height",Sn.outerHeight(!0)+Cn),"scroller"===vt.settings.thumbnailType||"tooltipAndScroller"===vt.settings.thumbnailType?("horizontal"!==vt.settings.thumbnailOrientation||vt.settings.thumbnailScrollerOverlay?dt.css("height",En.height()):dt.css("height",En.height()+Ut.outerHeight(!0)),W(),nt(),vt.settings.thumbnailMouseScroll&&Y()):dt.css("height",En.height()),-1!==gt)){var n=wt[gt].find("img.image"),r=bt[gt].properties.alignType;n.length&&u(n,r)}}u(e,t)}function u(e,t){var n=e.width(),r=e.height();switch(t){case"leftTop":e.css({left:0,top:0});break;case"leftCenter":e.css({left:0,top:"50%","margin-top":.5*-r});break;case"leftBottom":e.css({left:0,bottom:0});break;case"centerTop":e.css({left:"50%",top:0,"margin-left":.5*-n});break;case"centerCenter":e.css({left:"50%",top:"50%","margin-left":.5*-n,"margin-top":.5*-r});break;case"centerBottom":e.css({left:"50%",bottom:0,"margin-left":.5*-n});break;case"rightTop":e.css({right:0,top:0});break;case"rightCenter":e.css({right:0,top:"50%","margin-top":.5*-r});break;case"rightBottom":e.css({right:0,bottom:0});break;case"default":e.css({left:"50%",top:"50%","margin-left":.5*-n,"margin-top":.5*-r})}}function a(){var t=e('<div class="slide-arrows"></div>').appendTo(Sn),n=e('<a class="previous"></a>').appendTo(t).click(function(){yn="previousButton";w()}),t=e('<a class="next"></a>').appendTo(t).click(function(){yn="nextButton";b()});vt.settings.slideArrowsToggle&&(Hn?(n.hide(),t.hide()):(n.css("opacity",0),t.css("opacity",0)))}function f(){var t=e('<div class="slideshow-controls"></div>').appendTo(Sn),n=vt.settings.slideshow?"pause":"play";Ht=vt.settings.slideshow?"playing":"stopped";t.addClass(n).click(function(){"playing"===Ht||"paused"===Ht?j():"stopped"===Ht&&B()});vt.settings.slideshowControlsToggle&&(Hn?t.hide():t.css("opacity",0))}function l(){var t=Et,n=e('<div class="slide-buttons"></div>').appendTo(En);e('<div class="left"></div>').appendTo(n);var r=e('<div class="middle"></div>').appendTo(n);e('<div class="right"></div>').appendTo(n);for(var r=e('<div class="buttons-inner"></div>').appendTo(r),i=0;i<t;i++){var s=e('<a rel="'+i+'"></a>').appendTo(r);vt.settings.slideButtonsNumber&&e('<div class="number">'+(i+1)+"</div>").appendTo(s);s.hover(function(){var t=parseInt(e(this).attr("rel"),10);e(this).hasClass("select")||e(this).addClass("over");"tooltip"!==bt[t].properties.thumbnailType&&"tooltipAndScroller"!==bt[t].properties.thumbnailType||m(t)},function(){var t=parseInt(e(this).attr("rel"),10);e(this).hasClass("select")||e(this).removeClass("over");"tooltip"!==bt[t].properties.thumbnailType&&"tooltipAndScroller"!==bt[t].properties.thumbnailType||g()});s.click(function(){yn="button";y(parseInt(e(this).attr("rel"),10))})}vt.settings.slideButtonsToggle&&(Hn?n.hide():n.css("opacity",0),dt.hover(function(){Hn?n.show():n.stop().animate({opacity:1},vt.settings.slideButtonsShowDuration)},function(){Hn?n.hide():n.stop().animate({opacity:0},vt.settings.slideButtonsHideDuration)}))}function c(){e(document).keydown(function(e){37===e.which&&(vt.settings.keyboardNavigationOnFocusOnly&&Bn||!vt.settings.keyboardNavigationOnFocusOnly)?w():39===e.which&&(vt.settings.keyboardNavigationOnFocusOnly&&Bn||!vt.settings.keyboardNavigationOnFocusOnly)?b():13===e.which&&Bn&&wt[mt].children("a").length&&wt[mt].children("a").not(".thumbnail")[0].click()})}function h(){var n=e('<div class="full-screen-controls"></div>').appendTo(Sn);n.click(function(){"off"===jn?t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen():"on"===jn&&(document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen())});document.addEventListener("fullscreenchange",p);document.addEventListener("mozfullscreenchange",p);document.addEventListener("webkitfullscreenchange",p);vt.settings.fullscreenControlsToggle&&!Ct?n.css("opacity",0):Hn||n.css({opacity:0}).stop().animate({opacity:1},vt.settings.fullscreenIconHideDuration);vt.settings.fullscreenControlsToggle&&Sn.hover(function(){Hn?n.css("filter",""):n.stop().animate({opacity:1},vt.settings.fullscreenIconShowDuration)},function(){Hn?n.css("opacity",0):n.stop().animate({opacity:0},vt.settings.fullscreenIconHideDuration)})}function p(){jn=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen?"on":"off";"on"===jn?(dt.css({width:"100%",height:"100%"}).addClass("fullscreen"),Ut&&vt.settings.fullscreenThumbnailScrollerOverlay&&Ut.addClass("overlay")):(dt.css({width:vt.settings.width,height:vt.settings.height}).removeClass("fullscreen"),Ut&&vt.settings.fullscreenThumbnailScrollerOverlay&&Ut.removeClass("overlay"));s()}function v(){var t=e('<div class="shadow"></div>').appendTo(En);e('<div class="shadow-left"></div>').appendTo(t);e('<div class="shadow-middle"></div>').appendTo(t);e('<div class="shadow-right"></div>').appendTo(t)}function m(t){if(bt[t].thumbnail){var n=bt[t].thumbnail.hasClass("thumbnail")&&!bt[t].thumbnail.is("img"),r=e('<div class="thumbnail-wrapper"></div>').appendTo(dt.find(".buttons-inner")),i;if(n)i=bt[t].thumbnail.clone(),i.addClass("thumbnail-content").css({width:vt.settings.thumbnailWidth,height:vt.settings.thumbnailHeight}).attr("data-index",t).appendTo(r);else{var n=bt[t].thumbnail.is("a")?bt[t].thumbnail.find("img"):bt[t].thumbnail,s=n.attr("src"),o=n.attr("alt");i=e('<div class="thumbnail"></div>').css({width:vt.settings.thumbnailWidth,height:vt.settings.thumbnailHeight}).appendTo(r);if(o){var n=e('<div class="caption"></div>').appendTo(i),u=e('<div class="background"></div>').appendTo(n),o=e('<div class="content">'+o+"</div>").appendTo(n);u.css("opacity");n.css("height",o.outerHeight(!0));"top"===vt.settings.thumbnailCaptionPosition?n.css("top",0):n.css("bottom",0)}e("<img/>").load(function(){i.css("background-image",'url("'+s+'")')}).attr("src",s)}r.css({width:i.outerWidth(!1),height:i.outerHeight(!1)});n=dt.find(".buttons-inner a").eq(t);t=n.position().left-(r.outerWidth(!0)-n.width())/2;n=n.position().top-r.outerHeight(!0);Hn&&r.find("*").not(".background").css("filter","inherit");r.css({left:t,top:n-vt.settings.thumbnailSlideAmount,opacity:0});Hn?(r.animate({top:n,opacity:1},vt.settings.thumbnailSlideDuration,vt.settings.thumbnailSlideEasing),r.find(".caption .background").animate({opacity:1},vt.settings.thumbnailSlideDuration)):r.animate({top:n,opacity:1},vt.settings.thumbnailSlideDuration,vt.settings.thumbnailSlideEasing)}}function g(){var e=dt.find(".buttons-inner .thumbnail-wrapper");if(e.length){var t=e.find(".background");Hn&&t.animate({opacity:0},vt.settings.thumbnailSlideDuration);e.animate({top:e.position().top-vt.settings.thumbnailSlideAmount,opacity:0},vt.settings.thumbnailSlideDuration,vt.settings.thumbnailSlideEasing,function(){e.remove()})}}function y(t){if(t!==mt){if(Tt||Nt)if(vt.settings.overrideTransition)switch(Ln){case"slide":wt[mt].stop(!1,!0);break;case"fade":wt[mt].stop(!1,!0);-1!==gt&&wt[gt].stop(!1,!0).css("visibility","");break;case"slice":xt.find(".slice").each(function(){clearTimeout(e(this).data("delay"));e(this).stop().remove()}),xt.remove(),-1!==gt&&wt[gt].css("visibility",""),wt[mt].css("visibility","visible"),N()}else if("swipe"!==vt.settings.effectType)return;vt.settings.slideshow&&F();if(kt){kt=!1;var n=Sn.find(".lightbox-icon");Hn?n.remove():n.stop().animate({opacity:0},vt.settings.lightboxIconFadeDuration,function(){n.remove()})}if(wn){Mt=!1;var r=wt[mt].find(".video-hidden-image");("removeVideo"===vt.settings.leaveVideoAction||On||"msie"===Dn&&7>=parseInt(Pn,10))&&r.length?(r=wt[mt].find(".video-hidden-image"),r.removeClass("video-hidden-image"),wn.remove(),r.find(".video-play-button").show()):wn.leaveVideo();wn=null}Tt=!0;gt=mt;mt=t;-1!==gt&&(wt[gt].removeClass("active"),wt[gt].addClass("transition"));wt[mt].addClass("active");"swipe"===vt.settings.effectType?xn.find(".slide").addClass("transition"):wt[mt].addClass("transition");mt!==yt&&Ot&&"swipe"!==vt.settings.effectType&&(Ot=!1,P(),bn&&clearTimeout(bn));var r=bt[t],i=wt[t].find("img.image");if(r.lazyImage&&!r.lazyImageLoaded){var s=e('<img class="image"/>').attr("src",bt[t].lazyImage);i.attr("alt")&&s.attr("alt",i.attr("alt"));i.attr("title")&&s.attr("title",i.attr("title"));s.data("index",t);i.length?(s.prependTo(i.parent()),i.remove()):s.prependTo(wt[t]);i=s;r.imagePath=i.attr("src");r.lazyImageLoaded=!0}if(!i.length||i.data("loaded")&&"proportionalFit"!==vt.settings.scaleType)T();else{Nt=!0;var u=r.properties.alignType;"swipe"===vt.settings.effectType?(i.css("visibility","hidden"),S(wt[i.data("index")]),i.sliderImagesLoaded(function(e,t,n){t.length&&o(i,u);i.css("visibility","");wt[i.data("index")].find(".preloader").stop().remove();mt===i.data("index")&&(Nt=!1)}),T()):(S(Sn),i.sliderImagesLoaded(function(e,t,n){t.length&&o(i,u);mt===i.data("index")&&(Sn.find(".preloader").stop().remove(),T(),Nt=!1)}))}vt.settings.slideButtons&&(s=dt.find(".buttons-inner"),s.find(".select").removeClass("select"),s.find("a").eq(t).attr("class","select"));if("scroller"===vt.settings.thumbnailType||"tooltipAndScroller"===vt.settings.thumbnailType)Ut.find(".thumbnail.select").removeClass("select"),Ut.find(".thumbnail[data-index="+t+"]").removeClass("over").addClass("select"),vt.settings.thumbnailSync&&!tn&&(t=Math.floor(t/(It*en)),t!==Yt&&K(t));t={type:"slideOpen",index:mt,data:r};e.isFunction(vt.settings.slideOpen)&&vt.settings.slideOpen.call(this,t)}}function b(){y(mt===Et-1?0:mt+1)}function w(){y(0===mt?Et-1:mt-1)}function E(t){if(!(1>=Et)){t=t===Et-1?0:t+1;var n=bt[t];if(n.lazyImage&&!n.lazyImageLoaded){var r=wt[t].find("img.image"),i=e('<img class="image"/>').attr("src",n.lazyImage),s=n.properties.alignType;r.attr("alt")&&i.attr("alt",r.attr("alt"));r.attr("title")&&i.attr("title",r.attr("title"));i.data("index",t);r.length?(i.prependTo(r.parent()),r.remove()):i.prependTo(wt[t]);r=i;n.lazyImageLoaded=!0;n.imagePath=r.attr("src");r.sliderImagesLoaded(function(e,t,n){t.length&&o(r,s)})}}}function S(t){if(!t.find(".preloader").length){var n=e('<div class="preloader"></div>').hide().appendTo(t),r=.5*(t.outerWidth(!0)-n.width());t=.5*(t.outerHeight(!0)-n.height());n.fadeIn(300);n.css({left:r,top:t})}}function x(e){e.preventDefault()}function T(){var t=bt[mt].properties.effectType;!vt.settings.initialEffect&&gn&&(t="none",gn=!1);"swipe"===vt.settings.effectType?t="swipe":"random"===t&&(t=lt(["slice","slide","fade"]));Ln=t;var n=bt[mt];wt[mt].hover(function(){var t={type:"slideMouseOver",index:mt,data:n};e.isFunction(vt.settings.slideMouseOver)&&vt.settings.slideMouseOver.call(this,t)},function(){var t={type:"slideMouseOut",index:mt,data:n};e.isFunction(vt.settings.slideMouseOut)&&vt.settings.slideMouseOut.call(this,t)}).click(function(){var t={type:"slideClick",index:mt,data:n};e.isFunction(vt.settings.slideClick)&&vt.settings.slideClick.call(this,t)});var r={type:"transitionStart",index:mt,data:bt[mt]};e.isFunction(vt.settings.transitionStart)&&vt.settings.transitionStart.call(this,r);switch(t){case"none":k();break;case"fade":L();break;case"slide":A();break;case"swipe":O();break;case"slice":M();break;default:L()}}function N(){var t=bt[mt],n=parseInt(t.properties.captionDelay,10);Tt=!1;vt.settings.slideshow&&"stopped"!==Ht&&(vt.settings.slideshowLoop||mt!==Et-1?(H(),(vt.settings.pauseSlideshowOnHover&&Ct||_t)&&I()):j());Sn.find(".transition").removeClass("transition");mt!==yt&&(Ot&&"swipe"===vt.settings.effectType&&(Ot=!1,P(),bn&&clearTimeout(bn)),t.caption?(Ot=!0,bn=setTimeout(function(){(!vt.settings.captionToggle||vt.settings.captionToggle&&Ct)&&D()},n)):yt=-1);vt.settings.preloadNearbyImages&&E(mt);var r=wt[mt].children('a[rel^="slider-lightbox"]');if(r.length&&vt.settings.lightboxIcon){kt=!0;var n=r.attr("href"),i,n=-1!==n.indexOf("iframe=true")||-1!==n.indexOf("ajax=true")||-1!==n.indexOf("custom=true")?"link":-1!==n.indexOf("youtube.com")||-1!==n.indexOf("youtu.be")||-1!==n.indexOf("vimeo.com")||-1!==n.indexOf(".mp4")||-1!==n.indexOf(".ogv")?"video":"image";i=e('<div class="lightbox-icon"></div>').appendTo(Sn);"video"===n?i.addClass("play"):"link"===n?i.addClass("hyperlink"):"image"===n&&i.addClass("magnifying");vt.settings.lightboxIconToggle&&!Ct?i.css("opacity",0):Hn||i.css({opacity:0}).stop().animate({opacity:1},vt.settings.lightboxIconFadeDuration);i.click(function(){"swipe"===vt.settings.effectType&&r.unbind("click.prettyphoto").bind("click.prettyphoto",{instance:At},e.prettyPhoto.initialize);r.trigger("click")})}-1!==gt&&wt[gt].children(".layer").not(".static").each(function(){e(this).css("visibility","").removeClass("init")});wt[mt].children(".layer").not(".static, .init").each(function(){var t=e(this),n=t.data(),r={},i={};"undefined"!==typeof n.width&&t.css("width",n.width);"undefined"!==typeof n.height&&t.css("height",n.height);"undefined"!==typeof n.depth&&t.css("z-index",n.depth);var s=n.position?n.position.toLowerCase():"topleft",o=-1!==s.indexOf("right")?"right":"left",u=-1!==s.indexOf("bottom")?"bottom":"top";"undefined"!==typeof n.horizontal?"left"===n.horizontal&&"left"===o||"right"===n.horizontal&&"right"===o?t.css(o,0):"right"===n.horizontal&&"left"===o||"left"===n.horizontal&&"right"===o?(t.css("margin-"+o,-t.outerWidth(!1)),t.css(o,"100%")):"center"===n.horizontal?(t.css("margin-"+o,.5*-t.outerWidth(!1)),t.css(o,"50%")):t.css(o,n.horizontal):t.css(o,0);"undefined"!==typeof n.vertical?"top"===n.vertical&&"top"===u||"bottom"===n.vertical&&"bottom"===u?t.css(u,0):"bottom"===n.vertical&&"top"===u||"top"===n.vertical&&"bottom"===u?(t.css("margin-"+u,-t.outerHeight(!1)),t.css(u,"100%")):"center"===n.vertical?(t.css("margin-"+u,.5*-t.outerHeight(!1)),t.css(u,"50%")):t.css(u,n.vertical):t.css(u,0);"left"===o&&-1!==t.css("left").indexOf("%")&&t.css("left",t.position().left);"top"===u&&-1!==t.css("top").indexOf("%")&&t.css("top",t.position().top);var s=parseInt(t.css(o),10),a=parseInt(t.css(u),10);r[o]=s;r[u]=a;r.opacity=1;i.opacity=0;if("undefined"!==typeof n.transition){var f="undefined"!==typeof n.offset?n.offset:50;"left"===n.transition?i[o]=s+("left"===o?f:-f):"right"===n.transition?i[o]=s+("left"===o?-f:f):"up"===n.transition?i[u]=a+("top"===u?f:-f):"down"===n.transition&&(i[u]=a+("top"===u?-f:f))}"msie"===Dn&&7>=parseInt(Pn,10)?t.css("visibility","inherit").css(r):t.addClass("init").delay(n.delay).css(i).css("visibility","inherit").animate(r,n.duration,n.easing,function(){n.horizontal&&("left"===n.horizontal&&"left"===o||"right"===n.horizontal&&"right"===o?t.css(o,0):"right"===n.horizontal&&"left"===o||"left"===n.horizontal&&"right"===o?(t.css("margin-"+o,-t.outerWidth(!1)),t.css(o,"100%")):"center"===n.horizontal?(t.css("margin-"+o,.5*-t.outerWidth(!1)),t.css(o,"50%")):t.css(o,n.horizontal));n.vertical&&("top"===n.vertical&&"top"===u||"bottom"===n.vertical&&"bottom"===u?t.css(u,0):"bottom"===n.vertical&&"top"===u||"top"===n.vertical&&"bottom"===u?(t.css("margin-"+u,-t.outerHeight(!1)),t.css(u,"100%")):"center"===n.vertical?(t.css("margin-"+u,.5*-t.outerHeight(!1)),t.css(u,"50%")):t.css(u,n.vertical))})});C();"playVideo"===vt.settings.reachVideoAction&&(n=wt[mt].find("a.video"),n.length&&n.trigger("click"));t={type:"transitionComplete",index:mt,data:t};e.isFunction(vt.settings.transitionComplete)&&vt.settings.transitionComplete.call(this,t)}function C(){if(e.fn.videoController){var t,n;if(wt[mt].find("iframe").length){var r=wt[mt].find("iframe"),i=r.attr("src");-1!==i.indexOf("enablejsapi=1")?(t=r,n="youtube-video"):-1!==i.indexOf("api=1")&&(t=r,n="vimeo-video")}else-1!==wt[mt].html().indexOf("jw-player")||-1!==wt[mt].html().indexOf("jwplayer")?(t=wt[mt].find("[id^=video]").first(),n="jw-player-video"):wt[mt].find(".video-js").length?(t=wt[mt].find(".video-js").first(),n="html5-video-js"):wt[mt].find(".sublime-video").length?(t=wt[mt].find(".sublime-video").first(),n="html5-sublime-video"):wt[mt].find("video").length&&(t=wt[mt].find("video").first(),n="html5-video");t&&(bt[mt].videoInstance?wn=bt[mt].videoInstance:(wn=t.videoController({videoType:n,reachVideoAction:vt.settings.reachVideoAction,leaveVideoAction:vt.settings.leaveVideoAction,start:function(){"stopSlideshow"!==vt.settings.videoPlayAction||_t?"pauseSlideshow"!==vt.settings.videoPlayAction||_t||I():F()},play:function(){Mt=!0;"stopSlideshow"!==vt.settings.videoPlayAction||_t?"pauseSlideshow"!==vt.settings.videoPlayAction||_t||I():F();var t={type:"videoPlay"};e.isFunction(vt.settings.videoPlay)&&vt.settings.videoPlay.call(this,t)},pause:function(){"startSlideshow"!==vt.settings.videoPauseAction||_t?"resumeSlideshow"!==vt.settings.videoPauseAction||_t||q():H();var t={type:"videoPause"};e.isFunction(vt.settings.videoPause)&&vt.settings.videoPause.call(this,t)},end:function(){"resetVideo"===vt.settings.videoEndAction?wn.stopVideo():"replayVideo"===vt.settings.videoEndAction?wn.replayVideo():"startSlideshow"!==vt.settings.videoEndAction||_t?"resumeSlideshow"!==vt.settings.videoEndAction||_t?"nextSlide"===vt.settings.videoEndAction&&b():q():H();var t={type:"videoEnd"};e.isFunction(vt.settings.videoEnd)&&vt.settings.videoEnd.call(this,t)},fullscreenchange:function(){"msie"===Dn&&(e("body").hasClass("vjs-full-window")?(vt.settings.timerAnimation&&dt.find(".timer-animation").css("visibility","hidden"),vt.settings.slideArrows&&Sn.find(".slide-arrows").css("visibility","hidden"),vt.settings.slideButtons&&dt.find(".slide-buttons").css("visibility","hidden"),vt.settings.slideshowControls&&Sn.find(".slideshow-controls").css("visibility","hidden"),vt.settings.lightboxIcon&&Sn.find(".lightbox-icon").css("visibility","hidden"),"scroller"!==vt.settings.thumbnailType&&"tooltipAndScroller"!==vt.settings.thumbnailType||dt.find(".thumbnail-scroller").css("visibility","hidden")):(vt.settings.timerAnimation&&dt.find(".timer-animation").css("visibility","visible"),vt.settings.slideArrows&&Sn.find(".slide-arrows").css("visibility","visible"),vt.settings.slideButtons&&dt.find(".slide-buttons").css("visibility","visible"),vt.settings.slideshowControls&&Sn.find(".slideshow-controls").css("visibility","visible"),vt.settings.lightboxIcon&&Sn.find(".lightbox-icon").css("visibility","visible"),"scroller"!==vt.settings.thumbnailType&&"tooltipAndScroller"!==vt.settings.thumbnailType||dt.find(".thumbnail-scroller").css("visibility","visible")));var t={type:"videoFullscreenChange"};e.isFunction(vt.settings.videoFullscreenChange)&&vt.settings.videoFullscreenChange.call(this,t)}}),bt[mt].videoInstance=wn),wn&&wn.reachVideo())}}function k(){-1!==gt&&wt[gt].css("visibility","");wt[mt].css("visibility","visible");setTimeout(function(){N()},1)}function L(){var t=bt[mt].properties,n=wt[mt],r,i=parseInt(t.fadeInDuration,10),s=t.fadeInEasing,o=parseInt(t.fadeOutDuration,10),t=t.fadeOutEasing;Hn&&n.find("*").each(function(){e(this).hasClass(".caption-container")||1===e(this).parents(".caption-container").length||e(this).css("filter","inherit")});n.css({visibility:"visible",opacity:0}).animate({opacity:1},i,s,function(){n.css({opacity:""});N()});-1!==gt&&(r=wt[gt],Hn&&r.find("*").each(function(){e(this).hasClass(".caption-container")||1===e(this).parents(".caption-container").length||e(this).css("filter","inherit")}),r.animate({opacity:0},o,t,function(){r.css({visibility:"",opacity:""})}))}function A(){var e=bt[mt].properties,t=wt[mt],n,r=e.slideDirection,i=parseInt(e.slideDuration,10),s=e.slideEasing,e=e.slideLoop;-1!==gt&&(n=wt[gt]);"random"===r&&(r=lt("autoHorizontal autoVertical rightToLeft leftToRight topToBottom bottomToTop".split(" ")));t.css("visibility","inherit");var o={},u,a;switch(r){case"autoHorizontal":u="left";a=0===mt&&gt===Et-1&&e?Sn.width():mt===Et-1&&0===gt&&e?-Sn.width():mt>gt?Sn.width():-Sn.width();break;case"autoVertical":u="top";a=0===mt&&gt===Et-1&&e?Sn.height():mt===Et-1&&0===gt&&e?-Sn.height():mt>gt?Sn.height():-Sn.height();break;case"rightToLeft":u="left";a=Sn.width();break;case"leftToRight":u="left";a=-Sn.width();break;case"topToBottom":u="top";a=-Sn.height();break;case"bottomToTop":u="top";a=Sn.height();break;default:u="left",a=mt>gt?Sn.width():-Sn.width()}t.css(u,a);o[u]=0;t.animate(o,{duration:i,easing:s,complete:function(){t.css({left:"",top:""});-1!==gt&&n.css({visibility:"",left:"",top:""});N()},step:function(e){n&&n.css(u,e-a)}})}function O(){if(-1===gt){xn.css("overflow","visible").bind("dragstart",x).find(".slide").each(function(t){var n=e(this);"horizontal"===vt.settings.swipeOrientation?n.css({top:0,left:t*(xn.width()+vt.settings.swipeSlideDistance),visibility:"visible"}):"vertical"===vt.settings.swipeOrientation&&n.css({top:t*(xn.height()+vt.settings.swipeSlideDistance),left:0,visibility:"visible"})});vt.settings.swipeGrabCursor&&xn.addClass("grab");var t,n,r=!1,i=!1;vt.settings.swipeTouchDrag&&"ontouchstart"in window&&(i=r=!0);!i&&vt.settings.swipeMouseDrag&&(r=!0);"horizontal"===vt.settings.swipeOrientation?(xn.css("left",-St*(xn.width()+vt.settings.swipeSlideDistance)),r&&xn.swipe({threshold:vt.settings.swipeThreshold,excludedElements:".selectable, .noSwipe",allowPageScroll:"vertical",swipeStatus:function(r,i,s,o){"start"===i?(t=parseInt(xn.css("left"),10),xn.is(":animated")&&xn.stop(),r=e(r.target).closest("a"),!r.length||"ontouchstart"in window||(r.unbind("click",x).bind("click",x),r.has("rel")&&r.unbind("click.prettyphoto")),vt.settings.swipeGrabCursor&&xn.removeClass("grab").addClass("grabbing")):"move"===i?(n=mt===Et-1&&"left"===s||0===mt&&"right"===s?.2:1,"left"===s?xn.css("left",t-o*n):"right"===s&&xn.css("left",t+o*n)):"cancel"===i&&(xn.stop().animate({left:-mt*(xn.width()+vt.settings.swipeSlideDistance)},vt.settings.swipeBackDuration,vt.settings.swipeEasing,function(){Tt&&N()}),vt.settings.swipeGrabCursor&&xn.removeClass("grabbing").addClass("grab"))},click:function(t){t=e(t.target).closest("a");!t.length||"ontouchstart"in window?t.length&&(t=t.attr("href"),window.location.href=t):(t.unbind("click",x),t.attr("rel")&&e.prettyPhoto&&t.unbind("click.prettyphoto").bind("click.prettyphoto",{instance:At},e.prettyPhoto.initialize))},swipeLeft:function(){mt<Et-1?b():xn.stop().animate({left:-mt*(xn.width()+vt.settings.swipeSlideDistance)},vt.settings.swipeBackDuration,vt.settings.swipeEasing,function(){Tt&&N()});vt.settings.swipeGrabCursor&&xn.removeClass("grabbing").addClass("grab")},swipeRight:function(){0<mt?w():xn.stop().animate({left:-mt*(xn.width()+vt.settings.swipeSlideDistance)},vt.settings.swipeBackDuration,vt.settings.swipeEasing,function(){Tt&&N()});vt.settings.swipeGrabCursor&&xn.removeClass("grabbing").addClass("grab")}})):"vertical"===vt.settings.swipeOrientation&&(xn.css("top",-St*(xn.height()+vt.settings.swipeSlideDistance)),r&&xn.swipe({threshold:vt.settings.swipeThreshold,excludedElements:".selectable, .noSwipe",allowPageScroll:"horizontal",swipeStatus:function(r,i,s,o){"start"===i?(t=parseInt(xn.css("top"),10),xn.is(":animated")&&xn.stop(),r=e(r.target).closest("a"),r.length&&(r.unbind("click",x).bind("click",x),r.has("rel")&&r.unbind("click.prettyphoto")),vt.settings.swipeGrabCursor&&xn.removeClass("grab").addClass("grabbing")):"move"===i?(n=mt===Et-1&&"up"===s||0===mt&&"down"===s?.2:1,"up"===s?xn.css("top",t-o*n):"down"===s&&xn.css("top",t+o*n)):"cancel"===i&&(xn.stop().animate({top:-mt*(xn.height()+vt.settings.swipeSlideDistance)},vt.settings.swipeBackDuration,vt.settings.swipeEasing,function(){Tt&&N()}),vt.settings.swipeGrabCursor&&xn.removeClass("grabbing").addClass("grab"))},click:function(t){t=e(t.target).closest("a");!t.length||"ontouchstart"in window?t.length&&(t=t.attr("href"),window.location.href=t):(t.unbind("click",x),t.attr("rel")&&e.prettyPhoto&&t.unbind("click.prettyphoto").bind("click.prettyphoto",{instance:At},e.prettyPhoto.initialize))},swipeUp:function(){mt<Et-1?b():xn.stop().animate({top:-mt*(xn.height()+vt.settings.swipeSlideDistance)},vt.settings.swipeBackDuration,vt.settings.swipeEasing,function(){Tt&&N()});vt.settings.swipeGrabCursor&&xn.removeClass("grabbing").addClass("grab")},swipeDown:function(){0<mt?w():xn.stop().animate({top:-mt*(xn.height()+vt.settings.swipeSlideDistance)},vt.settings.swipeBackDuration,vt.settings.swipeEasing,function(){Tt&&N()});vt.settings.swipeGrabCursor&&xn.removeClass("grabbing").addClass("grab")}}));N()}else"horizontal"===vt.settings.swipeOrientation?xn.stop().animate({left:-mt*(xn.width()+vt.settings.swipeSlideDistance)},vt.settings.swipeDuration,vt.settings.swipeEasing,function(){e.support.transition&&!xn.is(":animated")?N():e.support.transition||N()}):"vertical"===vt.settings.swipeOrientation&&xn.stop().animate({top:-mt*(xn.height()+vt.settings.swipeSlideDistance)},vt.settings.swipeDuration,vt.settings.swipeEasing,function(){e.support.transition&&!xn.is(":animated")?N():e.support.transition||N()})}function M(){var t=bt[mt],n=t.properties,r=n.sliceEffectType,i=n.htmlDuringTransition,s=parseInt(n.horizontalSlices,10),o=parseInt(n.verticalSlices,10),u=n.slicePattern,a=n.slicePoint,f=n.sliceStartPosition,l=parseFloat(n.sliceStartRatio,10),c=parseInt(n.sliceDuration,10),h=n.sliceEasing,p=parseInt(n.sliceDelay,10),v=!0===n.sliceFade||"fade"===n.effectType?0:1,m=n.fadePreviousSlide,g=parseInt(n.fadePreviousSlideDuration,10),y=Math.floor(Sn.width()/s),b=Math.floor(Sn.height()/o);wt[mt].find("img.image").clone();var w=wt[mt].clone(),E=[];if(-1!==gt&&!0===m){var S=wt[gt];Hn&&S.find("*").each(function(){e(this).hasClass(".caption-container")||1===e(this).parents(".caption-container").length||e(this).css("filter","inherit")});S.animate({opacity:0},g,function(){S.css({visibility:"",opacity:""});Hn&&S.find("*").each(function(){e(this).hasClass(".caption-container")||1===e(this).parents(".caption-container").length||e(this).css("filter","")})})}w.css("visibility","visible").find(".caption-container").remove();i||w.find(".html").remove();xt=e('<div class="slice-container"></div>').insertAfter(xn);n.slideMask&&xt.css("overflow","hidden");for(n=0;n<s;n++)for(i=0;i<o;i++){var m=e('<div class="slice"></div>').css({left:n*y,top:i*b,width:y,height:b,opacity:v,display:"none"}).data({hPos:n,vPos:i}).appendTo(xt),x;if(t.html||t.imagePath||t.layer)x=w.clone();x&&(x.css({left:-(n*y),top:-(i*b),width:Sn.width(),height:Sn.height(),overflow:"hidden",position:"absolute"}),m.html(x).css("overflow","hidden"));Hn&&m.find("*").each(function(){e(this).css("filter","inherit")});E.push(m)}"random"===r&&(r=lt(["scale","fade","width","height","slide"]));"random"===u&&(u=lt("randomPattern topToBottom bottomToTop leftToRight rightToLeft topLeftToBottomRight topRightToBottomLeft bottomLeftToTopRight bottomRightToTopLeft horizontalMarginToCenter horizontalCenterToMargin marginToCenter verticalCenterToMargin skipOneTopToBottom skipOneBottomToTop skipOneLeftToRight skipOneRightToLeft skipOneHorizontal skipOneVertical spiralMarginToCenterCW spiralMarginToCenterCCW spiralCenterToMarginCW spiralCenterToMarginCCW".split(" ")));if(1===s&&"skipOneHorizontal"===u||1===o&&"skipOneVertical"===u)u="randomPattern";"random"===a&&(a=lt("leftTop leftCenter leftBottom centerTop centerCenter centerBottom rightTop rightCenter rightBottom".split(" ")));"random"===f&&(f=lt("left right top bottom leftTop rightTop leftBottom rightBottom horizontalAlternate verticalAlternate".split(" ")));t=at(E,u,s,o);kn=t.length;for(n=0;n<kn;n++)_(t[n],n,r,a,f,l,c,h,p)}function _(t,n,r,i,s,o,u,a,f){var l={},c={},h=parseInt(t.css("width"),10),p=parseInt(t.css("height"),10),v=parseInt(t.css("left"),10),m=parseInt(t.css("top"),10),g,y;if("scale"===r||"width"===r||"height"===r)switch(i){case"centerCenter":y=m+.5*p;g=v+.5*h;break;case"rightCenter":y=m+.5*p;g=v+h;break;case"leftCenter":y=m+.5*p;g=v;break;case"centerTop":y=m;g=v+.5*h;break;case"rightTop":y=m;g=v+h;break;case"leftTop":y=m;g=v;break;case"centerBottom":y=m+p;g=v+.5*h;break;case"rightBottom":y=m+p;g=v+h;break;case"leftBottom":y=m+p;g=v;break;default:y=m+.5*p,g=v+.5*h}else if("slide"===r)switch(s){case"left":y=m;g=v-h*o;break;case"right":y=m;g=v+h*o;break;case"top":y=m-p*o;g=v;break;case"bottom":y=m+p*o;g=v;break;case"leftTop":y=m-p*o;g=v-h*o;break;case"rightTop":y=m-p*o;g=v+h*o;break;case"leftBottom":y=m+p*o;g=v-h*o;break;case"rightBottom":y=m+p*o;g=v+h*o;break;case"horizontalAlternate":y=m;g=v+h*o*(0===n%2?1:-1);break;case"verticalAlternate":y=m+p*o*(0===n%2?1:-1);g=v;break;default:y=m,g=v-h*o}switch(r){case"fade":c={opacity:1};break;case"scale":l={width:0,height:0,left:g,top:y};c={width:h,height:p,left:v,top:m,opacity:1};break;case"width":l={width:0,left:g};c={width:h,left:v,opacity:1};break;case"height":l={height:0,top:y};c={height:p,top:m,opacity:1};break;case"slide":l={left:g,top:y};c={left:v,top:m,opacity:1};break;default:c={opacity:1}}var b=setTimeout(function(){t.css(l).css("display","block").data("delay",b).animate(c,u,a,function(){kn--;0===kn&&(xt.find(".slice").each(function(){e(this).remove();Hn&&e(this).find("*").each(function(){e(this).css("filter","inherit")})}),xt.remove(),-1!==gt&&wt[gt].css({visibility:""}),wt[mt].css("visibility","visible"),N())})},n*f)}function D(){yt=mt;var e=bt[yt].properties,t=e.captionPosition,n=e.captionSize,r=e.captionWidth,i=e.captionHeight,s=e.captionLeft,o=e.captionTop,u=e.captionShowEffect,a=parseInt(e.captionShowEffectDuration,10),f=e.captionShowEffectEasing,l=e.captionShowSlideDirection,r="custom"===t?r:"100%",i="custom"===t?i:"100%",s="custom"===t?s:0,o="custom"===t?o:0,c=wt[mt].find(".caption-container"),h=c.find(".wrapper");h.find(".background");h.find(".caption");parseFloat(e.captionBackgroundOpacity);var e=e.captionBackgroundColor,p="fade"===u?0:n;switch(t){case"left":c.css({width:n,height:i,left:s,top:o});"auto"===l&&h.css({width:n,height:i,left:-p,top:0});break;case"right":c.css({width:n,height:i,right:s,top:o});"auto"===l&&h.css({width:n,height:i,left:p,top:0});break;case"top":c.css({width:r,height:n,left:s,top:o});"auto"===l&&h.css({width:r,height:n,left:0,top:-p});break;case"bottom":c.css({width:r,height:n,left:s,bottom:o});"auto"===l&&h.css({width:r,height:n,left:0,top:p});break;case"custom":c.css({width:r,height:i,left:s,top:o});h.css({width:r,height:i,left:0,top:0});break;case"default":c.css({width:r,height:n,left:s,bottom:o}),"auto"===l&&h.css({width:r,height:n,left:0,top:p})}"fade"===u?Hn?c.css("visibility","visible"):h.stop().css({opacity:0}).animate({opacity:1},a,f):(Hn?c.css("visibility","visible"):h.stop().css({opacity:1}),"custom"===t&&c.css({width:r,height:i,left:s,top:o}),"topToBottom"===l?h.css({width:r,height:i,left:0,top:-c.height()}):"bottomToTop"===l?h.css({width:r,height:i,left:0,top:c.height()}):"leftToRight"===l?h.css({width:r,height:i,left:-c.width(),top:0}):"rightToLeft"===l&&h.css({width:r,height:i,left:c.width(),top:0}),"msie"===Dn&&"6.0"===Pn&&h.css("background-color",e),h.stop().animate({top:0,left:0},a,f))}function P(){if(-1!==yt){var e=wt[yt].find(".caption-container"),t=e.find(".wrapper");t.find(".background");t.find(".caption");var n=bt[yt].properties,r=n.captionPosition,i=n.captionHideEffect,s=parseInt(n.captionHideEffectDuration,10),o=n.captionHideEffectEasing,n=n.captionHideSlideDirection;if("fade"===i)Hn?e.css("visibility","hidden"):t.stop().animate({opacity:0},s,o);else if("topToBottom"===n)t.animate({top:t.height()},s);else if("bottomToTop"===n)t.animate({top:-t.height()},s);else if("leftToRight"===n)t.animate({left:t.width()},s);else if("rightToLeft"===n)t.animate({left:-t.width()},s);else if("auto"===n)switch(r){case"left":t.stop().animate({left:-t.width()},s);break;case"right":t.stop().animate({left:t.width()},s);break;case"top":t.stop().animate({top:-t.height()},s);break;case"bottom":t.stop().animate({top:t.height()},s);break;case"custom":t.stop().animate({top:t.height()},s);break;case"default":t.stop().animate({top:t.height()},s)}}}function H(){var e=bt[mt].properties.slideshowDelay;Ht="playing";vt.settings.timerAnimation&&R(e);Bt=0;jt=(new Date).getTime();Dt&&clearTimeout(Dt);Dt=setTimeout(function(){yn="slideshow";"next"===vt.settings.slideshowDirection?b():"previous"===vt.settings.slideshowDirection&&w()},e)}function B(){vt.settings.slideshow||(vt.settings.slideshow=!0);dt.find(".slideshow-controls").removeClass("play").addClass("pause");H()}function j(){dt.find(".slideshow-controls").removeClass("pause").addClass("play");Ht="stopped";F()}function F(){Dt&&clearTimeout(Dt);vt.settings.timerAnimation&&U()}function I(){vt.settings.slideshow&&"playing"===Ht&&!Tt&&(Dt&&clearTimeout(Dt),Ht="paused",Bt+=(new Date).getTime()-jt)}function q(){if(vt.settings.slideshow&&"paused"===Ht&&!Tt){var e=bt[mt].properties.slideshowDelay;Ht="playing";jt=(new Date).getTime();Dt&&clearTimeout(Dt);Dt=setTimeout(function(){"next"===vt.settings.slideshowDirection?b():"previous"===vt.settings.slideshowDirection&&w()},e-Bt)}}function R(t){var n=document.createElement("canvas"),r=Math.max(vt.settings.timerStrokeWidth1,vt.settings.timerStrokeWidth2)+2*vt.settings.timerRadius,i=r/2,s=Math.PI/180,o=0,u,a,f=vt.settings.timerStrokeOpacity1,l=vt.settings.timerStrokeOpacity2,c=ct(vt.settings.timerStrokeColor1).red,h=ct(vt.settings.timerStrokeColor1).green,p=ct(vt.settings.timerStrokeColor1).blue,v=ct(vt.settings.timerStrokeColor2).red,m=ct(vt.settings.timerStrokeColor2).green,g=ct(vt.settings.timerStrokeColor2).blue;n.width=n.height=r;var y=e('<div class="timer-animation"></div>').css({width:r,height:r}).appendTo(Sn);e(n).appendTo(y);vt.settings.timerAnimationControls&&(e('<div class="timer-animation-controls"></div>').appendTo(y),_t?y.addClass("play"):y.addClass("pause"),y.click(function(e){_t?_t&&(_t=!1,y.removeClass("play").addClass("pause"),vt.settings.pauseSlideshowOnHover&&Ct||q()):(_t=!0,y.removeClass("pause").addClass("play"),vt.settings.pauseSlideshowOnHover&&Ct||I())}));vt.settings.timerToggle&&!Ct?Hn?y.hide():y.css("opacity",0):Hn||y.css({opacity:0}).stop().animate({opacity:1},vt.settings.timerFadeDuration);var b;if(n.getContext)b=n.getContext("2d");else if("undefined"!==typeof G_vmlCanvasManager&&Hn)b=G_vmlCanvasManager.initElement(n).getContext("2d");else return;b.beginPath();b.lineWidth=vt.settings.timerStrokeWidth1;b.strokeStyle="rgba("+c+", "+h+", "+p+", "+f+")";b.arc(i,i,vt.settings.timerRadius,0,2*Math.PI,!1);b.stroke();Pt=setInterval(function(){360>=o&&!(vt.settings.pauseSlideshowOnHover&&Ct||Lt||_t||"paused"===Ht)&&(u=(new Date).getTime(),a=u-jt,o=(Bt+a)/t*360+1,360<o&&(o=360),n.width=n.width,b.beginPath(),b.lineWidth=vt.settings.timerStrokeWidth1,b.strokeStyle="rgba("+c+", "+h+", "+p+", "+f+")",b.arc(i,i,vt.settings.timerRadius,0,2*Math.PI,!1),b.stroke(),b.beginPath(),b.lineWidth=vt.settings.timerStrokeWidth2,b.strokeStyle="rgba("+v+", "+m+", "+g+", "+l+")",b.arc(i,i,vt.settings.timerRadius,0,o*s,!1),b.stroke())},20)}function U(){Pt&&clearInterval(Pt);var e=Sn.find(".timer-animation");e&&(Hn?e.remove():e.stop().animate({opacity:0},vt.settings.timerFadeDuration,function(){e.remove()}))}function z(){Ut=e('<div class="thumbnail-scroller"></div>').appendTo(dt);zt=e('<div class="thumbnails-visible-container"></div>').appendTo(Ut);Wt=e('<div class="thumbnails-container"></div>').appendTo(zt);"horizontal"===vt.settings.thumbnailOrientation?Ut.addClass("horizontal"):Ut.addClass("vertical");vt.settings.thumbnailScrollerOverlay&&Ut.addClass("overlay");for(var t=0;t<Et;t++)if(bt[t].thumbnail&&("scroller"===bt[t].properties.thumbnailType||"tooltipAndScroller"===bt[t].properties.thumbnailType)){var n=bt[t].thumbnail.hasClass("thumbnail")&&!bt[t].thumbnail.is("img"),r=e('<div class="thumbnail-wrapper"></li>').appendTo(Wt);if(n)n=bt[t].thumbnail,n.addClass("thumbnail-content").css({width:vt.settings.thumbnailWidth,height:vt.settings.thumbnailHeight}).attr("data-index",t).appendTo(r);else{var i=(n=bt[t].thumbnail.is("a"))?bt[t].thumbnail.find("img").removeClass("thumbnail"):bt[t].thumbnail,s=i.attr("src"),o=i.attr("alt");i.attr("title");n?(n=bt[t].thumbnail,n.addClass("thumbnail").css({width:vt.settings.thumbnailWidth,height:vt.settings.thumbnailHeight}).attr("data-index",t).appendTo(r),i[0].complete||"complete"===i[0].readyState?(i.css("margin-left",.5*(vt.settings.thumbnailWidth-i.width())),i.css("margin-top",.5*(vt.settings.thumbnailHeight-i.height())),n.css("background-image","none")):i.load(function(){e(this).css("margin-left",.5*(vt.settings.thumbnailWidth-e(this).width()));e(this).css("margin-top",.5*(vt.settings.thumbnailHeight-e(this).height()));e(this).parent().css("background-image","none")})):(n=e('<a class="thumbnail"></a>').css({"background-image":'url("'+s+'")',width:vt.settings.thumbnailWidth,height:vt.settings.thumbnailHeight}).attr("data-index",t).appendTo(r),bt[t].thumbnail.attr("title")&&n.attr("title",bt[t].thumbnail.attr("title")));o&&vt.settings.thumbnailCaption&&(i=e('<div class="caption"></div>').appendTo(n),s=e('<div class="background"></div>').appendTo(i),o=e('<div class="content">'+o+"</div>").appendTo(i),i.css("height",o.outerHeight(!0)),"top"===vt.settings.thumbnailCaptionPosition?i.css({top:0}):i.css({bottom:0}),vt.settings.thumbnailCaptionToggle&&("slide"===vt.settings.thumbnailCaptionEffect?"top"===vt.settings.thumbnailCaptionPosition?i.css({top:-i.outerHeight(!0)}):i.css({bottom:-i.outerHeight(!0)}):Hn?(s.data("opacity",s.css("opacity")),s.css("opacity",0),o.css("opacity",0)):i.css("opacity",0)));var o=r.children('a[rel^="slider-lightbox"]'),i=wt[t].children('a[rel^="slider-lightbox"]'),s=o.length&&vt.settings.lightboxIcon,u=i.length&&vt.settings.thumbnailLightboxIcon;if(s||u)o=s?o.attr("href"):i.attr("href"),o=-1!==o.indexOf("iframe=true")||-1!==o.indexOf("ajax=true")||-1!==o.indexOf("custom=true")?"link":-1!==o.indexOf("youtube.com")||-1!==o.indexOf("youtu.be")||-1!==o.indexOf("vimeo.com")?"video":"image",i=e('<div class="lightbox-icon"></div>').appendTo(n),"video"===o?i.addClass("play"):"link"===o?i.addClass("hyperlink"):"image"===o&&i.addClass("magnifying"),vt.settings.thumbnailLightboxIconToggle&&i.css("opacity",0)}vt.settings.thumbnailBorder||n.css("border","none");vt.settings.thumbnailGlow||n.css("boxShadow","none");vt.settings.thumbnailBackground||n.css("backgroundColor","transparent");r.css({width:n.outerWidth(!1),height:n.outerHeight(!1)});en=-1===vt.settings.thumbnailLayers||vt.settings.thumbnailLayers*vt.settings.maximumVisibleThumbnails>Et?Math.ceil(Et/vt.settings.maximumVisibleThumbnails):vt.settings.thumbnailLayers;"horizontal"===vt.settings.thumbnailOrientation?(r.css("left",Math.floor(Ft/en)*r.outerWidth(!0)),r.css("top",Ft%en*r.outerHeight(!0))):(r.css("left",Ft%en*r.outerWidth(!0)),r.css("top",Math.floor(Ft/en)*r.outerHeight(!0)));n.hover(function(){e(this).hasClass("select")||e(this).addClass("over");var t=parseInt(e(this).data("index"),10);if(vt.settings.thumbnailCaptionToggle){var n=e(this).children(".caption"),r=n.children(".background"),i=n.children(".content"),s=r.data("opacity");"slide"===vt.settings.thumbnailCaptionEffect?"top"===vt.settings.thumbnailCaptionPosition?n.stop().animate({top:0},vt.settings.thumbnailCaptionShowDuration,vt.settings.thumbnailCaptionEasing):n.stop().animate({bottom:0},vt.settings.thumbnailCaptionShowDuration,vt.settings.thumbnailCaptionEasing):Hn?(r.stop().animate({opacity:s},vt.settings.thumbnailCaptionShowDuration,vt.settings.thumbnailCaptionEasing),i.stop().animate({opacity:1},vt.settings.thumbnailCaptionShowDuration,vt.settings.thumbnailCaptionEasing)):n.stop().animate({opacity:1},vt.settings.thumbnailCaptionShowDuration,vt.settings.thumbnailCaptionEasing)}vt.settings.thumbnailLightboxIconToggle&&(n=e(this).children(".lightbox-icon"),Hn?n.css("filter",""):n.stop().animate({opacity:1},vt.settings.lightboxIconFadeDuration));vt.settings.thumbnailTooltip&&ot(t);t={type:"thumbnailMouseOver",index:t};e.isFunction(vt.settings.thumbnailMouseOver)&&vt.settings.thumbnailMouseOver.call(this,t)},function(){e(this).hasClass("select")||e(this).removeClass("over");var t=parseInt(e(this).data("index"),10);if(vt.settings.thumbnailCaptionToggle){var n=e(this).children(".caption"),r=n.children(".background"),i=n.children(".content");"slide"===vt.settings.thumbnailCaptionEffect?"top"===vt.settings.thumbnailCaptionPosition?n.stop().animate({top:-n.outerHeight(!0)},vt.settings.thumbnailCaptionHideDuration,vt.settings.thumbnailCaptionEasing):n.stop().animate({bottom:-n.outerHeight(!0)},vt.settings.thumbnailCaptionHideDuration,vt.settings.thumbnailCaptionEasing):Hn?(r.stop().animate({opacity:0},vt.settings.thumbnailCaptionHideDuration,vt.settings.thumbnailCaptionEasing),i.stop().animate({opacity:0},vt.settings.thumbnailCaptionHideDuration,vt.settings.thumbnailCaptionEasing)):n.stop().animate({opacity:0},vt.settings.thumbnailCaptionHideDuration,vt.settings.thumbnailCaptionEasing)}vt.settings.thumbnailLightboxIconToggle&&(n=e(this).children(".lightbox-icon"),Hn?n.css("opacity",0):n.stop().animate({opacity:0},vt.settings.lightboxIconFadeDuration));vt.settings.thumbnailTooltip&&ut(t);t={type:"thumbnailMouseOut",index:t};e.isFunction(vt.settings.thumbnailMouseOut)&&vt.settings.thumbnailMouseOut.call(this,t)});vt.settings.thumbnailSwipe&&!Hn||n.click(function(){var t=e(this).data("index");yn="thumbnail";var n={type:"thumbnailClick",index:t};e.isFunction(vt.settings.thumbnailClick)&&vt.settings.thumbnailClick.call(this,n);e(this).attr("href")||y(t)});Ft++}Xt=Ut.find(".thumbnail-wrapper").outerWidth(!0);Vt=Ut.find(".thumbnail-wrapper").outerHeight(!0);Zt=Math.ceil(Ft/(vt.settings.maximumVisibleThumbnails*en));"horizontal"===vt.settings.thumbnailOrientation?(Ut.css({height:Vt*en,width:Xt*vt.settings.maximumVisibleThumbnails}),zt.css({height:Vt*en,width:Xt*vt.settings.maximumVisibleThumbnails})):(Ut.css({width:Xt*en,height:Vt*vt.settings.maximumVisibleThumbnails}),zt.css({width:Xt*en,height:Vt*vt.settings.maximumVisibleThumbnails}));vt.settings.thumbnailArrows&&X();vt.settings.thumbnailButtons&&V();vt.settings.thumbnailScrollbar&&et();vt.settings.thumbnailMouseScroll&&Y();vt.settings.thumbnailMouseWheel&&Z();vt.settings.thumbnailTooltip&&e('<div class="advanced-slider-tooltip"><div class="content"></div></div>').hide().appendTo(e("body"));W();vt.settings.thumbnailScrollerToggle&&Ut.css({opacity:0});Ut.hover(function(){tn=!0;vt.settings.thumbnailScrollerToggle&&(Hn?Ut.css("filter",""):Ut.stop().animate({opacity:1},vt.settings.thumbnailScrollerShowDuration))},function(){tn=!1;vt.settings.thumbnailScrollerToggle&&(Hn?Ut.css("opacity",0):Ut.stop().animate({opacity:0},vt.settings.thumbnailScrollerHideDuration))});if(vt.settings.thumbnailSwipe&&!Hn){Ut.bind("dragstart",x);Wt.addClass("swipe");vt.settings.thumbnailSwipeGrabCursor&&zt.addClass("grab");var a,f,r=t=!1;vt.settings.thumbnailSwipeTouchDrag&&"ontouchstart"in window&&(r=t=!0);!r&&vt.settings.thumbnailSwipeMouseDrag&&(t=!0);t&&"horizontal"===vt.settings.thumbnailOrientation?zt.swipe({threshold:vt.settings.thumbnailSwipeThreshold,excludedElements:".selectable, .noSwipe",allowPageScroll:"vertical",swipeStatus:function(t,n,r,i){"start"===n?(a=parseInt(Wt.css("left"),10),Wt.is(":animated")&&Wt.stop(),vt.settings.thumbnailSwipeGrabCursor&&zt.removeClass("grab").addClass("grabbing"),t=e(t.target).closest("a"),t.length&&(t.unbind("click",x).bind("click",x),t.has("rel")&&t.unbind("click.prettyphoto")),rt()):"move"===n?(f=Yt===Zt-1&&"left"===r||0===Yt&&"right"===r?.2:1,"left"===r?Wt.css("left",a-i*f):"right"===r&&Wt.css("left",a+i*f),st()):"cancel"===n?(0!==i&&K(Yt,vt.settings.thumbnailSwipeBackDuration),vt.settings.thumbnailSwipeGrabCursor&&zt.removeClass("grabbing").addClass("grab"),it()):"end"===n&&vt.settings.thumbnailSwipeGrabCursor&&zt.removeClass("grabbing").addClass("grab")},click:function(t){t=e(t.target).closest(".thumbnail");if(t.length){var n=t.data("index");yn="thumbnail";t.unbind("click",x);t.attr("rel")&&e.prettyPhoto&&t.unbind("click.prettyphoto").bind("click.prettyphoto",{instance:At},e.prettyPhoto.initialize);var r={type:"thumbnailClick",index:n};e.isFunction(vt.settings.thumbnailClick)&&vt.settings.thumbnailClick.call(this,r);t.attr("href")||y(n)}},swipeLeft:function(){Yt<Zt-1?$():K(Zt-1,vt.settings.thumbnailSwipeBackDuration)},swipeRight:function(){0<Yt?J():K(0,vt.settings.thumbnailSwipeBackDuration)}}):t&&"vertical"===vt.settings.thumbnailOrientation&&zt.swipe({threshold:vt.settings.thumbnailSwipeThreshold,excludedElements:".selectable, .noSwipe",allowPageScroll:"horizontal",swipeStatus:function(t,n,r,i){"start"===n?(a=parseInt(Wt.css("top"),10),Wt.is(":animated")&&Wt.stop(),vt.settings.thumbnailSwipeGrabCursor&&zt.removeClass("grab").addClass("grabbing"),t=e(t.target).closest("a"),t.length&&(t.unbind("click",x).bind("click",x),t.has("rel")&&t.unbind("click.prettyphoto")),rt()):"move"===n?(f=Yt===Zt-1&&"up"===r||0===Yt&&"down"===r?.2:1,"up"===r?Wt.css("top",a-i*f):"down"===r&&Wt.css("top",a+i*f),st()):"cancel"===n?(0!==i&&K(Yt,vt.settings.thumbnailSwipeBackDuration),vt.settings.thumbnailSwipeGrabCursor&&zt.removeClass("grabbing").addClass("grab"),it()):"end"===n&&vt.settings.thumbnailSwipeGrabCursor&&zt.removeClass("grabbing").addClass("grab")},click:function(t){t=e(t.target).closest(".thumbnail");if(t.length){var n=t.data("index");yn="thumbnail";t.unbind("click",x);t.attr("rel")&&e.prettyPhoto&&t.unbind("click.prettyphoto").bind("click.prettyphoto",{instance:At},e.prettyPhoto.initialize);var r={type:"thumbnailClick",index:n};e.isFunction(vt.settings.thumbnailClick)&&vt.settings.thumbnailClick.call(this,r);t.attr("href")||y(n)}},swipeUp:function(){Yt<Zt-1?$():K(Zt-1,vt.settings.thumbnailSwipeBackDuration)},swipeDown:function(){0<Yt?J():K(0,vt.settings.thumbnailSwipeBackDuration)}})}}function W(){Ut.find(".thumbnail-wrapper").each(function(t){var n=e(this);n.css({width:n.find(".thumbnail").outerWidth(!1),height:n.find(".thumbnail").outerHeight(!1)});Xt=n.outerWidth(!0);Vt=n.outerHeight(!0);"horizontal"===vt.settings.thumbnailOrientation?(n.css("left",Math.floor(t/en)*n.outerWidth(!0)),n.css("top",t%en*n.outerHeight(!0))):(n.css("left",t%en*n.outerWidth(!0)),n.css("top",Math.floor(t/en)*n.outerHeight(!0)))});if("horizontal"===vt.settings.thumbnailOrientation){var t=vt.settings.thumbnailArrows?parseInt(Ut.css("paddingLeft"),10)+parseInt(Ut.css("paddingRight"),10):0;Rt=Math.ceil(Ft/en)*Xt;It=vt.settings.thumbnailScrollerResponsive?Math.max(vt.settings.minimumVisibleThumbnails,Math.min(Math.ceil(Ft/en),vt.settings.maximumVisibleThumbnails,Math.floor((Sn.outerWidth(!1)-t)/Xt))):Math.min(Ft,vt.settings.maximumVisibleThumbnails);Ut.css("width",Xt*It);zt.css("width",Xt*It)}else t=vt.settings.thumbnailArrows?parseInt(Ut.css("paddingTop"),10)+parseInt(Ut.css("paddingBottom"),10):0,Rt=Math.ceil(Ft/en)*Vt,It=vt.settings.thumbnailScrollerResponsive?Math.max(vt.settings.minimumVisibleThumbnails,Math.min(Math.ceil(Ft/en),vt.settings.maximumVisibleThumbnails,Math.floor((Sn.outerHeight(!1)-t)/Vt))):Math.min(Ft,vt.settings.maximumVisibleThumbnails),Ut.css("height",It*Vt),zt.css("height",It*Vt);vt.settings.thumbnailScrollerCenter&&("horizontal"===vt.settings.thumbnailOrientation?Ut.css("left",(En.outerWidth(!1)-Ut.outerWidth(!1))/2):"vertical"===vt.settings.thumbnailOrientation&&Ut.css("top",(Sn.outerHeight(!1)-Ut.outerHeight(!1))/2));qt!==It&&(qt=It,Zt=Math.ceil(Ft/(It*en)),vt.settings.thumbnailButtons&&vt.settings.thumbnailScrollerResponsive&&V(),vt.settings.thumbnailScrollbar&&vt.settings.thumbnailScrollerResponsive&&("horizontal"===vt.settings.thumbnailOrientation?(Kt.css("width",Ut.width()),Gt.css("width",Kt.width()-thumbnailScrollerScrollbarEdgeSize),Kt.css("left",(Ut.outerWidth(!1)-Kt.width())/2)):(Kt.css("height",Ut.height()),Gt.css("height",Kt.height()-thumbnailScrollerScrollbarEdgeSize),Kt.css("top",(Ut.outerHeight(!1)-Kt.height())/2))),K(Yt))}function X(){$t=e('<div class="arrows"></div>').appendTo(Ut);var t=e('<a class="previous"></a>').click(function(){J()}).appendTo($t),n=e('<a class="next"></a>').click(function(){$()}).appendTo($t);"horizontal"===vt.settings.thumbnailOrientation?(t.css({top:Math.round((Vt*en-t.height())/2)}),n.css({top:Math.round((Vt*en-n.height())/2)})):(t.css({left:Math.round((Xt*en-t.width())/2)}),n.css({left:Math.round((Xt*en-n.width())/2)}));vt.settings.thumbnailArrowsToggle&&("msie"===Dn?$t.hide():$t.css("opacity",0),Ut.hover(function(){"msie"===Dn?$t.show():$t.stop().animate({opacity:1},vt.settings.thumbnailArrowsShowDuration)},function(){"msie"===Dn?$t.hide():$t.stop().animate({opacity:0},vt.settings.thumbnailArrowsHideDuration)}))}function V(){Jt||(Jt=e('<div class="buttons"></div>').appendTo(Ut),vt.settings.thumbnailButtonsToggle&&(Hn?Jt.hide():Jt.css("opacity",0),Ut.hover(function(){Hn?Jt.show():Jt.stop().animate({opacity:1},vt.settings.thumbnailButtonsShowDuration)},function(){Hn?Jt.hide():Jt.stop().animate({opacity:0},vt.settings.thumbnailButtonsShowDuration)})));if(1===Zt)Jt.empty();else if(Jt.find(".buttons a").length!==Zt&&1<Zt){Jt.empty();for(var t,n=0;n<Zt;n++){var r=e('<a rel="'+n+'"></a>').appendTo(Jt);"horizontal"===vt.settings.thumbnailOrientation?(t=r.outerWidth(!0),r.css("left",n*t)):(t=r.outerHeight(!0),r.css("top",n*t));r.bind({mouseover:function(){e(this).hasClass("select")||e(this).addClass("over")},mouseout:function(){e(this).hasClass("select")||e(this).removeClass("over")},click:function(){var t=parseInt(e(this).attr("rel"));K(t)}})}"horizontal"===vt.settings.thumbnailOrientation?(Jt.css("top",Vt*en),Jt.css("width",t*Zt),Jt.css("height",t),Ut.css("height",Math.max(Ut.height(),Jt.position().top+Jt.outerHeight(!0)))):(Jt.css("left",Xt*en),Jt.css("height",t*Zt),Jt.css("width",t),Ut.css("width",Math.max(Ut.width(),Jt.position().left+Jt.outerWidth(!0))));Yt>Zt-1&&(Yt=Zt-1);Jt.find("a").eq(Yt).addClass("select")}"horizontal"===vt.settings.thumbnailOrientation?Jt.css("left",(Ut.outerWidth(!1)-Jt.outerWidth(!1))/2):Jt.css("top",(Ut.outerHeight(!1)-Jt.outerHeight(!1))/2)}function $(){Yt<Zt-1?(Yt++,K(Yt)):K(0)}function J(){0<Yt?(Yt--,K(Yt)):K(Zt-1)}function K(e,t){var n="horizontal"===vt.settings.thumbnailOrientation?zt.width():zt.height(),r=e*n;Yt=e;Yt===Zt-1&&(r=Rt-n);rt();Wt.animate("horizontal"===vt.settings.thumbnailOrientation?{left:-r}:{top:-r},{duration:t||vt.settings.thumbnailScrollDuration,easing:vt.settings.thumbnailScrollEasing,step:function(){st()},complete:function(){it()}});vt.settings.thumbnailButtons&&(n=Ut.find(".buttons"),n.find(".select").removeClass("select"),n.find("a").eq(e).removeClass("over").addClass("select"))}function Q(){pn=setInterval(function(){cn!==hn?(cn=hn,vn&&(clearTimeout(dn),vn=!1),mn&&(mn=!1,vt.settings.slideArrows&&vt.settings.slideArrowsToggle&&(Hn?dt.find(".slide-arrows a").stop().show():dt.find(".slide-arrows a").stop().animate({opacity:1},vt.settings.slideArrowsShowDuration)),vt.settings.slideshowControls&&vt.settings.slideshowControlsToggle&&(Hn?dt.find(".slideshow-controls").stop().show():dt.find(".slideshow-controls").stop().animate({opacity:1},vt.settings.slideshowControlsShowDuration)),vt.settings.slideButtons&&vt.settings.slideButtonsToggle&&(Hn?dt.find(".slide-buttons").stop().show():dt.find(".slide-buttons").stop().animate({opacity:1},vt.settings.slideButtonsShowDuration)))):vn||(vn=!0,dn=setTimeout(function(){mn=!0;vt.settings.slideArrows&&vt.settings.slideArrowsToggle&&(Hn?dt.find(".slide-arrows a").stop().hide():dt.find(".slide-arrows a").stop().animate({opacity:0},vt.settings.slideArrowsHideDuration));vt.settings.slideshowControls&&vt.settings.slideshowControlsToggle&&(Hn?dt.find(".slideshow-controls").stop().hide():dt.find(".slideshow-controls").stop().animate({opacity:0},vt.settings.slideshowControlsHideDuration));vt.settings.slideButtons&&vt.settings.slideButtonsToggle&&(Hn?dt.find(".slide-buttons").stop().hide():dt.find(".slide-buttons").stop().animate({opacity:0},vt.settings.slideButtonsHideDuration))},vt.settings.autoToggleDelay))},500)}function G(){clearInterval(pn);clearTimeout(dn)}function Y(){vt.settings.thumbnailMouseScroll=!0;var e=0,t=!1,n=zt.offset().top,r=zt.offset().left,i=zt.width(),s=zt.height(),o="horizontal"===vt.settings.thumbnailOrientation?i:s,u="horizontal"===vt.settings.thumbnailOrientation?r:n,a="horizontal"===vt.settings.thumbnailOrientation?"left":"top",f=parseInt(Wt.css(a),10);nn=setInterval(function(){t||(t=!0,n=zt.offset().top,r=zt.offset().left,i=zt.width(),s=zt.height());fn>r&&fn<r+i&&ln>n&&ln<n+s?(e=Math.round((-((("horizontal"===vt.settings.thumbnailOrientation?fn:ln)-u)/o*(Rt-o+200))+100-f)*vt.settings.thumbnailMouseScrollSpeed/100),f+=e):.1<Math.abs(e)?(e*=vt.settings.thumbnailMouseScrollEase/100,f+=e):e=0;0<Math.abs(e)&&(0<=f?f=0:f<=o-Rt&&(f=o-Rt),st(),Wt.css(a,f))},30)}function Z(){vt.settings.thumbnailMouseWheel=!0;var e=0,t=vt.settings.thumbnailMouseWheelReverse?-1:1,n,r="horizontal"===vt.settings.thumbnailOrientation?"left":"top",i="horizontal"===vt.settings.thumbnailOrientation?zt.width():zt.height();zt.bind("mousewheel",function(s,o){s.preventDefault();sn||(rt(),sn=!0,e=n=parseInt(Wt.css(r),10),rn=setInterval(function(){.5<Math.abs(e-n)?(n+=vt.settings.thumbnailMouseWheelSpeed/100*(e-n),st(),Wt.css(r,n)):it()},30));e+=t*o*10;0<=e?e=0:e<=i-Rt&&(e=i-Rt)})}function et(){function t(){l=("horizontal"===vt.settings.thumbnailOrientation?fn:ln)-Qt.offset()[m]-c;n()}function n(){0>l?l=0:l>parseInt(Qt.css(v),10)-parseInt(f.css(v),10)&&(l=parseInt(Qt.css(v),10)-parseInt(f.css(v),10));un&&f.css(m,l);h=l/(parseInt(Qt.css(v),10)-parseInt(f.css(v),10));an||(rt(),an=!0,p=parseInt(Wt.css(m),10),on=setInterval(function(){if(.001<Math.abs(tt()+h)){var e=(-h*(Rt-parseInt(zt.css(v),10))-p)*vt.settings.thumbnailScrollbarEase/100;p+=e;st();Wt.css(m,p)}else an&&it()},30))}Kt=e('<div class="scrollbar"></div>').appendTo(Ut);var r=e('<div class="back"></div>').appendTo(Kt),i=e('<div class="track"></div>').appendTo(Kt),s=e('<div class="forward"></div>').appendTo(Kt),o=e('<div class="track-middle"></div>').appendTo(i),u=e('<div class="track-back"></div>').appendTo(i),a=e('<div class="track-forward"></div>').appendTo(i),f=e('<div class="thumb"></div>').appendTo(i);e('<div class="thumb-middle"></div>').appendTo(f);e('<div class="thumb-back"></div>').appendTo(f);e('<div class="thumb-forward"></div>').appendTo(f);var l=0,c,h=0,p=0,v="horizontal"===vt.settings.thumbnailOrientation?"width":"height",m="horizontal"===vt.settings.thumbnailOrientation?"left":"top";Kt.addClass(vt.settings.scrollbarSkin);Qt=i;"horizontal"===vt.settings.thumbnailOrientation?(Kt.addClass("horizontal"),Kt.css({top:Vt*en,left:(Ut.outerWidth(!1)-Kt.width())/2}),Ut.css("height",Math.max(Ut.height(),Kt.position().top+Kt.outerHeight(!0)))):(Kt.addClass("vertical"),Kt.css({left:Xt*en,top:(Ut.outerHeight(!1)-Kt.height())/2}),Ut.css("width",Math.max(Ut.width(),Kt.position().left+Kt.outerWidth(!0))));0===r.width()&&0===s.width()?(Gt=o,thumbnailScrollerScrollbarEdgeSize="horizontal"===vt.settings.thumbnailOrientation?u.width()+a.width():u.height()+a.height()):(Gt=i,thumbnailScrollerScrollbarEdgeSize="horizontal"===vt.settings.thumbnailOrientation?r.width()+s.width():r.height()+s.height());vt.settings.thumbnailScrollbarToggle&&(Hn?Kt.hide():Kt.css("opacity",0),Ut.hover(function(){Hn?Kt.show():Kt.stop().animate({opacity:1},vt.settings.thumbnailScrollbarShowDuration)},function(){Hn?Kt.hide():Kt.stop().animate({opacity:0},vt.settings.thumbnailScrollbarShowDuration)}));f.bind("mousedown",function(n){n.preventDefault();c=("horizontal"===vt.settings.thumbnailOrientation?fn:ln)-f.offset()[m];un=!0;e(document).bind("mousemove",t)});e(document).bind("mouseup",function(){un&&(un=!1,e(document).unbind("mousemove",t))});r.bind("click",function(){l=parseInt(f.css(m),10)-vt.settings.scrollbarArrowScrollAmount;n()});s.bind("click",function(){l=parseInt(f.css(m),10)+vt.settings.scrollbarArrowScrollAmount;n()})}function tt(){var e="horizontal"===vt.settings.thumbnailOrientation?"width":"height";return parseFloat(Wt.css("horizontal"===vt.settings.thumbnailOrientation?"left":"top"),10)/(Rt-parseInt(zt.css(e),10))}function nt(){nn&&clearInterval(nn);rn&&(sn=!1,clearInterval(rn));on&&(an=!1,clearInterval(on))}function rt(){nt();Wt&&Wt.is(":animated")&&Wt.stop()}function it(){nt();vt.settings.thumbnailMouseScroll&&Y()}function st(){if(vt.settings.thumbnailScrollbar&&!un){var e=Qt.find(".thumb"),t="horizontal"===vt.settings.thumbnailOrientation?"left":"top",n="horizontal"===vt.settings.thumbnailOrientation?"width":"height",n=parseInt(Qt.css(n),10)-parseInt(e.css(n),10),r=-tt()*n;0<=r&&r<=n&&e.css(t,r)}}function ot(t){t=Ut.find('.thumbnail[data-index="'+t+'"]');var n=t.attr("title");if(n){var r=e("body").find(".advanced-slider-tooltip");t.removeAttr("title");r.find(".content").html(n);var i=r.outerWidth(!1)/2,s=r.outerHeight(!1)+parseInt(r.css("marginBottom"),10);r.css({left:fn,top:ln});r.stop(!1,!0).fadeIn(vt.settings.tooltipShowDuration);e(document).bind("mousemove.tooltip",function(){r.css({left:fn-i,top:ln-s})})}}function ut(t){var n=e("body").find(".advanced-slider-tooltip"),r=n.find(".content").html();t=Ut.find('.thumbnail[data-index="'+t+'"]');r&&(t.attr("title",r),n&&n.stop(!1,!0).fadeOut(vt.settings.tooltipHideDuration,function(){e(document).unbind("mousemove.tooltip");n.css("left",-9999)}))}function at(e,t,n,r){var i=[],s,o,u=0;switch(t){case"randomPattern":for(n=[];e.length;)u=Math.floor(Math.random()*e.length),n.push(e[u]),e.splice(u,1);var a=n.length;for(t=0;t<a;t++)i[t]=n[t];break;case"topToBottom":for(o=0;o<r;o++)for(s=0;s<n;s++)i.push(ft(e,s,o));break;case"bottomToTop":for(o=r-1;0<=o;o--)for(s=n-1;0<=s;s--)i.push(ft(e,s,o));break;case"rightToLeft":for(s=n-1;0<=s;s--)for(o=r-1;0<=o;o--)i.push(ft(e,s,o));break;case"leftToRight":for(s=0;s<n;s++)for(o=0;o<r;o++)i.push(ft(e,s,o));break;case"topLeftToBottomRight":for(t=0;t<n+r-1;t++)for(o=0,s=t;0<=s;s--)void 0!==ft(e,s,o)&&i.push(ft(e,s,o)),o++;break;case"bottomLeftToTopRight":u=n>r?n:r;for(t=n-1;t>=1-u;t--)for(s=0,o=t;o<=n-1;o++)void 0!==ft(e,s,o)&&i.push(ft(e,s,o)),s++;break;case"topRightToBottomLeft":u=n>r?n:r;for(t=n-1;t>=1-u;t--)for(s=t,o=0;o<=r-1;o++)void 0!==ft(e,s,o)&&i.push(ft(e,s,o)),s++;break;case"bottomRightToTopLeft":for(t=r+n-2;0<=t;t--)for(o=0,s=t;0<=s;s--)void 0!==ft(e,s,o)&&i.push(ft(e,s,o)),o++;break;case"horizontalMarginToCenter":if(n%2){for(s=0;s<Math.floor(n/2);s++)for(o=0;o<r;o++)i.push(ft(e,s,o)),i.push(ft(e,n-1-s,o));for(t=0;t<r;t++)i.push(ft(e,Math.floor(n/2),t))}else for(s=0;s<Math.floor(n/2);s++)for(o=0;o<r;o++)i.push(ft(e,s,o)),i.push(ft(e,n-1-s,o));break;case"horizontalCenterToMargin":if(n%2)for(t=0;t<r;t++)i.push(ft(e,Math.floor(n/2),t));for(s=Math.floor(n/2)-1;0<=s;s--)for(o=0;o<r;o++)i.push(ft(e,s,o)),i.push(ft(e,n-1-s,o));break;case"verticalMarginToCenter":if(r%2){for(o=0;o<Math.floor(r/2);o++)for(s=0;s<n;s++)i.push(ft(e,s,o)),i.push(ft(e,s,r-1-o));for(t=0;t<n;t++)i.push(ft(e,t,Math.floor(r/2)))}else for(o=0;o<Math.floor(r/2);o++)for(s=0;s<n;s++)i.push(ft(e,s,o)),i.push(ft(e,s,r-1-o));break;case"verticalCenterToMargin":if(r%2)for(t=0;t<n;t++)i.push(ft(e,t,Math.floor(r/2)));for(o=Math.floor(r/2)-1;0<=o;o--)for(s=0;s<n;s++)i.push(ft(e,s,o)),i.push(ft(e,s,r-1-o));break;case"skipOneTopToBottom":for(o=0;o<r;o++){for(s=u;s<n;s+=2)i.push(ft(e,s,o));u=0===u?1:0}u=1;for(o=0;o<r;o++){for(s=u;s<n;s+=2)i.push(ft(e,s,o));u=0===u?1:0}break;case"skipOneBottomToTop":for(o=r-1;0<=o;o--){for(s=u;s<n;s+=2)i.push(ft(e,s,o));u=0===u?1:0}u=1;for(o=r-1;0<=o;o--){for(s=u;s<n;s+=2)i.push(ft(e,s,o));u=0===u?1:0}break;case"skipOneLeftToRight":for(s=0;s<n;s++){for(o=u;o<r;o+=2)i.push(ft(e,s,o));u=0===u?1:0}u=1;for(s=0;s<n;s++){for(o=u;o<r;o+=2)i.push(ft(e,s,o));u=0===u?1:0}break;case"skipOneRightToLeft":for(s=n-1;0<=s;s--){for(o=u;o<r;o+=2)i.push(ft(e,s,o));u=0===u?1:0}u=1;for(s=n-1;0<=s;s--){for(o=u;o<r;o+=2)i.push(ft(e,s,o));u=0===u?1:0}break;case"skipOneVertical":if(r%2)for(o=0;o<r;o++){for(s=u;s<n;s+=2){if(o===Math.floor(r/2))for(o++,t=1-n%2;t<n;t+=2)i.push(ft(e,t,Math.floor(r/2))),void 0!==ft(e,t-1,Math.floor(r/2))&&i.push(ft(e,t-1,Math.floor(r/2)));i.push(ft(e,s,o));i.push(ft(e,s,r-o-1))}u=0===u?1:0}else for(o=0;o<r;o++){for(s=u;s<n;s+=2)i.push(ft(e,s,o)),i.push(ft(e,s,r-o-1));u=0===u?1:0}break;case"skipOneHorizontal":if(n%2)for(s=0;s<n;s++){for(o=u;o<r;o+=2){if(s===Math.floor(n/2))for(s++,t=1-r%2;t<r;t+=2)i.push(ft(e,Math.floor(n/2),t)),void 0!==ft(e,Math.floor(n/2),t-1)&&i.push(ft(e,Math.floor(n/2),t-1));i.push(ft(e,s,o));i.push(ft(e,n-1-s,o))}u=0===u?1:0}else for(s=0;s<n;s++){for(o=u;o<r;o+=2)i.push(ft(e,s,o)),i.push(ft(e,n-1-s,o));u=0===u?1:0}break;case"spiralMarginToCenterCW":var f=n,l=r,c,h=0,p=r<n?r:n,a=Math.floor(p/2);for(c=0;c<a;c++){for(s=h++;s<f;s++)i.push(ft(e,s,h-1));f--;for(o=h;o<l;o++)i.push(ft(e,n-h,o));l--;for(t=f;t>=n-f;t--)i.push(ft(e,t-1,l));for(u=l-1;u>=r-l;u--)i.push(ft(e,h-1,u))}if(p%2){if(p===r)for(s=h++;s<f;s++)i.push(ft(e,s,h-1));if(p===n)for(o=h++;o<l;o++)i.push(ft(e,n-h,o))}break;case"spiralMarginToCenterCCW":f=n;l=r;h=0;p=r<n?r:n;a=Math.floor(p/2);for(c=0;c<a;c++){for(o=h++;o<l;o++)i.push(ft(e,h-1,o));l--;for(s=h;s<f;s++)i.push(ft(e,s,r-h));f--;for(t=l;t>=r-l;t--)i.push(ft(e,f,t-1));for(u=f-1;u>=n-f;u--)i.push(ft(e,u,h-1))}if(p%2){if(p===r)for(s=h++;s<f;s++)i.push(ft(e,s,r-h));if(p===n)for(o=h++;o<l;o++)i.push(ft(e,h-1,o))}break;case"spiralCenterToMarginCCW":f=n;l=r;h=0;p=r<n?r:n;a=Math.floor(p/2);for(c=0;c<a;c++){for(s=h++;s<f;s++)i.push(ft(e,s,h-1));f--;for(o=h;o<l;o++)i.push(ft(e,n-h,o));l--;for(t=f;t>=n-f;t--)i.push(ft(e,t-1,l));for(u=l-1;u>=r-l;u--)i.push(ft(e,h-1,u))}if(p%2){if(p===r)for(s=h++;s<f;s++)i.push(ft(e,s,h-1));if(p===n)for(o=h++;o<l;o++)i.push(ft(e,n-h,o))}i.reverse();break;case"spiralCenterToMarginCW":f=n;l=r;h=0;p=r<n?r:n;a=Math.floor(p/2);for(c=0;c<a;c++){for(o=h++;o<l;o++)i.push(ft(e,h-1,o));l--;for(s=h;s<f;s++)i.push(ft(e,s,r-h));f--;for(t=l;t>=r-l;t--)i.push(ft(e,f,t-1));for(u=f-1;u>=n-f;u--)i.push(ft(e,u,h-1))}if(p%2){if(p===r)for(s=h++;s<f;s++)i.push(ft(e,s,r-h));if(p===n)for(o=h++;o<l;o++)i.push(ft(e,h-1,o))}i.reverse();break;default:for(n=[];e.length;)u=Math.floor(Math.random()*e.length),n.push(e[u]),e.splice(u,1);a=n.length;for(t=0;t<a;t++)i[t]=n[t]}return i}function ft(t,n,r){return e.grep(t,function(e){return e.data("hPos")===n&&e.data("vPos")===r})[0]}function lt(e){return e[Math.floor(Math.random()*e.length)]}function ct(e){var t=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16);e=parseInt(e.substring(5,7),16);return{red:t,green:n,blue:e}}function ht(e,t,n){var r,i=n[0],s=e===Un;n[0]=function(){i&&(i.apply(window,arguments),s||(delete t[r],i=null))};r=e.apply(window,n);t[r]={args:n,created:Date.now(),cb:i,id:r};return r}function pt(e,t,n,r,i){function s(){o.cb&&(o.cb.apply(window,arguments),u||(delete n[r],o.cb=null))}var o=n[r];if(o){var u=e===Un;t(o.id);u||(t=o.args[1],i=Date.now()-o.created,0>i&&(i=0),t-=i,0>t&&(t=0),o.args[1]=t);o.args[0]=s;o.created=Date.now();o.id=e.apply(window,o.args)}}this.settings=e.extend({},e.fn.advancedSlider.defaults,n);var dt=e(t),vt=this,mt=-1,gt=-1,yt=-1,bt=[],wt=[],Et=0,St=0,xt=null,Tt=!1,Nt=!1,Ct=!1,kt=!1,Lt=!1,At,Ot=!1,Mt=!1,_t=!1,Dt=0,Pt=0,Ht,Bt=0,jt=0,Ft=0,It=0,qt=0,Rt,Ut,zt,Wt,Xt,Vt,$t,Jt,Kt,Qt,Gt,Yt=0,Zt=0,en=0,tn=!1,nn,rn,sn=!1,on,un=!1,an=!1,fn,ln,cn=0,hn=0,pn,dn=0,vn=!1,mn=!1,gn=!0,yn="",bn=0,wn=null,En,Sn,xn,Tn,Nn,Cn=0,kn,Ln,An=window.navigator.userAgent.toLowerCase(),On=null!==An.match(/ipad/i)||null!==An.match(/ipod/i)||null!==An.match(/iphone/i),Mn=/(msie) ([\w.]+)/,_n=/(webkit)[ \/]([\w.]+)/.exec(An)||Mn.exec(An)||[],Dn=_n[1],Pn=_n[2],Hn="msie"===Dn&&9>parseInt(Pn,10),Bn=!1,jn="off",Fn="alignType effectType sliceEffectType sliceDelay sliceDuration sliceEasing horizontalSlices verticalSlices slicePattern slicePoint sliceStartPosition sliceStartRatio sliceFade captionSize captionPosition captionShowEffectDuration captionShowEffectEasing captionHideEffectDuration captionHideEffectEasing captionShowEffect captionHideEffect captionLeft captionTop captionWidth captionHeight captionShowSlideDirection captionHideSlideDirection captionBackgroundColor captionBackgroundOpacity slideshowDelay slideMask slideDirection slideDuration slideEasing slideLoop fadeInDuration fadeOutDuration fadeInEasing fadeOutEasing fadePreviousSlide fadePreviousSlideDuration thumbnailType captionDelay htmlDuringTransition jwPlayerPlugins".split(" ");(function(){vt.settings.xmlSource?(dt.empty(),e.ajax({type:"GET",url:vt.settings.xmlSource,dataType:"msie"===Dn?"text":"xml",success:function(t){var i,s;"msie"===Dn?(i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(t)):i=t;xn=e('<div class="slides"></div>').appendTo(dt);s=e(i).find("slider");e(i).find("slide").each(function(t){var r=e('<div class="slide"></div>').appendTo(xn),i=e(this),o=i.find("image"),u=i.find("thumbnail"),a=i.find("caption"),f=i.find("html"),l=i.find("layer"),c=i.find("link"),h=i.find("thumbnailLink"),p=o.length||i.attr("data-image"),v,m;i.attr("data-image")&&r.attr("data-image",i.attr("data-image"));p&&c.length&&(v=e("<a></a>").attr("href",c.text()).attr("title",c.attr("title")?c.attr("title"):"").attr("target",c.attr("target")?c.attr("target"):"_self").attr("rel",("slider-lightbox"===c.attr("type")?c.attr("type"):"")+(c.attr("group")?"["+c.attr("group")+"]":"")).appendTo(r));o.length&&e("<img/>").attr("src",o.text()).attr("class","image").attr("alt",o.attr("alt")?o.attr("alt"):"").attr("title",o.attr("title")?o.attr("title"):"").appendTo(v?v:r);u.length&&h.length&&(m=e("<a></a>").attr("href",h.text()).attr("title",h.attr("title")?h.attr("title"):"").attr("target",h.attr("target")?h.attr("target"):"_self").attr("rel",("slider-lightbox"===h.attr("type")?h.attr("type"):"")+(h.attr("group")?"["+h.attr("group")+"]":"")).appendTo(r));u.length&&("content"===u.attr("type")?e("<div></div>").html(u.text()).attr("class","thumbnail").appendTo(r):e("<img/>").attr("src",u.text()).attr("class","thumbnail").attr("alt",u.attr("alt")?u.attr("alt"):"").attr("title",u.attr("title")?u.attr("title"):"").appendTo(m?m:r));a.length&&e("<div></div>").html(a.text()).attr("class","caption").appendTo("link"===a.attr("parent")&&v?v:r);f.length&&e("<div></div>").html(f.text()).attr("class","html").appendTo(r);l.length&&e.each(l,function(t){t=e(l[t]);var n=e("<div></div>").html(t.text()).attr("class","layer").appendTo(r);e.each(t[0].attributes,function(e,t){"style"===t.nodeName?n.addClass(t.nodeValue):n.attr("data-"+t.nodeName,t.nodeValue)})});r.properties={};for(i=0;i<Fn.length;i++)o=Fn[i],n.slideProperties&&n.slideProperties[t]&&n.slideProperties[t][o]?r.properties[o]=n.slideProperties[t][o]:e(this).attr(o)?r.properties[o]=e(this).attr(o):n[o]?r.properties[o]=n[o]:s.attr(o)?r.properties[o]=s.attr(o):r.properties[o]=e.fn.advancedSlider.defaults[o];bt.push(r)});r();t={type:"xmlLoaded",data:i};e.isFunction(vt.settings.xmlLoaded)&&vt.settings.xmlLoaded.call(this,t)}})):r()})();this.nextSlide=b;this.previousSlide=w;this.gotoSlide=y;this.startSlideshow=B;this.stopSlideshow=j;this.pauseSlideshow=I;this.resumeSlideshow=q;this.scrollToThumbnailPage=K;this.scrollToNextThumbnailPage=$;this.scrollToPreviousThumbnailPage=J;this.startThumbnailMouseScroll=Y;this.stopThumbnailMouseScroll=function(){vt.settings.thumbnailMouseScroll=!1;clearInterval(nn)};this.startThumbnailMouseWheel=Z;this.stopThumbnailMouseWheel=function(){sn=vt.settings.thumbnailMouseWheel=!1;clearInterval(rn)};this.startAutoToggle=Q;this.stopAutoToggle=G;this.doSliderLayout=s;this.getSlideshowState=function(){return Ht};this.getCurrentIndex=function(){return mt};this.getSlideAt=function(e){return bt[e]};this.getTriggerType=function(){return yn};this.isTransition=function(){return Tt};this.totalSlides=function(){return Et};this.getSize=function(){return{sliderWidth:dt.width(),sliderHeight:dt.height(),slideWidth:Sn.width(),slideHeight:Sn.height()}};this.destroy=function(){j();nt();e(document).unbind("mousemove");e(document).unbind("mousemove.tooltip")};var In={},qn={},Rn=window.setTimeout,Un=window.setInterval,zn=window.clearTimeout,Wn=window.clearInterval;On&&-1!==parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_","")).toString().indexOf("6.0")&&(window.setTimeout=function(){return ht(Rn,In,arguments)},window.setInterval=function(){return ht(Un,qn,arguments)},window.clearTimeout=function(e){var t=In[e];t&&(delete In[e],zn(t.id))},window.clearInterval=function(e){var t=qn[e];t&&(delete qn[e],Wn(t.id))},window.addEventListener("scroll",function(){for(var e in In)pt(Rn,zn,In,e);for(e in qn)pt(Un,Wn,qn,e)}))}e.fn.advancedSlider=function(e){for(var n=[],r=0;r<this.length;r++)this[r].advancedslider||(this[r].advancedslider=new t(this[r],e)),n.push(this[r].advancedslider);return 1<n.length?n:n[0]};e.fn.advancedSlider.defaults={xmlSource:null,width:500,height:300,aspectRatio:-1,responsive:!1,skin:"pixel",scrollbarSkin:"scrollbar-1",alignType:"centerCenter",scaleType:"outsideFit",allowScaleUp:!1,preloadNearbyImages:!1,slideStart:0,shuffle:!1,disableRightClick:!1,shadow:!0,border:!0,glow:!0,slideshow:!0,slideshowDelay:5e3,slideshowDirection:"next",slideshowLoop:!0,slideshowControls:!1,slideshowControlsToggle:!0,slideshowControlsShowDuration:500,slideshowControlsHideDuration:500,pauseSlideshowOnHover:!1,slideArrows:!0,slideArrowsToggle:!0,slideArrowsShowDuration:500,slideArrowsHideDuration:500,slideButtons:!0,slideButtonsNumber:!1,slideButtonsToggle:!1,slideButtonsShowDuration:500,slideButtonsHideDuration:500,slideButtonsCenter:!0,slideButtonsContainerCenter:!0,keyboardNavigation:!1,keyboardNavigationOnFocusOnly:!1,autoToggle:!1,autoToggleDelay:5e3,timerAnimation:!0,timerAnimationControls:!0,timerFadeDuration:500,timerToggle:!1,timerRadius:18,timerStrokeColor1:"#000000",timerStrokeColor2:"#FFFFFF",timerStrokeOpacity1:.5,timerStrokeOpacity2:.7,timerStrokeWidth1:8,timerStrokeWidth2:4,lightbox:!1,lightboxTheme:"pp_default",lightboxOpacity:.8,lightboxIcon:!0,lightboxIconToggle:!1,lightboxIconFadeDuration:500,thumbnailLightboxIcon:!0,thumbnailLightboxIconToggle:!0,lightboxAutoplay:!1,lightboxAutoplayDelay:5e3,lightboxVideoAutoplay:!0,ligthboxAllowResize:!0,fullscreenControls:!1,fullscreenControlsToggle:!0,fullscreenControlsShowDuration:500,fullscreenControlsHideDuration:500,fullscreenThumbnailScrollerOverlay:!0,fullscreenSlideButtons:!1,fullscreenShadow:!1,htmlDuringTransition:!0,overrideTransition:!1,initialEffect:!0,effectType:"random",sliceEffectType:"random",sliceDelay:50,sliceDuration:1e3,sliceEasing:"swing",horizontalSlices:5,verticalSlices:3,slicePattern:"random",slicePoint:"centerCenter",sliceStartPosition:"left",sliceStartRatio:1,slideMask:!1,sliceFade:!0,fadePreviousSlide:!1,fadePreviousSlideDuration:300,slideDirection:"autoHorizontal",slideLoop:!1,slideDuration:700,slideEasing:"swing",fadeInDuration:700,fadeOutDuration:700,fadeInEasing:"swing",fadeOutEasing:"swing",swipeOrientation:"horizontal",swipeDuration:700,swipeBackDuration:300,swipeSlideDistance:10,swipeEasing:"swing",swipeMouseDrag:!0,swipeTouchDrag:!0,swipeGrabCursor:!0,swipeThreshold:50,thumbnailType:"tooltip",thumbnailWidth:80,thumbnailHeight:50,thumbnailSlideAmount:10,thumbnailSlideDuration:300,thumbnailSlideEasing:"swing",thumbnailBorder:!0,thumbnailGlow:!0,thumbnailBackground:!0,thumbnailSwipe:!1,thumbnailSwipeBackDuration:300,thumbnailSwipeMouseDrag:!0,thumbnailSwipeTouchDrag:!0,thumbnailSwipeGrabCursor:!0,thumbnailSwipeThreshold:50,thumbnailScrollerToggle:!1,thumbnailScrollerResponsive:!1,thumbnailScrollerCenter:!0,thumbnailScrollerOverlay:!1,thumbnailScrollDuration:1e3,thumbnailScrollEasing:"swing",maximumVisibleThumbnails:5,minimumVisibleThumbnails:1,thumbnailOrientation:"horizontal",thumbnailLayers:1,thumbnailTooltip:!1,tooltipShowDuration:300,tooltipHideDuration:300,thumbnailCaption:!0,thumbnailCaptionPosition:"bottom",thumbnailCaptionToggle:!0,thumbnailCaptionEffect:"slide",thumbnailCaptionShowDuration:500,thumbnailCaptionHideDuration:500,thumbnailCaptionEasing:"swing",thumbnailScrollbar:!1,thumbnailButtons:!1,thumbnailArrows:!0,thumbnailButtonsToggle:!1,thumbnailArrowsToggle:!1,thumbnailScrollbarToggle:!1,scrollbarArrowScrollAmount:100,thumbnailScrollerHideDuration:500,thumbnailScrollerShowDuration:500,thumbnailArrowsHideDuration:500,thumbnailArrowsShowDuration:500,thumbnailButtonsHideDuration:500,thumbnailButtonsShowDuration:500,thumbnailScrollbarHideDuration:500,thumbnailScrollbarShowDuration:500,thumbnailSync:!0,thumbnailMouseScroll:!1,thumbnailMouseScrollEase:90,thumbnailMouseScrollSpeed:10,thumbnailMouseWheel:!1,thumbnailMouseWheelSpeed:20,thumbnailMouseWheelReverse:!1,thumbnailScrollbarEase:10,captionToggle:!1,captionDelay:0,captionSize:70,captionBackgroundOpacity:.5,captionBackgroundColor:"#000000",captionShowEffect:"slide",captionShowEffectDuration:500,captionShowEffectEasing:"swing",captionShowSlideDirection:"auto",captionHideEffect:"fade",captionHideEffectDuration:300,captionHideEffectEasing:"swing",captionHideSlideDirection:"auto",captionPosition:"bottom",captionLeft:50,captionTop:50,captionWidth:300,captionHeight:100,videoPlayAction:"stopSlideshow",videoPauseAction:"none",videoEndAction:"startSlideshow",reachVideoAction:"none",leaveVideoAction:"pauseVideo",jwPlayerPath:"js/jw-player/player.swf",jwPlayerSkin:null,slideProperties:null,sliderInit:null,slideOpen:null,slideClick:null,slideMouseOver:null,slideMouseOut:null,thumbnailClick:null,thumbnailMouseOver:null,thumbnailMouseOut:null,transitionStart:null,transitionComplete:null,videoPlay:null,videoPause:null,videoEnd:null,videoFullscreenChange:null,xmlLoaded:null,doSliderLayout:null}})(jQuery);(function(e,t){var n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.sliderImagesLoaded=function(r){function i(){var t=e(h),n=e(p);a&&(p.length?a.reject(l,t,n):a.resolve(l));e.isFunction(r)&&r.call(u,l,t,n)}function s(e){o(e.target,"error"===e.type)}function o(t,r){t.src!==n&&-1===e.inArray(t,c)&&(c.push(t),r?p.push(t):h.push(t),e.data(t,"sliderImagesLoaded",{isBroken:r,src:t.src}),f&&a.notifyWith(e(t),[r,l,e(h),e(p)]),l.length===c.length&&(setTimeout(i),l.unbind(".sliderImagesLoaded",s)))}var u=this,a=e.isFunction(e.Deferred)?e.Deferred():0,f=e.isFunction(a.notify),l=u.find("img").add(u.filter("img")),c=[],h=[],p=[];e.isPlainObject(r)&&e.each(r,function(e,t){if("callback"===e)r=t;else if(a)a[e](t)});l.length?l.bind("load.sliderImagesLoaded error.sliderImagesLoaded",s).each(function(r,i){var s=i.src,u=e.data(i,"sliderImagesLoaded");if(u&&u.src===s)o(i,u.isBroken);else if(i.complete&&i.naturalWidth!==t)o(i,0===i.naturalWidth||0===i.naturalHeight);else if(i.readyState||i.complete)i.src=n,"Microsoft Internet Explorer"===navigator.appName||navigator.userAgent.match(/Windows Phone/i)?(s=s.split("?"),u="undefined"!==typeof s[1]?parseInt(s[1])+1:1,i.src=s[0]+"?"+u):i.src=s}):i();return a?a.promise(u):u}})(jQuery);

// Bootstrap popover validate
//(function(){var e;e=jQuery;e.fn.extend({validate_popover:function(t){var n;n=e.extend(true,{},e.validator.popover_defaults,t);if(n.get_offset_element)e.validator.get_offset_element=n.get_offset_element;return this.validate(n)}});e.extend(e.validator,{popover_defaults:{onsubmit:true,popoverPosition:"right",popoverContainer:"body",hideForInvisible:true,success:function(t,n){return e.validator.hide_validate_popover(n)},errorPlacement:function(t,n){var r;r=t.html();this.beforeShowError.call(n.get(0),r);return e.validator.show_error(r,n)},beforeShowError:function(e){}},popover_elements_cached:[],hide_validate_popover:function(t){var n,r,i,s;if(t.length>1){s=[];for(r=0,i=t.length;r<i;r++){n=t[r];s.push(e.validator.get_validate_popover(n))}return s}else return e.validator.get_validate_popover(t)},show_error:function(t,n){var r;r=e.validator.get_validate_popover(n);e(".popover-content",r).html(t);e.validator.reset_position(r,n);if(t!=null&&t!=="")return r.show()},get_offset_element:function(t){return e(t)},reset_position:function(t,n){var r,i,s,o,u,a,f,l;s=e.validator.get_offset_element(n).offset();o=e(n).data("popover-offset")||"0,0";l=o.split(","),f=l[0],i=l[1];u=e.validator.get_position(n);if(u==="top"){a=s.top-11-26+parseInt(f);r=s.left+parseInt(i)}else{a=s.top-3+parseInt(f);r=s.left+e(n).width()+20+parseInt(i)}return t.css({top:a,left:r})},get_position:function(t){return e(t).data("popover-position")||e.validator.validator_settings(t).popoverPosition},reposition:function(t){var n,r,i,s,o,u,a;if(t!=null)s=t;else s=e.validator.popover_elements_cached;a=[];for(o=0,u=s.length;o<u;o++){r=s[o];n=e(r);i=n.data("validate-popover");if(i!=null&&i.is(":visible"))if(e.validator.hide_popover_for_invisible(r)&&!n.is(":visible"))a.push(i.hide());else a.push(e.validator.reset_position(i,r));else a.push(void 0)}return a},get_validate_popover:function(t){var n,r;r=e(t).data("validate-popover");if(r==null){n=e(e.validator.validator_settings(t).popoverContainer);r=e("<div class='popover "+e.validator.get_position(t)+" error-popover' id='validate-popover'><div class='arrow'></div><div class='popover-content'></div></div>").appendTo(n);r.click(function(){return e(this).hide()});e(t).data("validate-popover",r);e.validator.popover_elements_cached.push(t)}return r.hide()},hide_popover_for_invisible:function(t){var n;n=e(t).data("popover-hide-for-invisible");if(n!=null)return n;else return e.validator.validator_settings(t).hideForInvisible},validator_settings:function(t){return e.data(e(t)[0].form,"validator").settings}})}).call(this);

// Bootstrap validator
!function(e){var t=function(n,r){this.$form=e(n),this.options=e.extend({},t.DEFAULT_OPTIONS,r),this.$invalidField=null,this.$submitButton=null,this.STATUS_NOT_VALIDATED="NOT_VALIDATED",this.STATUS_VALIDATING="VALIDATING",this.STATUS_INVALID="INVALID",this.STATUS_VALID="VALID";var i=function(){for(var e=3,t=document.createElement("div"),n=t.all||[];t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->",n[0];);return e>4?e:!e}(),s=document.createElement("div");this._changeEvent=9!==i&&"oninput"in s?"input":"keyup",this._submitIfValid=null,this._init()};t.DEFAULT_OPTIONS={elementClass:"bv-form",message:"This value is not valid",threshold:null,excluded:[":disabled",":hidden",":not(:visible)"],feedbackIcons:{valid:null,invalid:null,validating:null},submitButtons:'[type="submit"]',submitHandler:null,live:"enabled",fields:null},t.prototype={constructor:t,_init:function(){var t,n,r,i,s,o,u,f=this,l={excluded:this.$form.attr("data-bv-excluded"),trigger:this.$form.attr("data-bv-trigger"),message:this.$form.attr("data-bv-message"),submitButtons:this.$form.attr("data-bv-submitbuttons"),threshold:this.$form.attr("data-bv-threshold"),live:this.$form.attr("data-bv-live"),fields:{},feedbackIcons:{valid:this.$form.attr("data-bv-feedbackicons-valid"),invalid:this.$form.attr("data-bv-feedbackicons-invalid"),validating:this.$form.attr("data-bv-feedbackicons-validating")}};this.$form.attr("novalidate","novalidate").addClass(this.options.elementClass).on("submit.bv",function(e){e.preventDefault(),f.validate()}).on("click",this.options.submitButtons,function(){f.$submitButton=e(this),f._submitIfValid=!0}).find("[name], [data-bv-field]").each(function(){var c=e(this);if(!f._isExcluded(c)){var p=c.attr("name")||c.attr("data-bv-field"),v={};for(n in e.fn.bootstrapValidator.validators)if(t=e.fn.bootstrapValidator.validators[n],r=c.attr("data-bv-"+n.toLowerCase())+"",u="function"==typeof t.enableByHtml5?t.enableByHtml5(e(this)):null,u&&"false"!=r||u!==!0&&(""==r||"true"==r)){t.html5Attributes=t.html5Attributes||{message:"message"},v[n]=e.extend({},1==u?{}:u,v[n]);for(o in t.html5Attributes)i=t.html5Attributes[o],s=c.attr("data-bv-"+n.toLowerCase()+"-"+o),s&&("true"==s?s=!0:"false"==s&&(s=!1),v[n][i]=s)}var m={trigger:c.attr("data-bv-trigger"),message:c.attr("data-bv-message"),container:c.attr("data-bv-container"),selector:c.attr("data-bv-selector"),threshold:c.attr("data-bv-threshold"),validators:v};e.isEmptyObject(m.validators)||e.isEmptyObject(m)||(c.attr("data-bv-field",p),l.fields[p]=e.extend({},m,l.fields[p]))}}).end().find(this.options.submitButtons).each(function(){e("<input/>").attr("type","hidden").attr("name",e(this).attr("name")).val(e(this).val()).appendTo(f.$form)}),this.options=e.extend(!0,this.options,l);for(var c in this.options.fields)this._initField(c);this.setLiveMode(this.options.live)},_initField:function(t){if(null!=this.options.fields[t]&&null!=this.options.fields[t].validators){var n=this.getFieldElements(t);if(null==n)return void delete this.options.fields[t];for(var r in this.options.fields[t].validators)e.fn.bootstrapValidator.validators[r]||delete this.options.fields[t].validators[r];for(var i=this,s=n.attr("type"),o="radio"==s||"checkbox"==s||"file"==s||"SELECT"==n[0].tagName?"change":i._changeEvent,u=n.length,f=1==u||"radio"==s||"checkbox"==s,l=0;u>l;l++){var c=e(n[l]),h=c.parents(".form-group"),p=this.options.fields[t].container?h.find(this.options.fields[t].container):this._getMessageContainer(c);c.attr("data-bv-field")||c.attr("data-bv-field",t),c.on(o+".update.bv",function(){i._submitIfValid=!1,f?i.updateStatus(t,i.STATUS_NOT_VALIDATED,null):i.updateElementStatus(e(this),i.STATUS_NOT_VALIDATED,null)}),c.data("bv.messages",p);for(r in this.options.fields[t].validators)c.data("bv.result."+r,this.STATUS_NOT_VALIDATED),f&&l!=u-1||e("<small/>").css("display","none").attr("data-bv-validator",r).attr("data-bv-validator-for",t).html(this.options.fields[t].validators[r].message||this.options.fields[t].message||this.options.message).addClass("help-block").appendTo(p);if(this.options.feedbackIcons&&this.options.feedbackIcons.validating&&this.options.feedbackIcons.invalid&&this.options.feedbackIcons.valid&&(!f||l==u-1)){h.addClass("has-feedback");var d=e("<i/>").css("display","none").addClass("form-control-feedback").attr("data-bv-icon-for",t).insertAfter(c);0==h.find("label").length&&d.css("top",0)}}null==this.options.fields[t].enabled&&(this.options.fields[t].enabled=!0)}},_getMessageContainer:function(e){var t=e.parent();if(t.hasClass("form-group"))return t;var n=t.attr("class");if(!n)return this._getMessageContainer(t);n=n.split(" ");for(var r=n.length,i=0;r>i;i++)if(/^col-(xs|sm|md|lg)-\d+$/.test(n[i])||/^col-(xs|sm|md|lg)-offset-\d+$/.test(n[i]))return t;return this._getMessageContainer(t)},_submit:function(){if(this.isValid())this.options.submitHandler&&"function"==typeof this.options.submitHandler?this.options.submitHandler.call(this,this,this.$form,this.$submitButton):this.disableSubmitButtons(!0).defaultSubmit();else if("submitted"==this.options.live&&this.setLiveMode("enabled"),this.$invalidField){var t,n=this.$invalidField.parents(".tab-pane");n&&(t=n.attr("id"))&&e('a[href="#'+t+'"][data-toggle="tab"]').trigger("click.bs.tab.data-api"),this.$invalidField.focus()}},_isExcluded:function(t){if(this.options.excluded){"string"==typeof this.options.excluded&&(this.options.excluded=e.map(this.options.excluded.split(","),function(t){return e.trim(t)}));for(var n=this.options.excluded.length,r=0;n>r;r++)if("string"==typeof this.options.excluded[r]&&t.is(this.options.excluded[r])||"function"==typeof this.options.excluded[r]&&1==this.options.excluded[r].call(this,t,this))return!0}return!1},_exceedThreshold:function(e){var t=e.attr("data-bv-field"),n=this.options.fields[t].threshold||this.options.threshold;if(!n)return!0;var r=e.attr("type"),i=-1!=["button","checkbox","file","hidden","image","radio","reset","submit"].indexOf(r);return i||e.val().length>=n},getFieldElements:function(t){var n=this.options.fields[t].selector?e(this.options.fields[t].selector):this.$form.find('[name="'+t+'"]');return 0==n.length?null:n},setLiveMode:function(t){if(this.options.live=t,"submitted"==t)return this;var n=this;for(var r in this.options.fields)!function(i){var s=n.getFieldElements(i);if(s)for(var o=s.attr("type"),u=s.length,f=1==u||"radio"==o||"checkbox"==o,l=n.options.fields[r].trigger||n.options.trigger||("radio"==o||"checkbox"==o||"file"==o||"SELECT"==s[0].tagName?"change":n._changeEvent),h=e.map(l.split(" "),function(e){return e+".live.bv"}).join(" "),p=0;u>p;p++)"enabled"==t?e(s[p]).on(h,function(){n._exceedThreshold(e(this))&&(f?n.validateField(i):n.validateFieldElement(e(this),!1))}):e(s[p]).off(h)}(r);return this},disableSubmitButtons:function(e){return e?"disabled"!=this.options.live&&this.$form.find(this.options.submitButtons).attr("disabled","disabled"):this.$form.find(this.options.submitButtons).removeAttr("disabled"),this},validate:function(){if(!this.options.fields)return this;this.disableSubmitButtons(!0);for(var e in this.options.fields)this.validateField(e);return this.$submitButton&&this._submit(),this},validateField:function(t){for(var n=this.getFieldElements(t),r=n.attr("type"),i="radio"==r||"checkbox"==r?1:n.length,s=0;i>s;s++)this.validateFieldElement(e(n[s]),1==i);return this},validateFieldElement:function(t,n){var r,i,s=this,o=t.attr("data-bv-field"),u=this.options.fields[o].validators;if(!this.options.fields[o].enabled||this._isExcluded(t))return this;for(r in u){t.data("bv.dfs."+r)&&t.data("bv.dfs."+r).reject();var f=t.data("bv.result."+r);f!=this.STATUS_VALID&&f!=this.STATUS_INVALID&&(t.data("bv.result."+r,this.STATUS_VALIDATING),i=e.fn.bootstrapValidator.validators[r].validate(this,t,u[r]),"object"==typeof i?(n?this.updateStatus(o,this.STATUS_VALIDATING,r):this.updateElementStatus(t,this.STATUS_VALIDATING,r),t.data("bv.dfs."+r,i),i.done(function(e,t,r){e.removeData("bv.dfs."+t),n?s.updateStatus(e.attr("data-bv-field"),r?s.STATUS_VALID:s.STATUS_INVALID,t):s.updateElementStatus(e,r?s.STATUS_VALID:s.STATUS_INVALID,t),r&&1==s._submitIfValid&&s._submit()})):"boolean"==typeof i&&(n?this.updateStatus(o,i?this.STATUS_VALID:this.STATUS_INVALID,r):this.updateElementStatus(t,i?this.STATUS_VALID:this.STATUS_INVALID,r)))}return this},updateStatus:function(t,n,r){for(var i=this.getFieldElements(t),s=i.attr("type"),o="radio"==s||"checkbox"==s?1:i.length,u=0;o>u;u++)this.updateElementStatus(e(i[u]),n,r);return this},updateElementStatus:function(t,n,r){var i=this,s=t.attr("data-bv-field"),o=t.parents(".form-group"),u=t.data("bv.messages"),f=u.find(".help-block[data-bv-validator]"),l=o.find('.form-control-feedback[data-bv-icon-for="'+s+'"]');if(r)t.data("bv.result."+r,n);else for(var c in this.options.fields[s].validators)t.data("bv.result."+c,n);var h,p,d=t.parents(".tab-pane");switch(d&&(h=d.attr("id"))&&(p=e('a[href="#'+h+'"][data-toggle="tab"]').parent()),n){case this.STATUS_VALIDATING:this.disableSubmitButtons(!0),o.removeClass("has-success").removeClass("has-error"),r?f.filter('.help-block[data-bv-validator="'+r+'"]').hide():f.hide(),l&&l.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).addClass(this.options.feedbackIcons.validating).show(),p&&p.removeClass("bv-tab-success").removeClass("bv-tab-error");break;case this.STATUS_INVALID:this.disableSubmitButtons(!0),o.removeClass("has-success").addClass("has-error"),r?f.filter('[data-bv-validator="'+r+'"]').show():f.show(),l&&l.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.validating).addClass(this.options.feedbackIcons.invalid).show(),p&&p.removeClass("bv-tab-success").addClass("bv-tab-error");break;case this.STATUS_VALID:r?f.filter('[data-bv-validator="'+r+'"]').hide():f.hide();var v=0==f.filter(function(){var n=e(this).css("display"),r=e(this).attr("data-bv-validator");return"block"==n||t.data("bv.result."+r)!=i.STATUS_VALID}).length;this.disableSubmitButtons(!v),l&&l.removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).removeClass(this.options.feedbackIcons.valid).addClass(v?this.options.feedbackIcons.valid:this.options.feedbackIcons.invalid).show();var m=function(n){return 0==n.find(".help-block[data-bv-validator]").filter(function(){var n=e(this).css("display"),r=e(this).attr("data-bv-validator");return"block"==n||t.data("bv.result."+r)&&t.data("bv.result."+r)!=i.STATUS_VALID}).length};o.removeClass("has-error has-success").addClass(m(o)?"has-success":"has-error"),p&&p.removeClass("bv-tab-success").removeClass("bv-tab-error").addClass(m(d)?"bv-tab-success":"bv-tab-error");break;case this.STATUS_NOT_VALIDATED:default:this.disableSubmitButtons(!1),o.removeClass("has-success").removeClass("has-error"),r?f.filter('.help-block[data-bv-validator="'+r+'"]').hide():f.hide(),l&&l.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).hide(),p&&p.removeClass("bv-tab-success").removeClass("bv-tab-error")}return this},isValid:function(){var t,n,r,i,s,o,u,f;for(n in this.options.fields)if(null!=this.options.fields[n]&&this.options.fields[n].enabled)for(t=this.getFieldElements(n),i=t.attr("type"),u="radio"==i||"checkbox"==i?1:t.length,f=0;u>f;f++)if(r=e(t[f]),!this._isExcluded(r))for(o in this.options.fields[n].validators){if(s=r.data("bv.result."+o),s==this.STATUS_NOT_VALIDATED||s==this.STATUS_VALIDATING)return!1;if(s==this.STATUS_INVALID)return this.$invalidField=r,!1}return!0},defaultSubmit:function(){this.$form.off("submit.bv").submit()},resetForm:function(t){var n,r,i,s,o;for(n in this.options.fields){r=this.getFieldElements(n),i=r.length;for(var u=0;i>u;u++)for(o in this.options.fields[n].validators)e(r[u]).removeData("bv.dfs."+o);this.updateStatus(n,this.STATUS_NOT_VALIDATED,null),t&&(s=r.attr("type"),"radio"==s||"checkbox"==s?r.removeAttr("checked").removeAttr("selected"):r.val(""))}return this.$invalidField=null,this.$submitButton=null,this.disableSubmitButtons(!1),this},enableFieldValidators:function(e,t){return this.options.fields[e].enabled=t,this.updateStatus(e,this.STATUS_NOT_VALIDATED,null),this}},e.fn.bootstrapValidator=function(n){var r=arguments;return this.each(function(){var i=e(this),s=i.data("bootstrapValidator"),o="object"==typeof n&&n;s||(s=new t(this,o),i.data("bootstrapValidator",s)),"string"==typeof n&&s[n].apply(s,Array.prototype.slice.call(r,1))})},e.fn.bootstrapValidator.validators={},e.fn.bootstrapValidator.Constructor=t,e.fn.bootstrapValidator.helpers={date:function(e,t,n,r){if(1e3>e||e>9999||0==t||t>12)return!1;var i=[31,28,31,30,31,30,31,31,30,31,30,31];if((e%400==0||e%100!=0&&e%4==0)&&(i[1]=29),0>n||n>i[t-1])return!1;if(r===!0){var s=new Date,o=s.getFullYear(),u=s.getMonth(),a=s.getDate();return o>e||e==o&&u>t-1||e==o&&t-1==u&&a>n}return!0},luhn:function(e){for(var t=e.length,n=0,r=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],i=0;t--;)i+=r[n][parseInt(e.charAt(t),10)],n^=1;return i%10===0&&i>0},mod_11_10:function(e){for(var t=5,n=e.length,r=0;n>r;r++)t=(2*(t||10)%11+parseInt(e.charAt(r),10))%10;return 1==t},mod_37_36:function(e,t){t=t||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var n=t.length,r=e.length,i=Math.floor(n/2),s=0;r>s;s++)i=(2*(i||n)%(n+1)+t.indexOf(e.charAt(s)))%n;return 1==i}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.base64={validate:function(e,t){var n=t.val();return""==n?!0:/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.between={html5Attributes:{message:"message",min:"min",max:"max",inclusive:"inclusive"},enableByHtml5:function(e){return"range"==e.attr("type")?{min:e.attr("min"),max:e.attr("max")}:!1},validate:function(e,t,n){var r=t.val();return""==r?!0:(r=parseFloat(r),n.inclusive===!0?r>n.min&&r<n.max:r>=n.min&&r<=n.max)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.callback={validate:function(t,n,r){var i=n.val();if(r.callback&&"function"==typeof r.callback){var s=new e.Deferred;return s.resolve(n,"callback",r.callback.call(this,i,t)),s}return!0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.choice={html5Attributes:{message:"message",min:"min",max:"max"},validate:function(e,t,n){var r=t.is("select")?e.getFieldElements(t.attr("data-bv-field")).find("option").filter(":selected").length:e.getFieldElements(t.attr("data-bv-field")).filter(":checked").length;return n.min&&r<n.min||n.max&&r>n.max?!1:!0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.creditCard={validate:function(t,n){var r=n.val();if(""==r)return!0;if(/[^0-9-\s]+/.test(r))return!1;if(r=r.replace(/\D/g,""),!e.fn.bootstrapValidator.helpers.luhn(r))return!1;var i,s,o={AMERICAN_EXPRESS:{length:[15],prefix:["34","37"]},DINERS_CLUB:{length:[14],prefix:["300","301","302","303","304","305","36"]},DINERS_CLUB_US:{length:[16],prefix:["54","55"]},DISCOVER:{length:[16],prefix:["6011","622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925","644","645","646","647","648","649","65"]},JCB:{length:[16],prefix:["3528","3529","353","354","355","356","357","358"]},LASER:{length:[16,17,18,19],prefix:["6304","6706","6771","6709"]},MAESTRO:{length:[12,13,14,15,16,17,18,19],prefix:["5018","5020","5038","6304","6759","6761","6762","6763","6764","6765","6766"]},MASTERCARD:{length:[16],prefix:["51","52","53","54","55"]},SOLO:{length:[16,18,19],prefix:["6334","6767"]},UNIONPAY:{length:[16,17,18,19],prefix:["622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925"]},VISA:{length:[16],prefix:["4"]}};for(i in o)for(s in o[i].prefix)if(r.substr(0,o[i].prefix[s].length)==o[i].prefix[s]&&-1!=o[i].length.indexOf(r.length))return!0;return!1}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.cusip={validate:function(t,n){var r=n.val();if(""==r)return!0;if(r=r.toUpperCase(),!/^[0-9A-Z]{9}$/.test(r))return!1;for(var i=e.map(r.split(""),function(e){var t=e.charCodeAt(0);return t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)?t-"A".charCodeAt(0)+10:e}),s=i.length,o=0,u=0;s-1>u;u++){var f=parseInt(i[u]);u%2!=0&&(f*=2),f>9&&(f-=9),o+=f}return o=(10-o%10)%10,o==i[s-1]}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.cvv={html5Attributes:{message:"message",ccfield:"creditCardField"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;if(!/^[0-9]{3,4}$/.test(r))return!1;if(!n.creditCardField)return!0;var i=e.getFieldElements(n.creditCardField).val();if(""==i)return!0;i=i.replace(/\D/g,"");var s,o,u={AMERICAN_EXPRESS:{length:[15],prefix:["34","37"]},DINERS_CLUB:{length:[14],prefix:["300","301","302","303","304","305","36"]},DINERS_CLUB_US:{length:[16],prefix:["54","55"]},DISCOVER:{length:[16],prefix:["6011","622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925","644","645","646","647","648","649","65"]},JCB:{length:[16],prefix:["3528","3529","353","354","355","356","357","358"]},LASER:{length:[16,17,18,19],prefix:["6304","6706","6771","6709"]},MAESTRO:{length:[12,13,14,15,16,17,18,19],prefix:["5018","5020","5038","6304","6759","6761","6762","6763","6764","6765","6766"]},MASTERCARD:{length:[16],prefix:["51","52","53","54","55"]},SOLO:{length:[16,18,19],prefix:["6334","6767"]},UNIONPAY:{length:[16,17,18,19],prefix:["622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925"]},VISA:{length:[16],prefix:["4"]}},a=null;for(s in u)for(o in u[s].prefix)if(i.substr(0,u[s].prefix[o].length)==u[s].prefix[o]&&-1!=u[s].length.indexOf(i.length)){a=s;break}return null==a?!1:"AMERICAN_EXPRESS"==a?4==r.length:3==r.length}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.date={html5Attributes:{message:"message",format:"format"},validate:function(t,n,r){var i=n.val();if(""==i)return!0;r.format=r.format||"MM/DD/YYYY";var s=r.format.split(" "),o=s[0],u=s.length>1?s[1]:null,f=s.length>2?s[2]:null,l=i.split(" "),c=l[0],h=l.length>1?l[1]:null;if(s.length!=l.length)return!1;var p=-1!=c.indexOf("/")?"/":-1!=c.indexOf("-")?"-":null;if(null==p)return!1;c=c.split(p),o=o.split(p);var d=c[o.indexOf("YYYY")],v=c[o.indexOf("MM")],m=c[o.indexOf("DD")],g=null,y=null,b=null;if(u){if(u=u.split(":"),h=h.split(":"),u.length!=h.length)return!1;if(y=h.length>0?h[0]:null,g=h.length>1?h[1]:null,b=h.length>2?h[2]:null,b&&(b=parseInt(b,10),0>b||b>60))return!1;if(y&&(y=parseInt(y,10),0>y||y>=24||f&&y>12))return!1;if(g&&(g=parseInt(g,10),0>g||g>59))return!1}return m=parseInt(m,10),v=parseInt(v,10),d=parseInt(d,10),e.fn.bootstrapValidator.helpers.date(d,v,m)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.different={html5Attributes:{message:"message",field:"field"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=e.getFieldElements(n.field);return null==i?!0:r!=i.val()?(e.updateStatus(n.field,e.STATUS_VALID,"different"),!0):!1}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.digits={validate:function(e,t){var n=t.val();return""==n?!0:/^\d+$/.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.ean={validate:function(e,t){var n=t.val();if(""==n)return!0;if(!/^(\d{8}|\d{12}|\d{13})$/.test(n))return!1;for(var r=n.length,i=0,s=8==r?[3,1]:[1,3],o=0;r-1>o;o++)i+=parseInt(n.charAt(o))*s[o%2];return i=10-i%10,i==n.charAt(r-1)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.emailAddress={enableByHtml5:function(e){return"email"==e.attr("type")},validate:function(e,t){var n=t.val();if(""==n)return!0;var r=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.file={html5Attributes:{extension:"extension",maxsize:"maxSize",message:"message",type:"type"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i,s=n.extension?n.extension.split(","):null,o=n.type?n.type.split(","):null,u=window.File&&window.FileList&&window.FileReader;if(u)for(var a=t.get(0).files,f=a.length,l=0;f>l;l++){if(n.maxSize&&a[l].size>parseInt(n.maxSize))return!1;if(i=a[l].name.substr(a[l].name.lastIndexOf(".")+1),s&&-1==s.indexOf(i))return!1;if(o&&-1==o.indexOf(a[l].type))return!1}else if(i=r.substr(r.lastIndexOf(".")+1),s&&-1==s.indexOf(i))return!1;return!0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.greaterThan={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(e){var t=e.attr("min");return t?{value:t}:!1},validate:function(e,t,n){var r=t.val();return""==r?!0:(r=parseFloat(r),n.inclusive===!0?r>n.value:r>=n.value)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.grid={validate:function(t,n){var r=n.val();return""==r?!0:(r=r.toUpperCase(),/^[GRID:]*([0-9A-Z]{2})[-\s]*([0-9A-Z]{5})[-\s]*([0-9A-Z]{10})[-\s]*([0-9A-Z]{1})$/g.test(r)?(r=r.replace(/\s/g,"").replace(/-/g,""),"GRID:"==r.substr(0,5)&&(r=r.substr(5)),e.fn.bootstrapValidator.helpers.mod_37_36(r)):!1)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.hex={validate:function(e,t){var n=t.val();return""==n?!0:/^[0-9a-fA-F]+$/.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.hexColor={enableByHtml5:function(e){return"color"==e.attr("type")},validate:function(e,t){var n=t.val();return""==n?!0:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.iban={html5Attributes:{message:"message",country:"country"},validate:function(t,n,r){var i=n.val();if(""==i)return!0;var s={AD:"AD[0-9]{2}[0-9]{4}[0-9]{4}[A-Z0-9]{12}",AE:"AE[0-9]{2}[0-9]{3}[0-9]{16}",AL:"AL[0-9]{2}[0-9]{8}[A-Z0-9]{16}",AO:"AO[0-9]{2}[0-9]{21}",AT:"AT[0-9]{2}[0-9]{5}[0-9]{11}",AZ:"AZ[0-9]{2}[A-Z]{4}[A-Z0-9]{20}",BA:"BA[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{8}[0-9]{2}",BE:"BE[0-9]{2}[0-9]{3}[0-9]{7}[0-9]{2}",BF:"BF[0-9]{2}[0-9]{23}",BG:"BG[0-9]{2}[A-Z]{4}[0-9]{4}[0-9]{2}[A-Z0-9]{8}",BH:"BH[0-9]{2}[A-Z]{4}[A-Z0-9]{14}",BI:"BI[0-9]{2}[0-9]{12}",BJ:"BJ[0-9]{2}[A-Z]{1}[0-9]{23}",BR:"BR[0-9]{2}[0-9]{8}[0-9]{5}[0-9]{10}[A-Z][A-Z0-9]",CH:"CH[0-9]{2}[0-9]{5}[A-Z0-9]{12}",CI:"CI[0-9]{2}[A-Z]{1}[0-9]{23}",CM:"CM[0-9]{2}[0-9]{23}",CR:"CR[0-9]{2}[0-9]{3}[0-9]{14}",CV:"CV[0-9]{2}[0-9]{21}",CY:"CY[0-9]{2}[0-9]{3}[0-9]{5}[A-Z0-9]{16}",CZ:"CZ[0-9]{2}[0-9]{20}",DE:"DE[0-9]{2}[0-9]{8}[0-9]{10}",DK:"DK[0-9]{2}[0-9]{14}",DO:"DO[0-9]{2}[A-Z0-9]{4}[0-9]{20}",DZ:"DZ[0-9]{2}[0-9]{20}",EE:"EE[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{11}[0-9]{1}",ES:"ES[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{1}[0-9]{1}[0-9]{10}",FI:"FI[0-9]{2}[0-9]{6}[0-9]{7}[0-9]{1}",FO:"FO[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",FR:"FR[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",GB:"GB[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",GE:"GE[0-9]{2}[A-Z]{2}[0-9]{16}",GI:"GI[0-9]{2}[A-Z]{4}[A-Z0-9]{15}",GL:"GL[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",GR:"GR[0-9]{2}[0-9]{3}[0-9]{4}[A-Z0-9]{16}",GT:"GT[0-9]{2}[A-Z0-9]{4}[A-Z0-9]{20}",HR:"HR[0-9]{2}[0-9]{7}[0-9]{10}",HU:"HU[0-9]{2}[0-9]{3}[0-9]{4}[0-9]{1}[0-9]{15}[0-9]{1}",IE:"IE[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",IL:"IL[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{13}",IR:"IR[0-9]{2}[0-9]{22}",IS:"IS[0-9]{2}[0-9]{4}[0-9]{2}[0-9]{6}[0-9]{10}",IT:"IT[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",JO:"JO[0-9]{2}[A-Z]{4}[0-9]{4}[0]{8}[A-Z0-9]{10}",KW:"KW[0-9]{2}[A-Z]{4}[0-9]{22}",KZ:"KZ[0-9]{2}[0-9]{3}[A-Z0-9]{13}",LB:"LB[0-9]{2}[0-9]{4}[A-Z0-9]{20}",LI:"LI[0-9]{2}[0-9]{5}[A-Z0-9]{12}",LT:"LT[0-9]{2}[0-9]{5}[0-9]{11}",LU:"LU[0-9]{2}[0-9]{3}[A-Z0-9]{13}",LV:"LV[0-9]{2}[A-Z]{4}[A-Z0-9]{13}",MC:"MC[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",MD:"MD[0-9]{2}[A-Z0-9]{20}",ME:"ME[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",MG:"MG[0-9]{2}[0-9]{23}",MK:"MK[0-9]{2}[0-9]{3}[A-Z0-9]{10}[0-9]{2}",ML:"ML[0-9]{2}[A-Z]{1}[0-9]{23}",MR:"MR13[0-9]{5}[0-9]{5}[0-9]{11}[0-9]{2}",MT:"MT[0-9]{2}[A-Z]{4}[0-9]{5}[A-Z0-9]{18}",MU:"MU[0-9]{2}[A-Z]{4}[0-9]{2}[0-9]{2}[0-9]{12}[0-9]{3}[A-Z]{3}",MZ:"MZ[0-9]{2}[0-9]{21}",NL:"NL[0-9]{2}[A-Z]{4}[0-9]{10}",NO:"NO[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{1}",PK:"PK[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",PL:"PL[0-9]{2}[0-9]{8}[0-9]{16}",PS:"PS[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",PT:"PT[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{11}[0-9]{2}",QA:"QA[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",RO:"RO[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",RS:"RS[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",SA:"SA[0-9]{2}[0-9]{2}[A-Z0-9]{18}",SE:"SE[0-9]{2}[0-9]{3}[0-9]{16}[0-9]{1}",SI:"SI[0-9]{2}[0-9]{5}[0-9]{8}[0-9]{2}",SK:"SK[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{10}",SM:"SM[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",SN:"SN[0-9]{2}[A-Z]{1}[0-9]{23}",TN:"TN59[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",TR:"TR[0-9]{2}[0-9]{5}[A-Z0-9]{1}[A-Z0-9]{16}",VG:"VG[0-9]{2}[A-Z]{4}[0-9]{16}"};i=i.replace(/[^a-zA-Z0-9]/g,"").toUpperCase();var o=r.country||i.substr(0,2);if(!s[o])return!1;if(!(new RegExp("^"+s[o]+"$")).test(i))return!1;i=i.substr(4)+i.substr(0,4),i=e.map(i.split(""),function(e){var t=e.charCodeAt(0);return t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)?t-"A".charCodeAt(0)+10:e}),i=i.join("");for(var u=parseInt(i.substr(0,1),10),f=i.length,l=1;f>l;++l)u=(10*u+parseInt(i.substr(l,1),10))%97;return 1==u}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.id={html5Attributes:{message:"message",country:"country"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=n.country||r.substr(0,2),s=["_",i.toLowerCase()].join("");return this[s]&&"function"==typeof this[s]?this[s](r):!0},_validateJMBG:function(e,t){if(!/^\d{13}$/.test(e))return!1;var n=parseInt(e.substr(0,2),10),r=parseInt(e.substr(2,2),10),i=(parseInt(e.substr(4,3),10),parseInt(e.substr(7,2),10)),s=parseInt(e.substr(12,1),10);if(n>31||r>12)return!1;for(var o=0,u=0;6>u;u++)o+=(7-u)*(parseInt(e.charAt(u))+parseInt(e.charAt(u+6)));if(o=11-o%11,(10==o||11==o)&&(o=0),o!=s)return!1;switch(t.toUpperCase()){case"BA":return i>=10&&19>=i;case"MK":return i>=41&&49>=i;case"ME":return i>=20&&29>=i;case"RS":return i>=70&&99>=i;case"SI":return i>=50&&59>=i;default:return!0}},_ba:function(e){return this._validateJMBG(e,"BA")},_mk:function(e){return this._validateJMBG(e,"MK")},_me:function(e){return this._validateJMBG(e,"ME")},_rs:function(e){return this._validateJMBG(e,"RS")},_si:function(e){return this._validateJMBG(e,"SI")},_bg:function(t){if(!/^\d{10}$/.test(t)&&!/^\d{6}\s\d{3}\s\d{1}$/.test(t))return!1;t=t.replace(/\s/g,"");var n=parseInt(t.substr(0,2),10)+1900,r=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10);if(r>40?(n+=100,r-=40):r>20&&(n-=100,r-=20),!e.fn.bootstrapValidator.helpers.date(n,r,i))return!1;for(var s=0,o=[2,4,8,5,10,9,7,3,6],u=0;9>u;u++)s+=parseInt(t.charAt(u))*o[u];return s=s%11%10,s==t.substr(9,1)},_br:function(e){if(/^1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11}|0{11}$/.test(e))return!1;if(!/^\d{11}$/.test(e)&&!/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(e))return!1;e=e.replace(/\./g,"").replace(/-/g,"");for(var t=0,n=0;9>n;n++)t+=(10-n)*parseInt(e.charAt(n));if(t=11-t%11,(10==t||11==t)&&(t=0),t!=e.charAt(9))return!1;var r=0;for(n=0;10>n;n++)r+=(11-n)*parseInt(e.charAt(n));return r=11-r%11,(10==r||11==r)&&(r=0),r==e.charAt(10)},_ch:function(e){if(!/^756[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{2}$/.test(e))return!1;e=e.replace(/\D/g,"").substr(3);for(var t=e.length,n=0,r=8==t?[3,1]:[1,3],i=0;t-1>i;i++)n+=parseInt(e.charAt(i))*r[i%2];return n=10-n%10,n==e.charAt(t-1)},_cl:function(e){if(!/^\d{7,8}[-]{0,1}[0-9K]$/.test(e))return!1;for(e=e.replace(/\D/g,"");e.length<9;)e="0"+e;for(var t=0,n=[3,2,7,6,5,4,3,2],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t=11-t%11,11==t?t=0:10==t&&(t="K"),t==e.charAt(8)},_cz:function(t){if(!/^\d{9,10}$/.test(t))return!1;var n=1900+parseInt(t.substr(0,2)),r=parseInt(t.substr(2,2))%50%20,i=parseInt(t.substr(4,2));if(9==t.length){if(n>=1980&&(n-=100),n>1953)return!1}else 1954>n&&(n+=100);if(!e.fn.bootstrapValidator.helpers.date(n,r,i))return!1;if(10==t.length){var s=parseInt(t.substr(0,9),10)%11;return 1985>n&&(s%=10),s==t.substr(9,1)}return!0},_dk:function(t){if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(t))return!1;t=t.replace(/-/g,"");var n=parseInt(t.substr(0,2),10),r=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10);switch(!0){case-1!="5678".indexOf(t.charAt(6))&&i>=58:i+=1800;break;case-1!="0123".indexOf(t.charAt(6)):case-1!="49".indexOf(t.charAt(6))&&i>=37:i+=1900;break;default:i+=2e3}return e.fn.bootstrapValidator.helpers.date(i,r,n)},_ee:function(e){return this._lt(e)},_es:function(e){if(!/^[0-9A-Z]{8}[-]{0,1}[0-9A-Z]$/.test(e)&&!/^[XYZ][-]{0,1}[0-9]{7}[-]{0,1}[0-9A-Z]$/.test(e))return!1;e=e.replace(/-/g,"");var t="XYZ".indexOf(e.charAt(0));-1!=t&&(e=t+e.substr(1)+"");var n=parseInt(e.substr(0,8),10);return n="TRWAGMYFPDXBNJZSQVHLCKE"[n%23],n==e.substr(8,1)},_fi:function(t){if(!/^[0-9]{6}[-+A][0-9]{3}[0-9ABCDEFHJKLMNPRSTUVWXY]$/.test(t))return!1;var n=parseInt(t.substr(0,2),10),r=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10),s={"+":1800,"-":1900,A:2e3};if(i=s[t.charAt(6)]+i,!e.fn.bootstrapValidator.helpers.date(i,r,n))return!1;var o=parseInt(t.substr(7,3));if(2>o)return!1;var u=t.substr(0,6)+t.substr(7,3)+"";return u=parseInt(u),"0123456789ABCDEFHJKLMNPRSTUVWXY".charAt(u%31)==t.charAt(10)},_hr:function(t){return/^[0-9]{11}$/.test(t)?e.fn.bootstrapValidator.helpers.mod_11_10(t):!1},_ie:function(e){if(!/^\d{7}[A-W][AHWTX]?$/.test(e))return!1;var t=function(e){for(;e.length<7;)e="0"+e;for(var t="WABCDEFGHIJKLMNOPQRSTUV",n=0,r=0;7>r;r++)n+=parseInt(e.charAt(r))*(8-r);return n+=9*t.indexOf(e.substr(7)),t[n%23]};return 9!=e.length||"A"!=e.charAt(8)&&"H"!=e.charAt(8)?e.charAt(7)==t(e.substr(0,7)):e.charAt(7)==t(e.substr(0,7)+e.substr(8)+"")},_is:function(t){if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(t))return!1;t=t.replace(/-/g,"");var n=parseInt(t.substr(0,2),10),r=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10),s=parseInt(t.charAt(9));if(i=9==s?1900+i:100*(20+s)+i,!e.fn.bootstrapValidator.helpers.date(i,r,n,!0))return!1;for(var o=0,u=[3,2,7,6,5,4,3,2],f=0;8>f;f++)o+=parseInt(t.charAt(f))*u[f];return o=11-o%11,o==t.charAt(8)},_lt:function(t){if(!/^[0-9]{11}$/.test(t))return!1;var n=parseInt(t.charAt(0)),r=parseInt(t.substr(1,2),10),i=parseInt(t.substr(3,2),10),s=parseInt(t.substr(5,2),10),o=n%2==0?17+n/2:17+(n+1)/2;if(r=100*o+r,!e.fn.bootstrapValidator.helpers.date(r,i,s,!0))return!1;for(var u=0,f=[1,2,3,4,5,6,7,8,9,1],l=0;10>l;l++)u+=parseInt(t.charAt(l))*f[l];if(u%=11,10!=u)return u==t.charAt(10);for(u=0,f=[3,4,5,6,7,8,9,1,2,3],l=0;10>l;l++)u+=parseInt(t.charAt(l))*f[l];return u%=11,10==u&&(u=0),u==t.charAt(10)},_lv:function(t){if(!/^[0-9]{6}[-]{0,1}[0-9]{5}$/.test(t))return!1;t=t.replace(/\D/g,"");var n=parseInt(t.substr(0,2)),r=parseInt(t.substr(2,2)),i=parseInt(t.substr(4,2));if(i=i+1800+100*parseInt(t.charAt(6)),!e.fn.bootstrapValidator.helpers.date(i,r,n,!0))return!1;for(var s=0,o=[10,5,8,4,2,1,6,3,7,9],u=0;10>u;u++)s+=parseInt(t.charAt(u))*o[u];return s=(s+1)%11%10,s==t.charAt(10)},_nl:function(e){for(;e.length<9;)e="0"+e;if(!/^[0-9]{4}[.]{0,1}[0-9]{2}[.]{0,1}[0-9]{3}$/.test(e))return!1;if(e=e.replace(/\./g,""),0==parseInt(e,10))return!1;for(var t=0,n=e.length,r=0;n-1>r;r++)t+=(9-r)*parseInt(e.charAt(r));return t%=11,10==t&&(t=0),t==e.charAt(n-1)},_ro:function(t){if(!/^[0-9]{13}$/.test(t))return!1;var n=parseInt(t.charAt(0));if(0==n||7==n||8==n)return!1;var r=parseInt(t.substr(1,2),10),i=parseInt(t.substr(3,2),10),s=parseInt(t.substr(5,2),10),o={1:1900,2:1900,3:1800,4:1800,5:2e3,6:2e3};if(s>31&&i>12)return!1;if(9!=n&&(r=o[n+""]+r,!e.fn.bootstrapValidator.helpers.date(r,i,s)))return!1;for(var u=0,f=[2,7,9,1,4,6,3,5,8,2,7,9],l=t.length,c=0;l-1>c;c++)u+=parseInt(t.charAt(c))*f[c];return u%=11,10==u&&(u=1),u==t.charAt(l-1)},_se:function(t){if(!/^[0-9]{10}$/.test(t)&&!/^[0-9]{6}[-|+][0-9]{4}$/.test(t))return!1;t=t.replace(/[^0-9]/g,"");var n=parseInt(t.substr(0,2))+1900,r=parseInt(t.substr(2,2)),i=parseInt(t.substr(4,2));return e.fn.bootstrapValidator.helpers.date(n,r,i)?e.fn.bootstrapValidator.helpers.luhn(t):!1},_sk:function(e){return this._cz(e)},_sm:function(e){return/^\d{5}$/.test(e)},_za:function(t){if(!/^[0-9]{10}[0|1][8|9][0-9]$/.test(t))return!1;var n=parseInt(t.substr(0,2)),r=(new Date).getFullYear()%100,i=parseInt(t.substr(2,2)),s=parseInt(t.substr(4,2));return n=n>=r?n+1900:n+2e3,e.fn.bootstrapValidator.helpers.date(n,i,s)?e.fn.bootstrapValidator.helpers.luhn(t):!1}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.identical={html5Attributes:{message:"message",field:"field"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=e.getFieldElements(n.field);return null==i?!0:r==i.val()?(e.updateStatus(n.field,e.STATUS_VALID,"identical"),!0):!1}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.imei={validate:function(t,n){var r=n.val();if(""==r)return!0;switch(!0){case/^\d{15}$/.test(r):case/^\d{2}-\d{6}-\d{6}-\d{1}$/.test(r):case/^\d{2}\s\d{6}\s\d{6}\s\d{1}$/.test(r):return r=r.replace(/[^0-9]/g,""),e.fn.bootstrapValidator.helpers.luhn(r);case/^\d{14}$/.test(r):case/^\d{16}$/.test(r):case/^\d{2}-\d{6}-\d{6}(|-\d{2})$/.test(r):case/^\d{2}\s\d{6}\s\d{6}(|\s\d{2})$/.test(r):return!0;default:return!1}}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.integer={enableByHtml5:function(e){return"number"==e.attr("type")},validate:function(e,t){var n=t.val();return""==n?!0:/^(?:-?(?:0|[1-9][0-9]*))$/.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.ip={html5Attributes:{message:"message",ipv4:"ipv4",ipv6:"ipv6"},validate:function(t,n,r){var i=n.val();return""==i?!0:(r=e.extend({},{ipv4:!0,ipv6:!0},r),r.ipv4?/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(i):r.ipv6?/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(str):!1)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.isbn={validate:function(e,t){var n=t.val();if(""==n)return!0;var r;switch(!0){case/^\d{9}[\dX]$/.test(n):case 13==n.length&&/^(\d+)-(\d+)-(\d+)-([\dX])$/.test(n):case 13==n.length&&/^(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(n):r="ISBN10";break;case/^(978|979)\d{9}[\dX]$/.test(n):case 17==n.length&&/^(978|979)-(\d+)-(\d+)-(\d+)-([\dX])$/.test(n):case 17==n.length&&/^(978|979)\s(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(n):r="ISBN13";break;default:return!1}n=n.replace(/[^0-9X]/gi,"");var i,s=n.split(""),o=s.length,u=0;switch(r){case"ISBN10":u=0;for(var a=0;o-1>a;a++)u+=(10-a)*parseInt(s[a]);return i=11-u%11,11==i?i=0:10==i&&(i="X"),i+""==s[o-1];case"ISBN13":u=0;for(var a=0;o-1>a;a++)u+=a%2==0?parseInt(s[a]):3*parseInt(s[a]);return i=10-u%10,10==i&&(i="0"),i+""==s[o-1];default:return!1}}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.isin={COUNTRY_CODES:"AF|AX|AL|DZ|AS|AD|AO|AI|AQ|AG|AR|AM|AW|AU|AT|AZ|BS|BH|BD|BB|BY|BE|BZ|BJ|BM|BT|BO|BQ|BA|BW|BV|BR|IO|BN|BG|BF|BI|KH|CM|CA|CV|KY|CF|TD|CL|CN|CX|CC|CO|KM|CG|CD|CK|CR|CI|HR|CU|CW|CY|CZ|DK|DJ|DM|DO|EC|EG|SV|GQ|ER|EE|ET|FK|FO|FJ|FI|FR|GF|PF|TF|GA|GM|GE|DE|GH|GI|GR|GL|GD|GP|GU|GT|GG|GN|GW|GY|HT|HM|VA|HN|HK|HU|IS|IN|ID|IR|IQ|IE|IM|IL|IT|JM|JP|JE|JO|KZ|KE|KI|KP|KR|KW|KG|LA|LV|LB|LS|LR|LY|LI|LT|LU|MO|MK|MG|MW|MY|MV|ML|MT|MH|MQ|MR|MU|YT|MX|FM|MD|MC|MN|ME|MS|MA|MZ|MM|NA|NR|NP|NL|NC|NZ|NI|NE|NG|NU|NF|MP|NO|OM|PK|PW|PS|PA|PG|PY|PE|PH|PN|PL|PT|PR|QA|RE|RO|RU|RW|BL|SH|KN|LC|MF|PM|VC|WS|SM|ST|SA|SN|RS|SC|SL|SG|SX|SK|SI|SB|SO|ZA|GS|SS|ES|LK|SD|SR|SJ|SZ|SE|CH|SY|TW|TJ|TZ|TH|TL|TG|TK|TO|TT|TN|TR|TM|TC|TV|UG|UA|AE|GB|US|UM|UY|UZ|VU|VE|VN|VG|VI|WF|EH|YE|ZM|ZW",validate:function(e,t){var n=t.val();if(""==n)return!0;n=n.toUpperCase();var r=new RegExp("^("+this.COUNTRY_CODES+")[0-9A-Z]{10}$");if(!r.test(n))return!1;for(var i="",s=n.length,o=0;s-1>o;o++){var u=n.charCodeAt(o);i+=u>57?(u-55).toString():n.charAt(o)}var a="",f=i.length,l=f%2!=0?0:1;for(o=0;f>o;o++)a+=parseInt(i[o])*(o%2==l?2:1)+"";var c=0;for(o=0;o<a.length;o++)c+=parseInt(a.charAt(o));return c=(10-c%10)%10,c==n.charAt(s-1)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.ismn={validate:function(e,t){var n=t.val();if(""==n)return!0;var r;switch(!0){case/^M\d{9}$/.test(n):case/^M-\d{4}-\d{4}-\d{1}$/.test(n):case/^M\s\d{4}\s\d{4}\s\d{1}$/.test(n):r="ISMN10";break;case/^9790\d{9}$/.test(n):case/^979-0-\d{4}-\d{4}-\d{1}$/.test(n):case/^979\s0\s\d{4}\s\d{4}\s\d{1}$/.test(n):r="ISMN13";break;default:return!1}"ISMN10"==r&&(n="9790"+n.substr(1)),n=n.replace(/[^0-9]/gi,"");for(var i=n.length,s=0,o=[1,3],u=0;i-1>u;u++)s+=parseInt(n.charAt(u))*o[u%2];return s=10-s%10,s==n.charAt(i-1)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.issn={validate:function(e,t){var n=t.val();if(""==n)return!0;if(!/^\d{4}\-\d{3}[\dX]$/.test(n))return!1;n=n.replace(/[^0-9X]/gi,"");var r=n.split(""),i=r.length,s=0;"X"==r[7]&&(r[7]=10);for(var o=0;i>o;o++)s+=(8-o)*parseInt(r[o]);return s%11==0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.lessThan={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(e){var t=e.attr("max");return t?{value:t}:!1},validate:function(e,t,n){var r=t.val();return""==r?!0:(r=parseFloat(r),n.inclusive===!1?r<=n.value:r<n.value)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.mac={validate:function(e,t){var n=t.val();return""==n?!0:/^([0-9A-F]{2}[:-]){5}([0-9A-F]{2})$/.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.notEmpty={enableByHtml5:function(e){var t=e.attr("required")+"";return"required"==t||"true"==t},validate:function(t,n){var r=n.attr("type");return"radio"==r||"checkbox"==r?t.getFieldElements(n.attr("data-bv-field")).filter(":checked").length>0:""!=e.trim(n.val())}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.numeric={html5Attributes:{message:"message",separator:"separator"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=n.separator||".";return"."!=i&&(r=r.replace(i,".")),!isNaN(parseFloat(r))&&isFinite(r)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.phone={html5Attributes:{message:"message",country:"country"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=(n.country||"US").toUpperCase();switch(i){case"US":default:return r=r.replace(/\D/g,""),/^(?:(1\-?)|(\+1 ?))?\(?(\d{3})[\)\-\.]?(\d{3})[\-\.]?(\d{4})$/.test(r)&&10==r.length}}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.regexp={html5Attributes:{message:"message",regexp:"regexp"},enableByHtml5:function(e){var t=e.attr("pattern");return t?{regexp:t}:!1},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i="string"==typeof n.regexp?new RegExp(n.regexp):n.regexp;return i.test(r)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.remote={html5Attributes:{message:"message",url:"url",name:"name"},validate:function(t,n,r){var i=n.val();if(""==i)return!0;var s=n.attr("data-bv-field"),o=r.data;null==o&&(o={}),"function"==typeof o&&(o=o.call(this,t)),o[r.name||s]=i;var u=new e.Deferred,f=e.ajax({type:"POST",url:r.url,dataType:"json",data:o});return f.then(function(e){u.resolve(n,"remote",e.valid===!0||"true"===e.valid)}),u.fail(function(){f.abort()}),u}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.rtn={validate:function(e,t){var n=t.val();if(""==n)return!0;if(!/^\d{9}$/.test(n))return!1;for(var r=0,i=0;i<n.length;i+=3)r+=3*parseInt(n.charAt(i),10)+7*parseInt(n.charAt(i+1),10)+parseInt(n.charAt(i+2),10);return 0!=r&&r%10==0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.sedol={validate:function(e,t){var n=t.val();if(""==n)return!0;if(n=n.toUpperCase(),!/^[0-9A-Z]{7}$/.test(n))return!1;for(var r=0,i=[1,3,1,7,3,9,1],s=n.length,o=0;s-1>o;o++)r+=i[o]*parseInt(n.charAt(o),36);return r=(10-r%10)%10,r==n.charAt(s-1)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.siren={validate:function(t,n){var r=n.val();return""==r?!0:/^\d{9}$/.test(r)?e.fn.bootstrapValidator.helpers.luhn(r):!1}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.siret={validate:function(e,t){var n=t.val();if(""==n)return!0;for(var r,i=0,s=n.length,o=0;s>o;o++)r=parseInt(n.charAt(o),10),o%2==0&&(r=2*r,r>9&&(r-=9)),i+=r;return i%10==0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.step={html5Attributes:{message:"message",base:"baseValue",step:"step"},validate:function(t,n,r){var i=n.val();if(""==i)return!0;if(r=e.extend({},{baseValue:0,step:1},r),i=parseFloat(i),isNaN(i)||!isFinite(i))return!1;var s=function(e,t){var n=Math.pow(10,t);e*=n;var r=e>0|-(0>e),i=e%1===.5*r;return i?(Math.floor(e)+(r>0))/n:Math.round(e)/n},o=function(e,t){if(0==t)return 1;var n=(e+"").split("."),r=(t+"").split("."),i=(1==n.length?0:n[1].length)+(1==r.length?0:r[1].length);return s(e-t*Math.floor(e/t),i)},u=o(i-r.baseValue,r.step);return 0==u||u==r.step}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.stringCase={html5Attributes:{message:"message","case":"case"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=(n["case"]||"lower").toLowerCase();switch(i){case"upper":return r===r.toUpperCase();case"lower":default:return r===r.toLowerCase()}}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.stringLength={html5Attributes:{message:"message",min:"min",max:"max"},enableByHtml5:function(e){var t=e.attr("maxlength");return t?{max:parseInt(t,10)}:!1},validate:function(t,n,r){var i=n.val();if(""==i)return!0;var s=e.trim(i).length;return r.min&&s<r.min||r.max&&s>r.max?!1:!0}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.uri={enableByHtml5:function(e){return"url"==e.attr("type")},validate:function(e,t){var n=t.val();if(""==n)return!0;var r=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/[^\\s]*)?$","i");return r.test(n)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.uuid={html5Attributes:{message:"message",version:"version"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},s=n.version?n.version+"":"all";return null==i[s]?!0:i[s].test(r)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.vat={html5Attributes:{message:"message",country:"country"},validate:function(e,t,n){var r=t.val();if(""==r)return!0;var i=n.country||r.substr(0,2),s=["_",i.toLowerCase()].join("");return this[s]&&"function"==typeof this[s]?this[s](r):!0},_at:function(e){if(!/^ATU[0-9]{8}$/.test(e))return!1;e=e.substr(3);for(var t=0,n=[1,2,1,2,1,2,1],r=0,i=0;7>i;i++)r=parseInt(e.charAt(i))*n[i],r>9&&(r=Math.floor(r/10)+r%10),t+=r;return t=10-(t+4)%10,10==t&&(t=0),t==e.substr(7,1)},_be:function(e){if(!/^BE[0]{0,1}[0-9]{9}$/.test(e))return!1;if(e=e.substr(2),9==e.length&&(e="0"+e),0==e.substr(1,1))return!1;var t=parseInt(e.substr(0,8),10)+parseInt(e.substr(8,2),10);return t%97==0},_bg:function(t){if(!/^BG[0-9]{9,10}$/.test(t))return!1;t=t.substr(2);var n=0,r=0;if(9==t.length){for(r=0;8>r;r++)n+=parseInt(t.charAt(r))*(r+1);if(n%=11,10==n)for(n=0,r=0;8>r;r++)n+=parseInt(t.charAt(r))*(r+3);return n%=10,n==t.substr(8)}if(10==t.length){var i=function(t){var n=parseInt(t.substr(0,2),10)+1900,r=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10);if(r>40?(n+=100,r-=40):r>20&&(n-=100,r-=20),!e.fn.bootstrapValidator.helpers.date(n,r,i))return!1;for(var s=0,o=[2,4,8,5,10,9,7,3,6],u=0;9>u;u++)s+=parseInt(t.charAt(u))*o[u];return s=s%11%10,s==t.substr(9,1)},s=function(e){for(var t=0,n=[21,19,17,13,11,9,7,3,1],r=0;9>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%=10,t==e.substr(9,1)},o=function(e){for(var t=0,n=[4,3,2,7,6,5,4,3,2],r=0;9>r;r++)t+=parseInt(e.charAt(r))*n[r];return t=11-t%11,10==t?!1:(11==t&&(t=0),t==e.substr(9,1))};return i(t)||s(t)||o(t)}return!1},_ch:function(e){if(!/^CHE[0-9]{9}(MWST)?$/.test(e))return!1;e=e.substr(3);for(var t=0,n=[5,4,3,2,7,6,5,4],r=0;8>r;r++)t+=parseInt(e.charAt(r),10)*n[r];return t=11-t%11,10==t?!1:(11==t&&(t=0),t==e.substr(8,1))},_cy:function(e){if(!/^CY[0-5|9]{1}[0-9]{7}[A-Z]{1}$/.test(e))return!1;if(e=e.substr(2),"12"==e.substr(0,2))return!1;for(var t=0,n={0:1,1:0,2:5,3:7,4:9,5:13,6:15,7:17,8:19,9:21},r=0;8>r;r++){var i=parseInt(e.charAt(r),10);r%2==0&&(i=n[i+""]),t+=i}return t="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[t%26],t==e.substr(8,1)},_cz:function(t){if(!/^CZ[0-9]{8,10}$/.test(t))return!1;t=t.substr(2);var n=0,r=0;if(8==t.length){if(t.charAt(0)+""=="9")return!1;for(n=0,r=0;7>r;r++)n+=parseInt(t.charAt(r),10)*(8-r);return n=11-n%11,10==n&&(n=0),11==n&&(n=1),n==t.substr(7,1)}if(9==t.length&&t.charAt(0)+""=="6"){for(n=0,r=0;7>r;r++)n+=parseInt(t.charAt(r+1),10)*(8-r);return n=11-n%11,10==n&&(n=0),11==n&&(n=1),n=[8,7,6,5,4,3,2,1,0,9,10][n-1],n==t.substr(8,1)}if(9==t.length||10==t.length){var i=1900+parseInt(t.substr(0,2)),s=parseInt(t.substr(2,2))%50%20,o=parseInt(t.substr(4,2));if(9==t.length){if(i>=1980&&(i-=100),i>1953)return!1}else 1954>i&&(i+=100);if(!e.fn.bootstrapValidator.helpers.date(i,s,o))return!1;if(10==t.length){var u=parseInt(t.substr(0,9),10)%11;return 1985>i&&(u%=10),u==t.substr(9,1)}return!0}return!1},_de:function(t){return/^DE[0-9]{9}$/.test(t)?(t=t.substr(2),e.fn.bootstrapValidator.helpers.mod_11_10(t)):!1},_dk:function(e){if(!/^DK[0-9]{8}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[2,7,6,5,4,3,2,1],r=0;8>r;r++)t+=parseInt(e.charAt(r),10)*n[r];return t%11==0},_ee:function(e){if(!/^EE[0-9]{9}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[3,7,1,3,7,1,3,7,1],r=0;9>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%10==0},_es:function(e){if(!/^ES[0-9A-Z][0-9]{7}[0-9A-Z]$/.test(e))return!1;e=e.substr(2);var t=function(e){var t=parseInt(e.substr(0,8),10);return t="TRWAGMYFPDXBNJZSQVHLCKE"[t%23],t==e.substr(8,1)},n=function(e){var t=["XYZ".indexOf(e.charAt(0)),e.substr(1)].join("");return t=parseInt(t,10),t="TRWAGMYFPDXBNJZSQVHLCKE"[t%23],t==e.substr(8,1)},r=function(e){var t,n=e.charAt(0);if(-1!="KLM".indexOf(n))return t=parseInt(e.substr(1,8),10),t="TRWAGMYFPDXBNJZSQVHLCKE"[t%23],t==e.substr(8,1);if(-1!="ABCDEFGHJNPQRSUVW".indexOf(n)){for(var r=0,i=[2,1,2,1,2,1,2],s=0,o=0;7>o;o++)s=parseInt(e.charAt(o+1))*i[o],s>9&&(s=Math.floor(s/10)+s%10),r+=s;return r=10-r%10,r==e.substr(8,1)||"JABCDEFGHI"[r]==e.substr(8,1)}return!1},i=e.charAt(0);return/^[0-9]$/.test(i)?t(e):/^[XYZ]$/.test(i)?n(e):r(e)},_fi:function(e){if(!/^FI[0-9]{8}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[7,9,10,5,8,4,2,1],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%11==0},_fr:function(t){if(!/^FR[0-9A-Z]{2}[0-9]{9}$/.test(t))return!1;if(t=t.substr(2),!e.fn.bootstrapValidator.helpers.luhn(t.substr(2)))return!1;if(/^[0-9]{2}$/.test(t.substr(0,2)))return t.substr(0,2)==parseInt(t.substr(2)+"12",10)%97;var n,r="0123456789ABCDEFGHJKLMNPQRSTUVWXYZ";return n=/^[0-9]{1}$/.test(t.charAt(0))?24*r.indexOf(t.charAt(0))+r.indexOf(t.charAt(1))-10:34*r.indexOf(t.charAt(0))+r.indexOf(t.charAt(1))-100,(parseInt(t.substr(2),10)+1+Math.floor(n/11))%11==n%11},_gb:function(e){if(!(/^GB[0-9]{9}$/.test(e)||/^GB[0-9]{12}$/.test(e)||/^GBGD[0-9]{3}$/.test(e)||/^GBHA[0-9]{3}$/.test(e)||/^GB(GD|HA)8888[0-9]{5}$/.test(e)))return!1;e=e.substr(2);var t=e.length;if(5==t){var n=e.substr(0,2),r=parseInt(e.substr(2));return"GD"==n&&500>r||"HA"==n&&r>=500}if(11==t&&("GD8888"==e.substr(0,6)||"HA8888"==e.substr(0,6)))return"GD"==e.substr(0,2)&&parseInt(e.substr(6,3))>=500||"HA"==e.substr(0,2)&&parseInt(e.substr(6,3))<500?!1:parseInt(e.substr(6,3))%97==parseInt(e.substr(9,2));if(9==t||12==t){for(var i=0,s=[8,7,6,5,4,3,2,10,1],o=0;9>o;o++)i+=parseInt(e.charAt(o))*s[o];return i%=97,parseInt(e.substr(0,3))>=100?0==i||42==i||55==i:0==i}return!0},_gr:function(e){if(!/^GR[0-9]{9}$/.test(e))return!1;e=e.substr(2),8==e.length&&(e="0"+e);for(var t=0,n=[256,128,64,32,16,8,4,2],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t=t%11%10,t==e.substr(8,1)},_el:function(e){return/^EL[0-9]{9}$/.test(e)?(e="GR"+e.substr(2),this._gr(e)):!1},_hu:function(e){if(!/^HU[0-9]{8}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[9,7,3,1,9,7,3,1],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%10==0},_hr:function(t){return/^HR[0-9]{11}$/.test(t)?(t=t.substr(2),e.fn.bootstrapValidator.helpers.mod_11_10(t)):!1},_ie:function(e){if(!/^IE[0-9]{1}[0-9A-Z\*\+]{1}[0-9]{5}[A-Z]{1,2}$/.test(e))return!1;e=e.substr(2);var t=function(e){for(;e.length<7;)e="0"+e;for(var t="WABCDEFGHIJKLMNOPQRSTUV",n=0,r=0;7>r;r++)n+=parseInt(e.charAt(r))*(8-r);return n+=9*t.indexOf(e.substr(7)),t[n%23]};return/^[0-9]+$/.test(e.substr(0,7))?e.charAt(7)==t(e.substr(0,7)+e.substr(8)+""):-1!="ABCDEFGHIJKLMNOPQRSTUVWXYZ+*".indexOf(e.charAt(1))?e.charAt(7)==t(e.substr(2,5)+e.substr(0,1)+""):!0},_it:function(t){if(!/^IT[0-9]{11}$/.test(t))return!1;if(t=t.substr(2),0==parseInt(t.substr(0,7)))return!1;var n=parseInt(t.substr(7,3));return 1>n||n>201&&999!=n&&888!=n?!1:e.fn.bootstrapValidator.helpers.luhn(t)},_lt:function(e){if(!/^LT([0-9]{7}1[0-9]{1}|[0-9]{10}1[0-9]{1})$/.test(e))return!1;e=e.substr(2);for(var t=e.length,n=0,r=0;t-1>r;r++)n+=parseInt(e.charAt(r))*(1+r%9);var i=n%11;if(10==i){n=0;for(var r=0;t-1>r;r++)n+=parseInt(e.charAt(r))*(1+(r+2)%9)}return i=i%11%10,i==e.charAt(t-1)},_lu:function(e){return/^LU[0-9]{8}$/.test(e)?(e=e.substr(2),e.substr(0,6)%89==e.substr(6,2)):!1},_lv:function(t){if(!/^LV[0-9]{11}$/.test(t))return!1;t=t.substr(2);var n=parseInt(t.charAt(0)),r=0,i=[],s=0,o=t.length;if(n>3){for(r=0,i=[9,1,4,8,3,10,2,5,7,6,1],s=0;o>s;s++)r+=parseInt(t.charAt(s))*i[s];return r%=11,3==r}var u=parseInt(t.substr(0,2)),f=parseInt(t.substr(2,2)),l=parseInt(t.substr(4,2));if(l=l+1800+100*parseInt(t.charAt(6)),!e.fn.bootstrapValidator.helpers.date(l,f,u))return!1;for(r=0,i=[10,5,8,4,2,1,6,3,7,9],s=0;o-1>s;s++)r+=parseInt(t.charAt(s))*i[s];return r=(r+1)%11%10,r==t.charAt(o-1)},_mt:function(e){if(!/^MT[0-9]{8}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[3,4,6,7,8,9,10,1],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%37==0},_nl:function(e){if(!/^NL[0-9]{9}B[0-9]{2}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[9,8,7,6,5,4,3,2],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%=11,t>9&&(t=0),t==e.substr(8,1)},_no:function(e){if(!/^NO[0-9]{9}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[3,2,7,6,5,4,3,2],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t=11-t%11,11==t&&(t=0),t==e.substr(8,1)},_pl:function(e){if(!/^PL[0-9]{10}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[6,5,7,2,3,4,5,6,7,-1],r=0;10>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%11==0},_pt:function(e){if(!/^PT[0-9]{9}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[9,8,7,6,5,4,3,2],r=0;8>r;r++)t+=parseInt(e.charAt(r))*n[r];return t=11-t%11,t>9&&(t=0),t==e.substr(8,1)},_ro:function(e){if(!/^RO[1-9][0-9]{1,9}$/.test(e))return!1;e=e.substr(2);for(var t=e.length,n=[7,5,3,2,1,7,5,3,2].slice(10-t),r=0,i=0;t-1>i;i++)r+=parseInt(e.charAt(i))*n[i];return r=10*r%11%10,r==e.substr(t-1,1)},_ru:function(e){if(!/^RU([0-9]{9}|[0-9]{12})$/.test(e))return!1;if(e=e.substr(2),10==e.length){for(var t=0,n=[2,4,10,3,5,9,4,6,8,0],r=0;10>r;r++)t+=parseInt(e.charAt(r))*n[r];return t%=11,t>9&&(t%=10),t==e.substr(9,1)}if(12==e.length){for(var i=0,s=[7,2,4,10,3,5,9,4,6,8,0],o=0,u=[3,7,2,4,10,3,5,9,4,6,8,0],r=0;11>r;r++)i+=parseInt(e.charAt(r))*s[r],o+=parseInt(e.charAt(r))*u[r];return i%=11,i>9&&(i%=10),o%=11,o>9&&(o%=10),i==e.substr(10,1)&&o==e.substr(11,1)}return!1},_rs:function(e){if(!/^RS[0-9]{9}$/.test(e))return!1;e=e.substr(2);for(var t=10,n=0,r=0;8>r;r++)n=(parseInt(e.charAt(r))+t)%10,0==n&&(n=10),t=2*n%11;return(t+parseInt(e.substr(8,1)))%10==1},_se:function(t){return/^SE[0-9]{10}01$/.test(t)?(t=t.substr(2,10),e.fn.bootstrapValidator.helpers.luhn(t)):!1},_si:function(e){if(!/^SI[0-9]{8}$/.test(e))return!1;e=e.substr(2);for(var t=0,n=[8,7,6,5,4,3,2],r=0;7>r;r++)t+=parseInt(e.charAt(r))*n[r];return t=11-t%11,10==t&&(t=0),t==e.substr(7,1)},_sk:function(e){return/^SK[1-9][0-9][(2-4)|(6-9)][0-9]{7}$/.test(e)?(e=e.substr(2),e%11==0):!1}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.vin={validate:function(e,t){var n=t.val();if(""==n)return!0;if(!/^[a-hj-npr-z0-9]{8}[0-9xX][a-hj-npr-z0-9]{8}$/i.test(n))return!1;n=n.toUpperCase();for(var r={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,J:1,K:2,L:3,M:4,N:5,P:7,R:9,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,0:0},i=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],s=0,o=n.length,u=0;o>u;u++)s+=r[n.charAt(u)+""]*i[u];var a=s%11;return 10==a&&(a="X"),a==n.charAt(8)}}}(window.jQuery),function(e){e.fn.bootstrapValidator.validators.zipCode={html5Attributes:{message:"message",country:"country"},validate:function(e,t,n){var r=t.val();if(""==r||!n.country)return!0;var i=(n.country||"US").toUpperCase();switch(i){case"CA":return/(?:A|B|C|E|G|J|K|L|M|N|P|R|S|T|V|X|Y){1}[0-9]{1}(?:A|B|C|E|G|J|K|L|M|N|P|R|S|T|V|X|Y){1}\s?[0-9]{1}(?:A|B|C|E|G|J|K|L|M|N|P|R|S|T|V|X|Y){1}[0-9]{1}/i.test(r);case"DK":return/^(DK(-|\s)?)?\d{4}$/i.test(r);case"GB":return this._gb(r);case"IT":return/^(I-|IT-)?\d{5}$/i.test(r);case"NL":return/^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}$/i.test(r);case"SE":return/^(S-)?\d{3}\s?\d{2}$/i.test(r);case"US":default:return/^\d{4,5}([\-]\d{4})?$/.test(r)}},_gb:function(e){for(var t="[ABCDEFGHIJKLMNOPRSTUWYZ]",n="[ABCDEFGHKLMNOPQRSTUVWXY]",r="[ABCDEFGHJKPMNRSTUVWXY]",i="[ABEHMNPRVWXY]",s="[ABDEFGHJLNPQRSTUWXYZ]",o=[new RegExp("^("+t+"{1}"+n+"?[0-9]{1,2})(\\s*)([0-9]{1}"+s+"{2})$","i"),new RegExp("^("+t+"{1}[0-9]{1}"+r+"{1})(\\s*)([0-9]{1}"+s+"{2})$","i"),new RegExp("^("+t+"{1}"+n+"{1}?[0-9]{1}"+i+"{1})(\\s*)([0-9]{1}"+s+"{2})$","i"),new RegExp("^(BF1)(\\s*)([0-6]{1}[ABDEFGHJLNPQRST]{1}[ABDEFGHJLNPQRSTUWZYZ]{1})$","i"),/^(GIR)(\s*)(0AA)$/i,/^(BFPO)(\s*)([0-9]{1,4})$/i,/^(BFPO)(\s*)(c\/o\s*[0-9]{1,3})$/i,/^([A-Z]{4})(\s*)(1ZZ)$/i,/^(AI-2640)$/i],u=0;u<o.length;u++)if(o[u].test(e))return!0;return!1}}}(window.jQuery);

jQuery(document).ready(function($) {
	// Hoverex
	var a={fn:{moveZoom:function(b,c){var d=b.height(),e=b.width(),f=c.pageY-b.offset().top,g=c.pageX-b.offset().left;var h=b.find("\x69\x6d\x67");var i=b.data("\x7a\x6f\x6f\x6d");if(i&&i!="\x61\x75\x74\x6f"){var j=parseFloat(i);h.css({"\x77\x69\x64\x74\x68":e*j+"\x70\x78","\x68\x65\x69\x67\x68\x74":d*j+"\x70\x78","\x74\x6f\x70":-f*(j-0x1)+"\x70\x78","\x6c\x65\x66\x74":-g*(j-0x1)+"\x70\x78"})}else{var j=h.width()/e;h.css({"\x74\x6f\x70":-f*(j-0x1)+"\x70\x78","\x6c\x65\x66\x74":-g*(j-0x1)+"\x70\x78"})}},changeZoom:function(b,c,d,e,f){var g=b.find("\x69\x6d\x67");var h=b.data("\x7a\x6f\x6f\x6d");h=h=="\x61\x75\x74\x6f"?g.width()/b.width():parseFloat(h);var i=b.data("\x7a\x6f\x6f\x6d\x73\x74\x65\x70");i=i?parseFloat(i):0.5;var j=b.data("\x7a\x6f\x6f\x6d\x72\x61\x6e\x67\x65");j=j?j.split("\x2c"):"\x31\x2c\x34";var k=parseFloat(j[0x0]),l=parseFloat(j[0x1])>h?parseFloat(j[0x1]):h;var m=f>0x0?0x1:-0x1;var n=Math.round((h+i*m)*0xa)/10.0;if(n>=k&&n<=l){b.data("\x7a\x6f\x6f\x6d",n);a.fn.showZoomState(b,n);a.fn.moveZoom(b,c)}},showZoomState:function(b,c){var d=b.find("\x2e\x68\x65\x2d\x7a\x6f\x6f\x6d\x73\x74\x61\x74\x65");if(d.length==0x0){d=$('\x3c\x73\x70\x61\x6e\x20\x63\x6c\x61\x73\x73\x3d\x22\x68\x65\x2d\x7a\x6f\x6f\x6d\x73\x74\x61\x74\x65\x22\x3e'+c+'\x58\x3c\x2f\x73\x70\x61\x6e\x3e').appendTo(b)};d.text(c+"\x58").stop(true,true).fadeIn(0x12c).delay(0xc8).fadeOut(0x12c)},switchImg:function(b,c){var d=b.data("\x61\x6e\x69\x6d\x61\x74\x65");d=d?animation:"\x72\x61\x6e\x64\x6f\x6d";if(d=="\x72\x61\x6e\x64\x6f\x6d"){var f=["\x66\x61\x64\x65\x49\x6e","\x66\x61\x64\x65\x49\x6e\x4c\x65\x66\x74","\x66\x61\x64\x65\x49\x6e\x52\x69\x67\x68\x74","\x66\x61\x64\x65\x49\x6e\x55\x70","\x66\x61\x64\x65\x49\x6e\x44\x6f\x77\x6e","\x72\x6f\x74\x61\x74\x65\x49\x6e","\x72\x6f\x74\x61\x74\x65\x49\x6e\x4c\x65\x66\x74","\x72\x6f\x74\x61\x74\x65\x49\x6e\x52\x69\x67\x68\x74","\x72\x6f\x74\x61\x74\x65\x49\x6e\x55\x70","\x72\x6f\x74\x61\x74\x65\x49\x6e\x44\x6f\x77\x6e","\x62\x6f\x75\x6e\x63\x65","\x62\x6f\x75\x6e\x63\x65\x49\x6e\x4c\x65\x66\x74","\x62\x6f\x75\x6e\x63\x65\x49\x6e\x52\x69\x67\x68\x74","\x62\x6f\x75\x6e\x63\x65\x49\x6e\x55\x70","\x62\x6f\x75\x6e\x63\x65\x49\x6e\x44\x6f\x77\x6e","\x65\x6c\x61\x73\x74\x69\x63\x49\x6e\x4c\x65\x66\x74","\x65\x6c\x61\x73\x74\x69\x63\x49\x6e\x52\x69\x67\x68\x74","\x65\x6c\x61\x73\x74\x69\x63\x49\x6e\x55\x70","\x65\x6c\x61\x73\x74\x69\x63\x49\x6e\x44\x6f\x77\x6e","\x7a\x6f\x6f\x6d\x49\x6e","\x7a\x6f\x6f\x6d\x49\x6e\x4c\x65\x66\x74","\x7a\x6f\x6f\x6d\x49\x6e\x52\x69\x67\x68\x74","\x7a\x6f\x6f\x6d\x49\x6e\x55\x70","\x7a\x6f\x6f\x6d\x49\x6e\x44\x6f\x77\x6e","\x6a\x65\x6c\x6c\x79\x49\x6e\x4c\x65\x66\x74","\x6a\x65\x6c\x6c\x79\x49\x6e\x52\x69\x67\x68\x74","\x6a\x65\x6c\x6c\x79\x49\x6e\x44\x6f\x77\x6e","\x6a\x65\x6c\x6c\x79\x49\x6e\x55\x70","\x66\x6c\x69\x70\x49\x6e\x4c\x65\x66\x74","\x66\x6c\x69\x70\x49\x6e\x52\x69\x67\x68\x74","\x66\x6c\x69\x70\x49\x6e\x55\x70","\x66\x6c\x69\x70\x49\x6e\x44\x6f\x77\x6e","\x66\x6c\x69\x70\x49\x6e\x56","\x66\x6c\x69\x70\x49\x6e\x48"];d=f[Math.floor(Math.random()*f.length)]};var e=b.find("\x69\x6d\x67");if(e.length>0x1){if(c>0x0){e.eq(0x0).attr("\x63\x6c\x61\x73\x73","\x61\x30").appendTo(b);e.eq(0x1).attr("\x63\x6c\x61\x73\x73","\x61\x30\x20"+d)}else{e.eq(e.length-0x1).attr("\x63\x6c\x61\x73\x73","\x61\x30\x20"+d).prependTo(b);e.eq(0x0).attr("\x63\x6c\x61\x73\x73","\x61\x30")}}}}};$(function(){$("\x2e\x68\x65\x2d\x77\x72\x61\x70").live({mouseenter:function(){var b=$(this).find("\x2e\x68\x65\x2d\x76\x69\x65\x77").addClass("\x68\x65\x2d\x76\x69\x65\x77\x2d\x73\x68\x6f\x77");$("\x5b\x64\x61\x74\x61\x2d\x61\x6e\x69\x6d\x61\x74\x65\x5d",b).each(function(){var c=$(this).data("\x61\x6e\x69\x6d\x61\x74\x65");$(this).addClass(c)});$(this).find("\x2e\x68\x65\x2d\x7a\x6f\x6f\x6d").addClass("\x68\x65\x2d\x76\x69\x65\x77\x2d\x73\x68\x6f\x77")},mouseleave:function(){var b=$(this).find("\x2e\x68\x65\x2d\x76\x69\x65\x77").removeClass("\x68\x65\x2d\x76\x69\x65\x77\x2d\x73\x68\x6f\x77");$("\x5b\x64\x61\x74\x61\x2d\x61\x6e\x69\x6d\x61\x74\x65\x5d",b).each(function(){var c=$(this).data("\x61\x6e\x69\x6d\x61\x74\x65");$(this).removeClass(c)});$(this).find("\x2e\x68\x65\x2d\x7a\x6f\x6f\x6d").removeClass("\x68\x65\x2d\x76\x69\x65\x77\x2d\x73\x68\x6f\x77")},mousewheel:function(b,c,d,e){if($(this).find("\x2e\x68\x65\x2d\x73\x6c\x69\x64\x65\x72\x73").length==0x1){var f=$(this).find("\x2e\x68\x65\x2d\x73\x6c\x69\x64\x65\x72\x73");var g=e>0x0?0x1:-0x1;a.fn.switchImg(f,g);b.preventDefault()}else if($(this).find("\x2e\x68\x65\x2d\x7a\x6f\x6f\x6d").length==0x1){var f=$(this).find("\x2e\x68\x65\x2d\x7a\x6f\x6f\x6d");a.fn.changeZoom(f,b,c,d,e);b.preventDefault()}}});$("\x2e\x68\x65\x2d\x7a\x6f\x6f\x6d").live({mousemove:function(b){a.fn.moveZoom($(this),b)}});$("\x2e\x68\x65\x2d\x70\x72\x65").live("\x63\x6c\x69\x63\x6b",function(){var b=$(this).parents("\x2e\x68\x65\x2d\x77\x72\x61\x70").find("\x2e\x68\x65\x2d\x73\x6c\x69\x64\x65\x72\x73");a.fn.switchImg(b,-0x1)});$("\x2e\x68\x65\x2d\x6e\x65\x78\x74").live("\x63\x6c\x69\x63\x6b",function(){var b=$(this).parents("\x2e\x68\x65\x2d\x77\x72\x61\x70").find("\x2e\x68\x65\x2d\x73\x6c\x69\x64\x65\x72\x73");a.fn.switchImg(b,0x1)})});(function(b){var c=['\x44\x4f\x4d\x4d\x6f\x75\x73\x65\x53\x63\x72\x6f\x6c\x6c','\x6d\x6f\x75\x73\x65\x77\x68\x65\x65\x6c'];if(b.event.fixHooks){for(var e=c.length;e;){b.event.fixHooks[c[--e]]=b.event.mouseHooks}};b.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=c.length;e;){this.addEventListener(c[--e],d,false)}}else{this.onmousewheel=d}},teardown:function(){if(this.removeEventListener){for(var e=c.length;e;){this.removeEventListener(c[--e],d,false)}}else{this.onmousewheel=null}}};b.fn.extend({mousewheel:function(e){return e?this.bind("\x6d\x6f\x75\x73\x65\x77\x68\x65\x65\x6c",e):this.trigger("\x6d\x6f\x75\x73\x65\x77\x68\x65\x65\x6c")},unmousewheel:function(e){return this.unbind("\x6d\x6f\x75\x73\x65\x77\x68\x65\x65\x6c",e)}});function d(e){var f=e||window.event,g=[].slice.call(arguments,0x1),h=0x0,i=true,j=0x0,k=0x0;e=b.event.fix(f);e.type="\x6d\x6f\x75\x73\x65\x77\x68\x65\x65\x6c";if(f.wheelDelta){h=f.wheelDelta/0x78};if(f.detail){h=-f.detail/0x3};k=h;if(f.axis!==undefined&&f.axis===f.HORIZONTAL_AXIS){k=0x0;j=-0x1*h};if(f.wheelDeltaY!==undefined){k=f.wheelDeltaY/0x78};if(f.wheelDeltaX!==undefined){j=-0x1*f.wheelDeltaX/0x78};g.unshift(e,h,j,k);return(b.event.dispatch||b.event.handle).apply(this,g)}})(jQuery);

    // jQuery('.tp-banner').revolution({
        // delay: 9000,
        // startwidth: 1170,
        // startheight: 500,
        // hideThumbs: 10,
        // videoJsPath: "rs-plugin/videojs/"
    // });

    // $('#layerslider').layerSlider({
    	// autoStart : false,
    	// autoPlayVideos          : false,
        // pauseOnHover: true,
            // animateFirstSlide: false,
            // twoWaySlideshow: true,
            // skin: 'borderlessdark3d',
            // globalBGColor: 'transparent',
            // navStartStop: true,
            // navButtons: true,
            // showCircleTimer: false,
            // showBarTimer        : false,
            // thumbnailNavigation: 'hover',
            // lazyLoad: false,
            // hoverBottomNav : true,
            // cbInit: function (element) {},
            // cbStart: function (data) {},
            // cbStop: function (data) {},
            // cbPause: function (data) {},
            // cbAnimStart: function (data) {},
            // cbAnimStop: function (data) {},
            // cbPrev: function (data) {},
            // cbNext: function (data) {},
            // skinsPath: pluginDir + '/LayerSlider/static/skins/'
    // });
	
	function format(state) {
		var originalOption = state.element;
		var parentOpt      = $(originalOption).data('parent');
		return state.text + ' - ' + parentOpt;
	}
	
	$('select.category').select2({
		placeholder: "Select a Category",
		allowClear: true,
		maximumSelectionSize: 3,
		matcher: function(term, optText, els) {
			var allText = optText + els[0].parentNode.getAttribute('label')  || '';
			return (''+allText).toUpperCase().indexOf((''+term).toUpperCase()) >= 0;
		},
		formatSelection: format,
		escapeMarkup: function (m) {
			return m;
		}
	});
	
	$(document).on('click','[aria-label="Toolbar Toggle"]',function() {
		$('#mce_46').toggleClass('toggleDisplay');
		
		if($('#mce_46').css('display') == "none") {
			$('#mce_29').removeClass('mce-active').addClass('toggleActive');
		} else {
			$('#mce_29').addClass('mce-active').removeClass('toggleActive');
		}
	});
	
	
	// var choiceArr = [];
	// var txtArr    = [];
	// $("select.category").on('change', function(){ 
		// //choiceArr.length = 0;
		// //txtArr.length = 0;

		// txtArr = $(this).find('option:selected').map(function(){
		   // return $(this).text();
		// }).get();
    
		// choiceArr = $(this).find('option:selected').map(function(){
		   // return $(this).closest('optgroup').prop('label');
		// }).get();
		
		// console.log(txtArr);
		// console.log(choiceArr);		

		// for (var i = 0; i < choiceArr.length; i++) {
			// $('.select2-search-choice:eq(' + i + ') div').text(function (index, old) {
				// //console.log(old);	
				// return txtArr[i] + ' - ' + choiceArr[i];
				// //if (old.indexOf(choiceArr[i]) < 0) {
					// //return old.replace(/\s/g, '').concat(' - ' + choiceArr[i]);
				// //}
				
			// });
		// }
		
		
		
	// });


	$('article.description-wrapper').readmore({
	    speed: 500,
	    maxHeight: 100,
	    moreLink: '<a href="#">Show more</a>',
	    lessLink: '<a href="#">Show less</a>'
	});
	
	
	
	// $('.vid-feeling').eq(0).click(function() {
		// var liked_number = +$('span.like_count').html();
		
		// if($(this).hasClass('liked')) {
			// $(this).removeClass('liked');
			// $('span.like_count').html(--liked_number);
		// }
		// else { 
			// $(this).addClass('liked').next().removeClass('disliked');
			// $('span.like_count').html(++liked_number);
		// }
	// });

	// $('.vid-feeling').eq(1).click(function() {
		// if($(this).hasClass('disliked')) { 
			// $(this).removeClass('disliked');
		// }
		// else { 
			// $(this).addClass('disliked').prev().removeClass('liked');
		// }
	// });	
	//Sort random function
    function random(owlSelector){
		owlSelector.children().sort(function(){
			return Math.round(Math.random()) - 0.5;
		}).each(function(){
			$(this).appendTo(owlSelector);
		});
	}
  
	$('.owl-carousel').each(function() {
		var $this = $(this);
		$this.owlCarousel({
			loop:true,
			margin:10,
			responsiveClass:true,
			dots: false,
			slideBy: 1,
			smartSpeed: 500,
			lazyLoad: true,
			mouseDrag: false,
			nav: true,
			responsive:{
				0:{
					items:1
				},
				500:{
					items:2
				},
				800:{
					items:3
				},
				1000:{
					items:4
				}
			},
			navText: [
				"<",
				">"
			],
			onInitialize: function(elem){
				//Parameter elem pointing to $("#owl-demo")
				random($this);
			}
		});
	});
	
	$('.owl-controls').each(function() {
		var smartControl = $(this).closest('.owl-carousel').prev().find('.smart-control');
		$(this).appendTo(smartControl);
	});
	
	$(".rounded-img").load(function() {
		$(this).wrap(function(){
		  return '<span class="' + $(this).attr('class') + '" style="background:url(' + $(this).attr('src') + ') no-repeat; width: ' + $(this).width() + '100%; height: ' + $(this).height() + 'px;" />';
		});
		$(this).css("opacity","0");
	});
	
	start = 0;
	jQuery(window).on('keydown',function(e){	
		if(e.keyCode == 38){
			e.stopPropagation();
			e.preventDefault();
			if (start == 0){
				start = (jQuery("#sf_val li.sf_lnk").length - 1);
				//console.log(start);
			}else{
				start--;
				if (start < 0){
					start = (jQuery("#sf_val li.sf_lnk").length - 1);  
				}
				var selected = $('.sf_lnk.sf_selected');
				if(!selected.hasClass('sf_more')) {
					container = selected.closest('.sf_result_container'),
					positionTop = selected.offset().top - container.offset().top;  
					container.scrollTop(container.scrollTop() + positionTop
														- container.height()/2 + selected.height()/2);
				} else {
					var more = $('.sf_lnk.sf_selected.sf_more'),
						container = selected.prev().find('.sf_result_container'),
						last = container.find('.sf_lnk').last();
						positionTop = selected.offset().top;  
					container.scrollTop(container.scrollTop() + last.position().top);
					//console.log(positionTop);
				}	
			}
			jQuery("#sf_val li.sf_lnk").removeClass('sf_selected');
			jQuery("#sf_val li.sf_lnk").eq(start).addClass('sf_selected').focus();
		}

		else if(e.keyCode == 40){
			e.stopPropagation();
			e.preventDefault();
			if (start == 0){
				start = 1; 
			}else{
				start++;
				if (start > (jQuery("#sf_val li.sf_lnk").length - 1)){
					start = 0;
					jQuery("#sf_val li.sf_lnk").removeClass('sf_selected').focus();
					jQuery("#sf_val li.sf_lnk").eq(start).addClass('sf_selected').focus();
				}
				var selected = $('.sf_lnk.sf_selected');
				if(!selected.hasClass('sf_more')) {
					container = selected.closest('.sf_result_container'),
					positionTop = selected.offset().top - container.offset().top;  
					container.scrollTop(container.scrollTop() + positionTop
														- container.height()/2 + selected.height()/2);
				}
			}
			jQuery("#sf_val li.sf_lnk").removeClass('sf_selected');
			jQuery("#sf_val li.sf_lnk").eq(start).addClass('sf_selected').focus();
		} 
		else {
			setTimeout(function(){start = 0;}, 500);
		}
	});

	$('#txtSearch').click(function(e) {
		if(this.value.length > 1) {
			e.stopPropagation();
			$('#sf_sb').show();
		}	
	});
	
	$('#btnSearch').click(function(e) {
		if($.trim($('#txtSearch').val()).length < 2 || $('#txtSearch').val() === "Search") {
			e.stopPropagation;
			e.preventDefault();
		}
	});
	
    // if (typeof $.fn.layerSlider == "undefined") {
        // lsShowNotice('layerslider_1', 'jquery');
    // } else {
        // $("#layerslider_1").layerSlider({
            // autoStart: false,
            // skin: 'borderlessdark',
            // autoPlayVideos: false,
            // skinsPath: 'http://localhost/gv-3.5/wp-content/plugins/layerslider/static/skins/'
        // })
    // }
	
	jQuery("<link>").attr({rel: "stylesheet", type: "text/css", media: "all", href: "http://localhost/gv-3.5/wp-content/plugins/slider-pro/css/slider/video-js.min.css"}).appendTo(jQuery("head"));

	jQuery(document).ready(function() {
		jQuery("#slider-pro-1").advancedSlider({
			width: '100%', 
			height: 430, 
			responsive: 1, 
			skin: 'glossy-curved-square-gray', 
			slideshow: 0,
			slideshowDelay: 10000,
			slideButtons: 0,
			fullscreenControlsToggle: 0, 
			timerStrokeColor1: '#ffffff', 
			timerStrokeColor2: '#000000', 
			timerStrokeOpacity1: 0.3, 
			timerStrokeOpacity2: 0.3, 
			timerStrokeWidth1: 6, 
			timerStrokeWidth2: 3, 
			effectType: 'fade', 
			overrideTransition: 1, 
			keyboardNavigation: 1,
			slideProperties: {
				0: {effectType: 'random'}, 
				1: {effectType: 'slide', slideEasing: 'easeInOutExpo'}, 
				3: {effectType: 'slide', slideEasing: 'easeInOutExpo'}, 
				5: {effectType: 'slide', slideEasing: 'easeInOutExpo'}
			}
		});
	});
	
	/*$('#post_form').validate_popover({
		onsubmit: false, popoverPosition: 'right',
		rules: {
			"post_title": {
				required: true,
				minlength: 5
			}
		},
	    messages: {
			"post_title": {
				 required: "Required!",
				 minlength: "this field must contain at least {0} characters"
			}
		}
	
	});

	$("input[type=submit]").click(function(ev) {
		ev.preventDefault();
		
		$('#post_form').validate().form();

		$('.wpuf-el.form-group').not('.post_content').each(function() {
			var $this = $(this),
				index = $(this).index('.wpuf-el.form-group'),
				col   = $this.find('.col-lg-8'),
				elOffsetLeft = parseInt(col.offset().left,10),
				elPaddingLeft = parseInt(col.css('padding-left'),10),
				elPaddingRight = parseInt(col.css('padding-right'),10),
				elOffsetTop = parseInt(col.offset().top,10),
				elPaddingTop = parseInt(col.css('padding'),10),
				elHeight = parseInt(col.outerHeight(),10),
				elWidth = parseInt(col.outerWidth(),10),
				elLeft = elOffsetLeft + elWidth - elPaddingRight + 'px',
				elTop = elOffsetTop - elPaddingTop - elHeight;
			if(index > 0) {
				index = index - 1
			}
			$('.popover').eq(index).css('left',elLeft);
			if(index == 1) {
				var elLeft = elOffsetLeft + elPaddingLeft + $('#s2id_category').outerWidth() + 'px';
				$('.popover').eq(index).css('left',elLeft);
			}
		});

			

		return false;
	});

	$(window).resize(function() {
		$.validator.reposition();
		$('.wpuf-el.form-group').not('.post_content').each(function() {
			var $this = $(this),
				index = $(this).index('.wpuf-el.form-group'),
				col   = $this.find('.col-lg-8'),
				elOffsetLeft = parseInt(col.offset().left,10),
				elPaddingLeft = parseInt(col.css('padding-left'),10),
				elPaddingRight = parseInt(col.css('padding-right'),10),
				elOffsetTop = parseInt(col.offset().top,10),
				elPaddingTop = parseInt(col.css('padding'),10),
				elHeight = parseInt(col.outerHeight(),10),
				elWidth = parseInt(col.outerWidth(),10),
				elLeft = elOffsetLeft + elWidth - elPaddingRight + 'px',
				elTop = elOffsetTop - elPaddingTop - elHeight;
			if(index > 0) {
				index = index - 1
			}
			$('.popover').eq(index).css('left',elLeft);
			if(index == 1) {
				var elLeft = elOffsetLeft + elPaddingLeft + $('#s2id_category').outerWidth() + 'px';
				$('.popover').eq(index).css('left',elLeft);
			}
		});
	});*/
	(function($) {
    $.fn.bootstrapValidator.validators.tagsValidator = {
			validate: function(validator, $field, options) {
				var value = $field.val();
				
			}
		};
	}(window.jQuery));
	
	$('#post_form').bootstrapValidator({
		//excluded: [':disabled', ':hidden', ':not(:visible)'],
		live: 'submitted',
		message: 'This value is not valid',
        feedbackIcons: {
            valid: 'glyphicon glyphicon-ok',
            invalid: 'glyphicon glyphicon-remove',
            validating: 'glyphicon glyphicon-refresh'
        },
        fields: {
            post_title: {
                validators: {
                    notEmpty: {
                        message: "You can't leave this empty."
                    },
					stringLength: {
						max: 50,
						min: 6,	
						message: 'The title must be more than 5 and less than 50 characters'
					}
                }
            },
			'category[]': {
				validators: {
					notEmpty: {
                        message: "You can't leave this empty."
                    }
				}
			},
			'tags': {
				validators: {
					notEmpty: {
                        message: "You can't leave this empty."
                    }
				}
			},
			'post_field_embed_code': {
				validators: {
					notEmpty: {
                        message: "You can't leave this empty."
                    }
				}
			}
        },
		submitHandler: function(validator, form, submitButton) {
			//validator.defaultSubmit();
		}
    });
	
	$('#tags').on('tokenfield:initialize', function (e) {
		//$('#post_form').data('bootstrapValidator').validateField('tags').updateStatus('tags', 'NOT_VALIDATED');
		//$('#post_form').bootstrapValidator('validateField', 'tags').bootstrapValidator('updateStatus', 'tags', 'VALIDATED');
	}).on('tokenfield:createtoken', function (e) {
		$('#post_form').data('bootstrapValidator').validateField('tags').updateStatus('tags', 'NOT_VALIDATED');
		//$('#post_form').bootstrapValidator('validateField', 'tags').bootstrapValidator('updateStatus', 'tags', 'VALIDATED');		
	}).on('tokenfield:createdtoken', function (e) {
		$('#post_form').data('bootstrapValidator').validateField('tags').updateStatus('tags', 'NOT_VALIDATED');
		if($('.form-group.has-error').length) {
			$('.tokenfield').closest('.form-group').addClass('has-success');
			$('#tags').after('<i class="form-control-feedback glyphicon glyphicon-ok" data-bv-icon-for="tags" style="display: block;"></i>');
		}
	}).on('tokenfield:edittoken', function (e) {
		e.preventDefault();
		e.stopPropagation();
	}).on('tokenfield:removedtoken', function (e) {
		if( this.value.replace(/\s+/g, '').toLowerCase().length == 0 && $('.tags > .form-group').hasClass('has-success')) {
			$('#post_form').data('bootstrapValidator').updateStatus('tags', 'NOT_VALIDATED').validateField('tags');
		}
	});
	
	$("input[type=submit]").click(function(ev) {
		var colWidth = parseInt($('li.category').find('.col-lg-8').width(),10),
			select2Width = parseInt($('#s2id_category').width(),10),
			right = colWidth - select2Width + 15;
		$('li.category i').css('right',right + 'px');
	});
	
	// Hide all popover
	$('body').on('mousedown', function (e) {
		$('[data-toggle="popover"]').each(function () {
			//the 'is' for buttons that trigger popups
			//the 'has' for icons within a button that triggers a popup
			if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {
				$(this).popover('hide');
			}
		});
	});
	
	$('#post_title,#s2id_category,.tokenfield,#wp-post_content-wrap').attr({"data-toggle": 'popover'});
	$('[data-toggle="popover"]').popover({trigger: 'focus',container:'body'});
	// $('#post_title,#s2id_category,.tokenfield').click(function() {
	// 	$('#wp-post_content-wrap').popover('hide');
	// });
	
	$('[data-toggle="popover"]').on('click', function (e) {
		$('[data-toggle="popover"]').not(this).popover('hide');
	});
	
	$(document.body).on('click','.popover-content',function() {
		$('[data-toggle="popover"]').popover('hide');
	});
	
	$(document.body).on('click','button[role="presentation"]',function(e) {
		$("#wp-post_content-wrap").popover("hide");
	});
	
	// $(document.body).on('focus','.tokenfield',function(e) {
		// e.stopImmediatePropagation();
		// $(this).popover('show');
	// });
	
	$('#post_title').attr({"data-content": "Pick a name for your video."});
	$('#wp-post_content-wrap').attr({"data-content": "Provide some details about this video."});
	$('#s2id_category').attr({"data-content": "Choose any category which your video belongs to. Maximum of three categories allowed."});
	$('.tokenfield').attr({"data-content": "Tags are keywords or terms that describe your video. You can use up to 10 tags for each video. Please enter the relevant tags only."});
});